{"version":3,"file":"ej2-ribbon.umd.min.js","sources":["../src/ribbon/base/utils.js","../src/ribbon/base/interface.js","../src/ribbon/models/ribbon-button-settings.js","../src/ribbon/models/ribbon-checkbox-settings.js","../src/ribbon/models/ribbon-colorpicker-settings.js","../src/ribbon/models/ribbon-combobox-settings.js","../src/ribbon/models/ribbon-dropdown-settings.js","../src/ribbon/models/ribbon-splitbutton-settings.js","../src/ribbon/models/ribbon-tooltip.js","../src/ribbon/models/ribbon-group-button-item.js","../src/ribbon/models/ribbon-group-button-settings.js","../src/ribbon/models/ribbon-gallery-item.js","../src/ribbon/models/ribbon-gallery-group.js","../src/ribbon/models/ribbon-gallery-settings.js","../src/ribbon/models/ribbon-item.js","../src/ribbon/models/ribbon-collection.js","../src/ribbon/models/ribbon-group.js","../src/ribbon/models/ribbon-tab.js","../src/ribbon/models/ribbon-file-menu-settings.js","../src/ribbon/models/ribbon-back-button.js","../src/ribbon/models/ribbon-backstage-item.js","../src/ribbon/models/ribbon-back-stage-settings.js","../src/ribbon/models/ribbon-contextual-tab-settings.js","../src/ribbon/base/constant.js","../src/ribbon/items/ribbon-button.js","../src/ribbon/items/ribbon-checkbox.js","../src/ribbon/items/ribbon-colorpicker.js","../src/ribbon/items/ribbon-combobox.js","../src/ribbon/items/ribbon-dropdown.js","../src/ribbon/items/ribbon-splitbutton.js","../src/ribbon/items/ribbon-groupbutton.js","../src/ribbon/items/ribbon-gallery.js","../src/ribbon/base/ribbon.js","../src/ribbon/modules/ribbon-filemenu.js","../src/ribbon/modules/ribbon-backstage.js","../src/ribbon/modules/ribbon-contextualtab.js","../src/ribbon/modules/ribbon-keytip.js"],"sourcesContent":["import { compile, getComponent, select, addClass } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport * as constants from './constant';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/**\n * Gets index value.\n *\n * @param {Array} arr - Gets the array to find index.\n * @param {boolean} condition - Defines whether index matches with the value.\n * @returns {number} - Gets the index value.\n * @hidden\n */\nexport function getIndex(arr, condition) {\n    for (var i = 0; i < arr.length; i++) {\n        if (condition(arr[parseInt(i.toString(), 10)], i)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Gets template content based on the template property value.\n *\n * @param {string | HTMLElement| Function} template - Template property value.\n * @returns {Function} - Return template function.\n * @hidden\n */\nexport function getTemplateFunction(template) {\n    if (typeof template === 'string') {\n        var content = '';\n        try {\n            var tempEle = select(template);\n            if (tempEle) {\n                //Return innerHTML incase of jsrenderer script else outerHTML\n                content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n            }\n            else {\n                content = template;\n            }\n        }\n        catch (e) {\n            content = template;\n        }\n        return compile(content);\n    }\n    else {\n        /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n        return compile(template);\n    }\n}\n/**\n * Gets the ribbon item\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @param {RibbonItemType} type - Gets the type of the item.\n * @returns {itemProps} - Gets the ribbon item.\n * @hidden\n */\nexport function getItem(tabs, id, type) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                for (var l = 0; l < collection.items.length; l++) {\n                    var item = collection.items[parseInt(l.toString(), 10)];\n                    if ((id && item.id === id) || (type && item.type === type)) {\n                        return {\n                            item: item, collection: collection, group: group,\n                            tabIndex: i, groupIndex: j, collectionIndex: k, itemIndex: l\n                        };\n                    }\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon collection.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon collection.\n * @hidden\n */\nexport function getCollection(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                if (collection.id === id) {\n                    return {\n                        collection: collection, group: group,\n                        tabIndex: i, groupIndex: j, collectionIndex: k\n                    };\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon group.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon group.\n * @hidden\n */\nexport function getGroup(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            if (group.id === id) {\n                return {\n                    group: group, tabIndex: i, groupIndex: j\n                };\n            }\n        }\n    }\n    return null;\n}\n/**\n * @param {HTMLElement} element - Gets the element to be destroyed.\n * @param {string} moduleName - Gets the module name.\n * @returns {void}\n * @hidden\n */\nexport function destroyControl(element, moduleName) {\n    var control = getComponent(element, moduleName);\n    control.destroy();\n}\n/**\n * Updates common properties.\n *\n * @param {HTMLElement} element - Gets the element to be updated.\n * @param {string} moduleName - Gets the module name.\n * @param {commonProperties} commonProp - Gets the common properties to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateCommonProperty(element, moduleName, commonProp) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(commonProp);\n}\n/**\n * Updates disabled control.\n *\n * @param {HTMLElement} element - Gets the element to be disabled.\n * @param {string} moduleName - Gets the module name.\n * @param {boolean} disable - Defines whether the control to be disabled or not.\n * @returns {void}\n * @hidden\n */\nexport function updateControlDisabled(element, moduleName, disable) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(moduleName === 'combobox' ? { enabled: !disable } : { disabled: disable });\n}\n/**\n * Gets the ribbon item element.\n *\n * @param {Ribbon} parent - Gets the parent element.\n * @param {string} id - Gets the ID of the item.\n * @param {itemProps} itemProp - Gets the ribbon item.\n * @returns {HTMLElement} - Gets the ribbon item element.\n * @hidden\n */\nexport function getItemElement(parent, id, itemProp) {\n    if (!itemProp) {\n        itemProp = getItem(parent.tabs, id);\n        if (!itemProp) {\n            return null;\n        }\n    }\n    var contentEle = parent.tabObj.items[itemProp.tabIndex].content;\n    if (contentEle.innerHTML === '') {\n        return null;\n    }\n    if (parent.activeLayout === RibbonLayout.Classic) {\n        if (itemProp.item.displayOptions & DisplayMode.Classic) {\n            contentEle = (itemProp.group.isCollapsed) ? parent.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle)\n                : contentEle;\n            return contentEle.querySelector('#' + id);\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n        var ele = (itemProp.item.displayOptions & DisplayMode.Simplified) ?\n            contentEle.querySelector('#' + itemProp.item.id) : null;\n        // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n        if (!ele) {\n            var dropdown = itemProp.group.enableGroupOverflow ?\n                getComponent(contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID), DropDownButton)\n                : parent.overflowDDB;\n            ele = dropdown.target.querySelector('#' + itemProp.item.id);\n        }\n        return ele;\n    }\n}\n/**\n * @param {RibbonTooltipModel} tooltip - Gets the property of tooltip.\n * @returns {boolean} - Gets whether the tooltip is present or not.\n * @hidden\n */\nexport function isTooltipPresent(tooltip) {\n    return (tooltip.content || tooltip.iconCss || tooltip.title || tooltip.id || tooltip.cssClass) ? true : false;\n}\n/**\n * Sets content for tooltip.\n *\n * @param {TooltipEventArgs} args - Gets the argument of tooltip.\n * @param {Tooltip} tooltip - Gets the tooltip to set the content.\n * @param {ribbonTooltipData} tooltipData - Gets the tooltip data.\n * @returns {void}\n * @hidden\n */\nexport function setToolTipContent(args, tooltip, tooltipData) {\n    var targetId = args.target.getAttribute('id');\n    var dataObj = tooltipData.filter(function (e) { return e.id === targetId; })[0];\n    var data = dataObj.data;\n    var content = tooltip.createElement('div', {\n        id: data.id ? constants.RIBBON_TOOLTIP_CONTAINER + '_' + data.id : constants.RIBBON_TOOLTIP_CONTAINER\n    });\n    tooltip.element.append(content);\n    if (data.title) {\n        var header = tooltip.createElement('div', {\n            innerHTML: data.title,\n            className: constants.RIBBON_TOOLTIP_TITLE\n        });\n        content.appendChild(header);\n    }\n    var textContainer = tooltip.createElement('div', {\n        className: constants.RIBBON_TEXT_CONTAINER\n    });\n    content.appendChild(textContainer);\n    if (data.iconCss) {\n        var customCss = tooltip.createElement('div', {\n            className: data.iconCss + ' ' + constants.RIBBON_TOOLTIP_ICON\n        });\n        textContainer.appendChild(customCss);\n    }\n    if (data.content) {\n        var tooltipContent = tooltip.createElement('div', {\n            innerHTML: data.content,\n            className: constants.RIBBON_TOOLTIP_CONTENT\n        });\n        textContainer.appendChild(tooltipContent);\n    }\n    tooltip.setProperties({\n        content: content,\n        cssClass: data.cssClass ? data.cssClass + ' ' + constants.RIBBON_TOOLTIP : constants.RIBBON_TOOLTIP\n    });\n}\n/**\n * Creates tooltip.\n *\n * @param {HTMLElement} element - Gets the element to add tooltip.\n * @param {Ribbon} ribbon - Gets the ribbon.\n * @returns {void}\n * @hidden\n */\nexport function createTooltip(element, ribbon) {\n    var ribbonTooltip = new Tooltip({\n        target: '.' + constants.RIBBON_TOOLTIP_TARGET,\n        beforeRender: beforeTooltipRender.bind(this),\n        windowCollision: true\n    });\n    ribbonTooltip.appendTo(element);\n    /**\n     * @param {TooltipEventArgs} args - Gets the tooltip argument.\n     * @returns {void}\n     * @hidden\n     */\n    function beforeTooltipRender(args) {\n        setToolTipContent(args, ribbonTooltip, ribbon.tooltipData);\n    }\n}\n/**\n * Destroys tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be destroyed.\n * @returns {void}\n * @hidden\n */\nexport function destroyTooltip(element) {\n    var control = getComponent(element, Tooltip);\n    control.destroy();\n}\n/**\n * Updates tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be Updated.\n * @param {commonProperties} prop - Gets the property to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateTooltipProp(element, prop) {\n    var control = getComponent(element, Tooltip);\n    control.setProperties(prop);\n}\n/**\n * Sets the HTML attributes of an element\n *\n * @param {HTMLElement} element - The HTML element for which attributes are to be updated.\n * @param {commonProperties} attributes - An object containing key-value pairs of attributes to be updated.\n * @returns {void}\n * @hidden\n */\nexport function setCustomAttributes(element, attributes) {\n    for (var key in attributes) {\n        if (key === 'class') {\n            var elementClass = attributes['class'].replace(/\\s+/g, ' ').trim();\n            if (elementClass) {\n                addClass([element], elementClass.split(' '));\n            }\n        }\n        else if (key === 'style') {\n            var prevStyles = element.getAttribute('style') || '';\n            var value = \"\" + prevStyles + attributes[\"\" + key];\n            element.setAttribute(\"\" + key, value);\n        }\n        else {\n            element.setAttribute(key, attributes[\"\" + key]);\n        }\n    }\n}\n","/**\n * Defines the layout types of ribbon.\n */\nexport var RibbonLayout;\n(function (RibbonLayout) {\n    /**\n     * Displays the ribbon tab content in classic layout.\n     */\n    RibbonLayout[\"Classic\"] = \"Classic\";\n    /**\n     * Displays the ribbon tab content in simplified layout.\n     */\n    RibbonLayout[\"Simplified\"] = \"Simplified\";\n})(RibbonLayout || (RibbonLayout = {}));\n/**\n * Defines the alignment of the items in the ribbon group.\n */\nexport var ItemOrientation;\n(function (ItemOrientation) {\n    /**\n     * Displays the collection of items in rows.\n     */\n    ItemOrientation[\"Row\"] = \"Row\";\n    /**\n     * Displays the collection of items in column.\n     */\n    ItemOrientation[\"Column\"] = \"Column\";\n})(ItemOrientation || (ItemOrientation = {}));\n/**\n * Defines the current size of the ribbon item in normal mode.\n *\n * @aspNumberEnum\n */\nexport var RibbonItemSize;\n(function (RibbonItemSize) {\n    /**\n     * The item appears with large icon and text at the bottom.\n     */\n    RibbonItemSize[RibbonItemSize[\"Large\"] = 4] = \"Large\";\n    /**\n     * The item appears with small icon and text at the right.\n     */\n    RibbonItemSize[RibbonItemSize[\"Medium\"] = 2] = \"Medium\";\n    /**\n     * The item appears with small icon only.\n     */\n    RibbonItemSize[RibbonItemSize[\"Small\"] = 1] = \"Small\";\n})(RibbonItemSize || (RibbonItemSize = {}));\n/**\n * Defines how to show an item in ribbon simplified layout.\n *\n * @aspNumberEnum\n */\nexport var DisplayMode;\n(function (DisplayMode) {\n    /**\n     * The item appears in the classic layout group.\n     */\n    DisplayMode[DisplayMode[\"Classic\"] = 4] = \"Classic\";\n    /**\n     * The item appears in the simplified layout group.\n     */\n    DisplayMode[DisplayMode[\"Simplified\"] = 2] = \"Simplified\";\n    /**\n     * The item appears in overflow popup.\n     */\n    DisplayMode[DisplayMode[\"Overflow\"] = 1] = \"Overflow\";\n    /**\n     * The item appears in classic layout group, simplified layout group, and overflow popup based on ribbon overflow state.\n     */\n    DisplayMode[DisplayMode[\"Auto\"] = 7] = \"Auto\";\n})(DisplayMode || (DisplayMode = {}));\n/**\n * Defines the type of the ribbon item.\n */\nexport var RibbonItemType;\n(function (RibbonItemType) {\n    /**\n     * Renders button as ribbon item.\n     */\n    RibbonItemType[\"Button\"] = \"Button\";\n    /**\n     * Renders checkbox as ribbon item.\n     */\n    RibbonItemType[\"CheckBox\"] = \"CheckBox\";\n    /**\n     * Renders color picker as ribbon item.\n     */\n    RibbonItemType[\"ColorPicker\"] = \"ColorPicker\";\n    /**\n     * Renders combobox as ribbon item.\n     */\n    RibbonItemType[\"ComboBox\"] = \"ComboBox\";\n    /**\n     * Renders dropdownbutton as ribbon item.\n     */\n    RibbonItemType[\"DropDown\"] = \"DropDown\";\n    /**\n     * Renders splitbutton as ribbon item.\n     */\n    RibbonItemType[\"SplitButton\"] = \"SplitButton\";\n    /**\n     * Renders the group button content as ribbon item.\n     */\n    RibbonItemType[\"GroupButton\"] = \"GroupButton\";\n    /**\n     * Renders the gallery as ribbon item.\n     */\n    RibbonItemType[\"Gallery\"] = \"Gallery\";\n    /**\n     * Renders the template content as ribbon item.\n     */\n    RibbonItemType[\"Template\"] = \"Template\";\n})(RibbonItemType || (RibbonItemType = {}));\n/**\n * Defines the alignment of the items in the ribbon group.\n */\nexport var RibbonGroupButtonSelection;\n(function (RibbonGroupButtonSelection) {\n    /**\n     * Allows selecting single button from button group.\n     */\n    RibbonGroupButtonSelection[\"Single\"] = \"Single\";\n    /**\n     * Allows selecting multiple buttons from button group.\n     */\n    RibbonGroupButtonSelection[\"Multiple\"] = \"Multiple\";\n})(RibbonGroupButtonSelection || (RibbonGroupButtonSelection = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon button item.\n */\nvar RibbonButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonButtonSettings, _super);\n    function RibbonButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of button.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonButtonSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"clicked\", void 0);\n    return RibbonButtonSettings;\n}(ChildProperty));\nexport { RibbonButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon checkbox item.\n */\nvar RibbonCheckBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonCheckBoxSettings, _super);\n    function RibbonCheckBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of checkbox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCheckBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonCheckBoxSettings.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RibbonCheckBoxSettings.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonCheckBoxSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"change\", void 0);\n    return RibbonCheckBoxSettings;\n}(ChildProperty));\nexport { RibbonCheckBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon color picker.\n */\nvar RibbonColorPickerSettings = /** @class */ (function (_super) {\n    __extends(RibbonColorPickerSettings, _super);\n    function RibbonColorPickerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of colorpicker.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonColorPickerSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(10)\n    ], RibbonColorPickerSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonColorPickerSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonColorPickerSettings.prototype, \"label\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Property('Palette')\n    ], RibbonColorPickerSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonColorPickerSettings.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonColorPickerSettings.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property('#008000ff')\n    ], RibbonColorPickerSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonColorPickerSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"select\", void 0);\n    return RibbonColorPickerSettings;\n}(ChildProperty));\nexport { RibbonColorPickerSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property, Complex } from '@syncfusion/ej2-base';\nimport { FieldSettings } from '@syncfusion/ej2-dropdowns';\n/**\n * Defines the ribbon combobox item.\n */\nvar RibbonComboBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonComboBoxSettings, _super);\n    function RibbonComboBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of combobox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonComboBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonComboBoxSettings.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"autofill\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonComboBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonComboBoxSettings.prototype, \"label\", void 0);\n    __decorate([\n        Property([])\n    ], RibbonComboBoxSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], RibbonComboBoxSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property('Contains')\n    ], RibbonComboBoxSettings.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"index\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], RibbonComboBoxSettings.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], RibbonComboBoxSettings.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], RibbonComboBoxSettings.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property('None')\n    ], RibbonComboBoxSettings.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property('150px')\n    ], RibbonComboBoxSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonComboBoxSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"select\", void 0);\n    return RibbonComboBoxSettings;\n}(ChildProperty));\nexport { RibbonComboBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon DropDownButton item.\n */\nvar RibbonDropDownSettings = /** @class */ (function (_super) {\n    __extends(RibbonDropDownSettings, _super);\n    function RibbonDropDownSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonDropDownSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonDropDownSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonDropDownSettings.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonDropDownSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"select\", void 0);\n    return RibbonDropDownSettings;\n}(ChildProperty));\nexport { RibbonDropDownSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon SplitButton item.\n */\nvar RibbonSplitButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonSplitButtonSettings, _super);\n    function RibbonSplitButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonSplitButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonSplitButtonSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"target\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonSplitButtonSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"select\", void 0);\n    return RibbonSplitButtonSettings;\n}(ChildProperty));\nexport { RibbonSplitButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon tooltip.\n */\nvar RibbonTooltip = /** @class */ (function (_super) {\n    __extends(RibbonTooltip, _super);\n    function RibbonTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"title\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"iconCss\", void 0);\n    return RibbonTooltip;\n}(ChildProperty));\nexport { RibbonTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property, Complex } from '@syncfusion/ej2-base';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon group button settings.\n */\nvar RibbonGroupButtonItem = /** @class */ (function (_super) {\n    __extends(RibbonGroupButtonItem, _super);\n    function RibbonGroupButtonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of group button.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonGroupButtonItem.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonGroupButtonItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroupButtonItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroupButtonItem.prototype, \"keyTip\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], RibbonGroupButtonItem.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroupButtonItem.prototype, \"selected\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonGroupButtonItem.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGroupButtonItem.prototype, \"beforeClick\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGroupButtonItem.prototype, \"click\", void 0);\n    return RibbonGroupButtonItem;\n}(ChildProperty));\nexport { RibbonGroupButtonItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonGroupButtonItem } from './ribbon-group-button-item';\n/**\n * Defines the ribbon group button settings.\n */\nvar RibbonGroupButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonGroupButtonSettings, _super);\n    function RibbonGroupButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], RibbonGroupButtonSettings.prototype, \"header\", void 0);\n    __decorate([\n        Property('Single')\n    ], RibbonGroupButtonSettings.prototype, \"selection\", void 0);\n    __decorate([\n        Collection([], RibbonGroupButtonItem)\n    ], RibbonGroupButtonSettings.prototype, \"items\", void 0);\n    return RibbonGroupButtonSettings;\n}(ChildProperty));\nexport { RibbonGroupButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from \"@syncfusion/ej2-base\";\n/**\n * Defines the ribbon gallery item.\n */\nvar RibbonGalleryItem = /** @class */ (function (_super) {\n    __extends(RibbonGalleryItem, _super);\n    function RibbonGalleryItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], RibbonGalleryItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGalleryItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonGalleryItem.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGalleryItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGalleryItem.prototype, \"disabled\", void 0);\n    return RibbonGalleryItem;\n}(ChildProperty));\nexport { RibbonGalleryItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from \"@syncfusion/ej2-base\";\nimport { RibbonGalleryItem } from \"./ribbon-gallery-item\";\n/**\n * Defines the ribbon gallery group.\n */\nvar RibbonGalleryGroup = /** @class */ (function (_super) {\n    __extends(RibbonGalleryGroup, _super);\n    function RibbonGalleryGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], RibbonGalleryItem)\n    ], RibbonGalleryGroup.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGalleryGroup.prototype, \"header\", void 0);\n    __decorate([\n        Property('auto')\n    ], RibbonGalleryGroup.prototype, \"itemWidth\", void 0);\n    __decorate([\n        Property('auto')\n    ], RibbonGalleryGroup.prototype, \"itemHeight\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGalleryGroup.prototype, \"cssClass\", void 0);\n    return RibbonGalleryGroup;\n}(ChildProperty));\nexport { RibbonGalleryGroup };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property, Event } from \"@syncfusion/ej2-base\";\nimport { RibbonGalleryGroup } from \"./ribbon-gallery-group\";\n/**\n * Defines the ribbon gallery settings.\n */\nvar RibbonGallerySettings = /** @class */ (function (_super) {\n    __extends(RibbonGallerySettings, _super);\n    function RibbonGallerySettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], RibbonGalleryGroup)\n    ], RibbonGallerySettings.prototype, \"groups\", void 0);\n    __decorate([\n        Property(3)\n    ], RibbonGallerySettings.prototype, \"itemCount\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonGallerySettings.prototype, \"selectedItemIndex\", void 0);\n    __decorate([\n        Property('auto')\n    ], RibbonGallerySettings.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('auto')\n    ], RibbonGallerySettings.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGallerySettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGallerySettings.prototype, \"popupTemplate\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGallerySettings.prototype, \"popupOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGallerySettings.prototype, \"popupClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGallerySettings.prototype, \"itemHover\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGallerySettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGallerySettings.prototype, \"beforeSelect\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGallerySettings.prototype, \"select\", void 0);\n    return RibbonGallerySettings;\n}(ChildProperty));\nexport { RibbonGallerySettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Complex, Property } from '@syncfusion/ej2-base';\nimport { RibbonItemSize, DisplayMode } from '../base/interface';\nimport { RibbonButtonSettings } from './ribbon-button-settings';\nimport { RibbonCheckBoxSettings } from './ribbon-checkbox-settings';\nimport { RibbonColorPickerSettings } from './ribbon-colorpicker-settings';\nimport { RibbonComboBoxSettings } from './ribbon-combobox-settings';\nimport { RibbonDropDownSettings } from './ribbon-dropdown-settings';\nimport { RibbonSplitButtonSettings } from './ribbon-splitbutton-settings';\nimport { RibbonTooltip } from './ribbon-tooltip';\nimport { RibbonGroupButtonSettings } from './ribbon-group-button-settings';\nimport { RibbonGallerySettings } from './ribbon-gallery-settings';\n/**\n * Defines the ribbon item.\n */\nvar RibbonItem = /** @class */ (function (_super) {\n    __extends(RibbonItem, _super);\n    function RibbonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of item.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonItem.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"keyTip\", void 0);\n    __decorate([\n        Property(RibbonItemSize.Medium)\n    ], RibbonItem.prototype, \"activeSize\", void 0);\n    __decorate([\n        Property(RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n    ], RibbonItem.prototype, \"allowedSizes\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonItem.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Button')\n    ], RibbonItem.prototype, \"type\", void 0);\n    __decorate([\n        Property(DisplayMode.Auto)\n    ], RibbonItem.prototype, \"displayOptions\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], RibbonItem.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonButtonSettings)\n    ], RibbonItem.prototype, \"buttonSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonDropDownSettings)\n    ], RibbonItem.prototype, \"dropDownSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonCheckBoxSettings)\n    ], RibbonItem.prototype, \"checkBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonColorPickerSettings)\n    ], RibbonItem.prototype, \"colorPickerSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonComboBoxSettings)\n    ], RibbonItem.prototype, \"comboBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonSplitButtonSettings)\n    ], RibbonItem.prototype, \"splitButtonSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonGroupButtonSettings)\n    ], RibbonItem.prototype, \"groupButtonSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonGallerySettings)\n    ], RibbonItem.prototype, \"gallerySettings\", void 0);\n    return RibbonItem;\n}(ChildProperty));\nexport { RibbonItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonItem } from './ribbon-item';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCollection = /** @class */ (function (_super) {\n    __extends(RibbonCollection, _super);\n    function RibbonCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of collection.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCollection.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonItem)\n    ], RibbonCollection.prototype, \"items\", void 0);\n    return RibbonCollection;\n}(ChildProperty));\nexport { RibbonCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonCollection } from './ribbon-collection';\n/**\n * Defines the ribbon group.\n */\nvar RibbonGroup = /** @class */ (function (_super) {\n    __extends(RibbonGroup, _super);\n    function RibbonGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of Group.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonGroup.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"keyTip\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"launcherIconKeyTip\", void 0);\n    __decorate([\n        Collection([], RibbonCollection)\n    ], RibbonGroup.prototype, \"collections\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"isCollapsed\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonGroup.prototype, \"isCollapsible\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"enableGroupOverflow\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"groupIconCss\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"header\", void 0);\n    __decorate([\n        Property('Column')\n    ], RibbonGroup.prototype, \"orientation\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"overflowHeader\", void 0);\n    __decorate([\n        Property(0)\n    ], RibbonGroup.prototype, \"priority\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"showLauncherIcon\", void 0);\n    return RibbonGroup;\n}(ChildProperty));\nexport { RibbonGroup };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonGroup } from './ribbon-group';\n/**\n * Defines the ribbon tab.\n */\nvar RibbonTab = /** @class */ (function (_super) {\n    __extends(RibbonTab, _super);\n    function RibbonTab() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of tab.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonTab.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"keyTip\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonGroup)\n    ], RibbonTab.prototype, \"groups\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"header\", void 0);\n    return RibbonTab;\n}(ChildProperty));\nexport { RibbonTab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Event, Complex, Collection } from '@syncfusion/ej2-base';\nimport { MenuAnimationSettings, MenuItem } from '@syncfusion/ej2-navigations';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon file menu settings.\n */\nvar FileMenuSettings = /** @class */ (function (_super) {\n    __extends(FileMenuSettings, _super);\n    function FileMenuSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of FileMenu.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    FileMenuSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('File')\n    ], FileMenuSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], FileMenuSettings.prototype, \"menuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Complex({}, MenuAnimationSettings)\n    ], FileMenuSettings.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"popupTemplate\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], FileMenuSettings.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"select\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"keyTip\", void 0);\n    return FileMenuSettings;\n}(ChildProperty));\nexport { FileMenuSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon backstage back button.\n */\nvar BackstageBackButton = /** @class */ (function (_super) {\n    __extends(BackstageBackButton, _super);\n    function BackstageBackButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], BackstageBackButton.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageBackButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(true)\n    ], BackstageBackButton.prototype, \"visible\", void 0);\n    return BackstageBackButton;\n}(ChildProperty));\nexport { BackstageBackButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Event } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon backstage back button.\n */\nvar BackstageItem = /** @class */ (function (_super) {\n    __extends(BackstageItem, _super);\n    function BackstageItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"keyTip\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], BackstageItem.prototype, \"separator\", void 0);\n    __decorate([\n        Property(false)\n    ], BackstageItem.prototype, \"isFooter\", void 0);\n    __decorate([\n        Event()\n    ], BackstageItem.prototype, \"backStageItemClick\", void 0);\n    return BackstageItem;\n}(ChildProperty));\nexport { BackstageItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Complex, Collection } from '@syncfusion/ej2-base';\nimport { BackstageBackButton } from './ribbon-back-button';\nimport { BackstageItem } from './ribbon-backstage-item';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon file menu settings.\n */\nvar BackStageMenu = /** @class */ (function (_super) {\n    __extends(BackStageMenu, _super);\n    function BackStageMenu() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of Backstage Menu.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    BackStageMenu.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('File')\n    ], BackStageMenu.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], BackStageMenu.prototype, \"keyTip\", void 0);\n    __decorate([\n        Property(false)\n    ], BackStageMenu.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], BackStageMenu.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], BackStageMenu.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], BackStageMenu.prototype, \"target\", void 0);\n    __decorate([\n        Complex({}, BackstageBackButton)\n    ], BackStageMenu.prototype, \"backButton\", void 0);\n    __decorate([\n        Collection([], BackstageItem)\n    ], BackStageMenu.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], BackStageMenu.prototype, \"template\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], BackStageMenu.prototype, \"ribbonTooltipSettings\", void 0);\n    return BackStageMenu;\n}(ChildProperty));\nexport { BackStageMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\nimport { RibbonTab } from './ribbon-tab';\n/**\n * Defines the ribbon contextual tab.\n */\nvar RibbonContextualTabSettings = /** @class */ (function (_super) {\n    __extends(RibbonContextualTabSettings, _super);\n    function RibbonContextualTabSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of contextual tab.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonContextualTabSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonContextualTabSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonContextualTabSettings.prototype, \"isSelected\", void 0);\n    __decorate([\n        Collection([], RibbonTab)\n    ], RibbonContextualTabSettings.prototype, \"tabs\", void 0);\n    return RibbonContextualTabSettings;\n}(ChildProperty));\nexport { RibbonContextualTabSettings };\n","/**\n * Specifies the File Manager internal ID's\n */\n/** @hidden */\nexport var ITEM_VERTICAL_CENTER = 'e-ribbon-vertical-center';\n/** @hidden */\nexport var EXPAND_COLLAPSE_ICON = 'e-icons e-drop-icon';\n/** @hidden */\nexport var BACKSTAGE_CLOSE_ICON = 'e-icons e-arrow-left';\n/** @hidden */\nexport var OVERFLOW_ICON = 'e-icons e-more-horizontal-1';\n/** @hidden */\nexport var VERTICAL_DDB = 'e-vertical';\n/** @hidden */\nexport var DISABLED_CSS = 'e-disabled';\n/** @hidden */\nexport var RTL_CSS = 'e-rtl';\n/** @hidden */\nexport var RIBBON_HOVER = 'e-ribbon-hover';\n/** @hidden */\nexport var RIBBON_CONTROL = 'e-ribbon-control';\n/** @hidden */\nexport var RIBBON_POPUP_CONTROL = 'e-ribbon-popup-control';\n/** @hidden */\nexport var RIBBON_POPUP_OPEN = 'e-ribbon-open';\n/** @hidden */\nexport var RIBBON_KEYTIP = 'e-ribbon-keytip';\n/** @hidden */\nexport var SPACE = ' ';\n/** @hidden */\nexport var HORIZONTAL_SCROLLBAR = 'e-hscroll-bar';\n/** @hidden */\nexport var HIDE_CSS = 'e-ribbon-hide';\n/** @hidden */\nexport var RIBBON_TAB = 'e-ribbon-tab';\n/** @hidden */\nexport var RIBBON_CONTEXTUAL_TAB = 'e-ribbon-contextual-tab';\n/** @hidden */\nexport var RIBBON_TAB_ACTIVE = 'e-ribbon-active';\n/** @hidden */\nexport var RIBBON_TAB_ITEM = 'e-ribbon-tab-item';\n/** @hidden */\nexport var RIBBON_COLLAPSE_BUTTON = 'e-ribbon-collapse-btn';\n/** @hidden */\nexport var RIBBON_EXPAND_BUTTON = 'e-ribbon-expand-btn';\n/** @hidden */\nexport var RIBBON_COLLAPSIBLE = 'e-ribbon-collapsible';\n/** @hidden */\nexport var RIBBON_OVERALL_OF_BUTTON = 'e-ribbon-overall-of-btn';\n/** @hidden */\nexport var RIBBON_GROUP_OF_BUTTON = 'e-ribbon-group-of-btn';\n/** @hidden */\nexport var RIBBON_OVERFLOW_TARGET = 'e-ribbon-overflow-target';\n/** @hidden */\nexport var RIBBON_OVERFLOW = 'e-ribbon-overflow';\n/** @hidden */\nexport var TAB_CONTENT = 'e-content';\n/** @hidden */\nexport var RIBBON_MINIMIZE = 'e-ribbon-minimize';\n/** @hidden */\nexport var RIBBON_GROUP = 'e-ribbon-group';\n/** @hidden */\nexport var RIBBON_SINGLE_BUTTON_SELECTION = 'e-ribbon-single-selection';\n/** @hidden */\nexport var RIBBON_MULTIPLE_BUTTON_SELECTION = 'e-ribbon-multiple-selection';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON = 'e-ribbon-group-button';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON_OVERFLOW_POPUP = 'e-ribbon-group-button-overflow-popup';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON_CONTENT = 'e-ribbon-group-button-content';\n/** @hidden */\nexport var RIBBON_GROUP_CONTAINER = 'e-ribbon-group-container';\n/** @hidden */\nexport var RIBBON_OF_TAB_CONTAINER = 'e-ribbon-of-tab';\n/** @hidden */\nexport var RIBBON_OF_GROUP_CONTAINER = 'e-ribbon-of-group-container';\n/** @hidden */\nexport var RIBBON_GROUP_CONTENT = 'e-ribbon-group-content';\n/** @hidden */\nexport var RIBBON_GROUP_HEADER = 'e-ribbon-group-header';\n/** @hidden */\nexport var RIBBON_OVERFLOW_HEADER = 'e-ribbon-overflow-header';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW = 'e-ribbon-group-overflow';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW_DDB = 'e-ribbon-group-overflow-ddb';\n/** @hidden */\nexport var RIBBON_LAUNCHER = 'e-ribbon-launcher';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON_ELE = 'e-ribbon-launcher-icon';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON = 'e-icons e-launcher';\n/** @hidden */\nexport var RIBBON_COLLECTION = 'e-ribbon-collection';\n/** @hidden */\nexport var RIBBON_ITEM = 'e-ribbon-item';\n/** @hidden */\nexport var RIBBON_ROW = 'e-ribbon-row';\n/** @hidden */\nexport var RIBBON_COLUMN = 'e-ribbon-column';\n/** @hidden */\nexport var RIBBON_LARGE_ITEM = 'e-ribbon-large-item';\n/** @hidden */\nexport var RIBBON_MEDIUM_ITEM = 'e-ribbon-medium-item';\n/** @hidden */\nexport var RIBBON_SMALL_ITEM = 'e-ribbon-small-item';\n/** @hidden */\nexport var RIBBON_CONTENT_HEIGHT = 'e-ribbon-content-height';\n/** @hidden */\nexport var DROPDOWNBUTTON = 'e-dropdown-btn';\n/** @hidden */\nexport var DROPDOWNBUTTON_HIDE = 'e-caret-hide';\n/** @hidden */\nexport var RIBBON_TEMPLATE = 'e-ribbon-template';\n/** @hidden */\nexport var RIBBON_HELP_TEMPLATE = 'e-ribbon-help-template';\n/** @hidden */\nexport var RIBBON_TOOLTIP = 'e-ribbon-tooltip';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TARGET = 'e-ribbon-tooltip-target';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TITLE = 'e-ribbon-tooltip-title';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTENT = 'e-ribbon-tooltip-content';\n/** @hidden */\nexport var RIBBON_TOOLTIP_ICON = 'e-ribbon-tooltip-icon';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTAINER = 'e-ribbon-tooltip-container';\n/** @hidden */\nexport var RIBBON_TEXT_CONTAINER = 'e-ribbon-text-container';\n/** @hidden */\nexport var RIBBON_SIMPLIFIED_MODE = 'e-ribbon-simplified-mode';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_POPUP = 'e-ribbon-backstage-popup';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_OPEN = 'e-ribbon-backstage-open';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_CONTENT = 'e-ribbon-backstage-content';\n/** @hidden */\nexport var RIBBON_SELECTED_CONTENT = 'e-ribbon-selected-content';\n/** @hidden */\nexport var RIBBON_BACKSTAGE = 'e-ribbon-backstage';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_MENU = 'e-ribbon-backstage-menu';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_TEMPLATE = 'e-ribbon-backstage-template';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_MENU_WRAPPER = 'e-ribbon-backstage-wrapper';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_ITEMS_WRAPPER = 'e-ribbon-backstage-items-wrapper';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_TEXT_MENU = 'e-blankicon';\n/** @hidden */\nexport var TAB_ID = '_tab';\n/** @hidden */\nexport var GROUP_ID = '_group';\n/** @hidden */\nexport var COLLECTION_ID = '_collection';\n/** @hidden */\nexport var ITEM_ID = '_item';\n/** @hidden */\nexport var COLLAPSE_BUTTON_ID = '_collapsebutton';\n/** @hidden */\nexport var OVRLOF_BUTTON_ID = '_sim_ovrl_overflow';\n/** @hidden */\nexport var GROUPOF_BUTTON_ID = '_sim_grp_overflow';\n/** @hidden */\nexport var HEADER_ID = '_header';\n/** @hidden */\nexport var LAUNCHER_ID = '_launcher';\n/** @hidden */\nexport var CONTENT_ID = '_content';\n/** @hidden */\nexport var CONTAINER_ID = '_container';\n/** @hidden */\nexport var OVERFLOW_ID = '_overflow';\n/** @hidden */\nexport var DROPDOWN_ID = '_dropdown';\n/** @hidden */\nexport var RIBBON_FILE_MENU_ID = '_filemenu';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_MENU_ID = '_backstage';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_POPUP_ID = '_backstagepopup';\n/** @hidden */\nexport var RIBBON_FILE_MENU_LIST = '_filemenulist';\n/** @hidden */\nexport var RIBBON_MENU_LIST = '_menulist';\n/** @hidden */\nexport var RIBBON_FOOTER_MENU_LIST = '_footermenulist';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_ID = '_helppanetemplate';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON_ID = '_grpbtn';\n/** @hidden */\nexport var RIBBON_KEYTIP_ID = '_keytip';\n/** @hidden */\nexport var RIBBON_FILE_MENU_WIDTH = '--fileMenuWidth';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_WIDTH = '--helpTemplateWidth';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getComponent, merge } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RibbonItemSize, setCustomAttributes } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_POPUP_CONTROL, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonButton = /** @class */ (function () {\n    function RibbonButton(parent) {\n        this.parent = parent;\n    }\n    RibbonButton.prototype.getModuleName = function () {\n        return 'ribbonButton';\n    };\n    RibbonButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates button.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.createButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var btnSettings = item.buttonSettings;\n        new Button({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            iconCss: btnSettings.iconCss,\n            disabled: item.disabled,\n            cssClass: (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (btnSettings.cssClass ? btnSettings.cssClass : '')).trim(),\n            content: item.activeSize === RibbonItemSize.Small ? '' : btnSettings.content,\n            isPrimary: btnSettings.isPrimary,\n            isToggle: btnSettings.isToggle,\n            created: btnSettings.created\n        }, buttonEle);\n        if (btnSettings.htmlAttributes) {\n            var htmlAttr = __assign({}, btnSettings.htmlAttributes);\n            if (htmlAttr.id) {\n                delete htmlAttr.id;\n            }\n            setCustomAttributes(buttonEle, htmlAttr);\n        }\n        buttonEle.onclick = function (e) {\n            if (btnSettings.clicked) {\n                btnSettings.clicked.call(_this, e);\n            }\n        };\n        buttonEle.setAttribute('aria-label', btnSettings.content);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        buttonEle.setAttribute('data-control', item.type.toString());\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.setProperties({ cssClass: buttonObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        var buttonObj = getComponent(buttonEle, Button);\n        var cssClass = buttonObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        buttonObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the button.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonButton.prototype.click = function (controlId) {\n        var buttonEle = getItemElement(this.parent, controlId);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.click();\n    };\n    /**\n     * Updates the button properties.\n     *\n     * @param {RibbonButtonSettingsModel} prop - Gets the button property.\n     * @param {string} id - Gets the ID of button item.\n     * @returns {void}\n     */\n    RibbonButton.prototype.updateButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.buttonSettings, prop);\n        var buttonEle = getItemElement(this.parent, id, itemProp);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        if (prop.isToggle) {\n            buttonEle.classList.add('e-active');\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n            buttonEle.setAttribute('aria-label', prop.content);\n        }\n        delete prop.clicked;\n        buttonObj.setProperties(prop);\n    };\n    /**\n     * Updates the button size.\n     *\n     * @param {HTMLElement} element - Gets the button element.\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.updateButtonSize = function (element, item) {\n        var buttonObj = getComponent(element, Button);\n        buttonObj.setProperties({\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            content: item.activeSize === RibbonItemSize.Small ? '' : item.buttonSettings.content\n        });\n    };\n    return RibbonButton;\n}());\nexport { RibbonButton };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getComponent, merge } from '@syncfusion/ej2-base';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCheckBox = /** @class */ (function () {\n    function RibbonCheckBox(parent) {\n        this.parent = parent;\n    }\n    RibbonCheckBox.prototype.getModuleName = function () {\n        return 'ribbonCheckBox';\n    };\n    RibbonCheckBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the check box.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.createCheckBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var checkBoxSettings = item.checkBoxSettings;\n        var htmlAttr = {};\n        if (checkBoxSettings.htmlAttributes) {\n            htmlAttr = __assign({}, checkBoxSettings.htmlAttributes);\n            if (htmlAttr.id) {\n                delete htmlAttr.id;\n            }\n        }\n        new CheckBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            checked: checkBoxSettings.checked,\n            cssClass: (RIBBON_CONTROL + SPACE + (checkBoxSettings.cssClass ? checkBoxSettings.cssClass : '')).trim(),\n            label: checkBoxSettings.label,\n            labelPosition: checkBoxSettings.labelPosition,\n            disabled: item.disabled,\n            created: checkBoxSettings.created,\n            htmlAttributes: htmlAttr,\n            change: function (e) {\n                if (checkBoxSettings.change) {\n                    checkBoxSettings.change.call(_this, e);\n                }\n            }\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.cssClass = checkBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        var cssClass = checkBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        checkBoxObj.cssClass = cssClass.join(SPACE);\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the Checkbox.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.click = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        if (!inputEle) {\n            return;\n        }\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.click();\n    };\n    /**\n     * Updates the checkbox.\n     *\n     * @param {RibbonCheckBoxSettingsModel} prop - Gets the checkbox property.\n     * @param {string} id - Gets the ID of checkbox.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.updateCheckBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.change;\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.setProperties(prop);\n    };\n    return RibbonCheckBox;\n}());\nexport { RibbonCheckBox };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { getItem, getItemElement, setCustomAttributes } from '../base/index';\nimport { RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonColorPicker = /** @class */ (function () {\n    function RibbonColorPicker(parent) {\n        this.parent = parent;\n    }\n    RibbonColorPicker.prototype.getModuleName = function () {\n        return 'ribbonColorPicker';\n    };\n    RibbonColorPicker.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the colorpicker.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.createColorPicker = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var colorPickerSettings = item.colorPickerSettings;\n        var colorPicker = new ColorPicker({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            columns: colorPickerSettings.columns,\n            cssClass: (RIBBON_CONTROL + SPACE + (colorPickerSettings.cssClass ? colorPickerSettings.cssClass : '')).trim(),\n            disabled: item.disabled,\n            enableOpacity: colorPickerSettings.enableOpacity,\n            mode: colorPickerSettings.mode,\n            modeSwitcher: colorPickerSettings.modeSwitcher,\n            noColor: colorPickerSettings.noColor,\n            presetColors: colorPickerSettings.presetColors,\n            showButtons: colorPickerSettings.showButtons,\n            value: colorPickerSettings.value,\n            beforeClose: function () {\n                colorPicker.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.beforeClose) {\n                    colorPickerSettings.beforeClose.call(_this);\n                }\n            },\n            beforeOpen: colorPickerSettings.beforeOpen,\n            beforeTileRender: colorPickerSettings.beforeTileRender,\n            created: colorPickerSettings.created,\n            change: function (e) {\n                colorPickerSettings.value = e.value.toString();\n                if (colorPickerSettings.change) {\n                    colorPickerSettings.change.call(_this, e);\n                }\n            },\n            open: function () {\n                colorPicker.element.parentElement.classList.add(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.open) {\n                    colorPickerSettings.open.call(_this);\n                }\n            },\n            select: colorPickerSettings.select\n        }, inputEle);\n        if (colorPickerSettings.htmlAttributes) {\n            var htmlAttr = __assign({}, colorPickerSettings.htmlAttributes);\n            if (htmlAttr.id) {\n                delete htmlAttr.id;\n            }\n            setCustomAttributes(inputEle, htmlAttr);\n        }\n        var wrapper = colorPicker.element.parentElement;\n        EventHandler.add(wrapper, 'mouseenter', this.toggleWrapperHover.bind(this, wrapper, true), this);\n        EventHandler.add(wrapper, 'mouseleave', this.toggleWrapperHover.bind(this, wrapper, false), this);\n    };\n    RibbonColorPicker.prototype.toggleWrapperHover = function (wrapper, isAdd) {\n        if (isAdd) {\n            wrapper.classList.add(RIBBON_HOVER);\n        }\n        else {\n            wrapper.classList.remove(RIBBON_HOVER);\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var colorPickerSettings = item.colorPickerSettings;\n        if (colorPickerSettings.label && this.parent.activeLayout === 'Simplified') {\n            var label = this.parent.createElement('div', {\n                className: 'e-ribbon-colorpicker-label',\n                id: item.id + '_label',\n                innerHTML: colorPickerSettings.label\n            });\n            itemEle.insertBefore(label, itemEle.firstChild);\n        }\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        colorPickerEle.setAttribute('data-control', item.type.toString());\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        colorPickerObj.setProperties({ cssClass: colorPickerObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        var splitBtn = colorPickerObj['splitBtn'];\n        var target;\n        colorPickerObj.beforeClose = function (e) {\n            target = e.event ? e.event.target : null;\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n        splitBtn.close = function () {\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var colorPickerSettings = item.colorPickerSettings;\n        if (colorPickerSettings.label) {\n            var label = itemEle.querySelector('#' + item.id + '_label');\n            if (label) {\n                label.remove();\n            }\n        }\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        var cssClass = colorPickerObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        colorPickerObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        var splitBtn = colorPickerObj['splitBtn'];\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        splitBtn.close = null;\n        colorPickerObj.beforeClose = function () {\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n    };\n    RibbonColorPicker.prototype.getColorPickerObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ColorPicker) : null;\n    };\n    /**\n     * Gets color value in specified type.\n     *\n     * @param {string} controlId -Gets the control ID.\n     * @param {string} value - Specify the color value.\n     * @param {string} type - Specify the type to which the specified color needs to be converted.\n     * @returns {string} - Returns string.\n     */\n    RibbonColorPicker.prototype.getValue = function (controlId, value, type) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        return colorPickerObj ? colorPickerObj.getValue(value, type) : '';\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - set the id of the control.\n     * @returns {void} - Returns void.\n     */\n    RibbonColorPicker.prototype.toggle = function (controlId) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        if (!colorPickerObj) {\n            return;\n        }\n        colorPickerObj.toggle();\n    };\n    /**\n     * Updates the colorpicker properties.\n     *\n     * @param {RibbonColorPickerSettingsModel} prop - Gets the colorpicker property.\n     * @param {string} id - Gets the ID of colorpicker.\n     * @returns {void}\n     */\n    RibbonColorPicker.prototype.updateColorPicker = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.beforeClose;\n        delete prop.open;\n        var colorPickerObj = getComponent(inputEle, ColorPicker);\n        colorPickerObj.setProperties(prop);\n    };\n    /**\n     * @param {HTMLElement} element - Gets the colorpicker element to be destroyed.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.unwireColorPickerEvents = function (element) {\n        var colorPickerObj = getComponent(element, ColorPicker);\n        var wrapper = colorPickerObj.element.parentElement;\n        EventHandler.remove(wrapper, 'mouseenter', this.toggleWrapperHover);\n        EventHandler.remove(wrapper, 'mouseleave', this.toggleWrapperHover);\n    };\n    return RibbonColorPicker;\n}());\nexport { RibbonColorPicker };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getComponent, merge } from '@syncfusion/ej2-base';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonComboBox = /** @class */ (function () {\n    function RibbonComboBox(parent) {\n        this.parent = parent;\n    }\n    RibbonComboBox.prototype.getModuleName = function () {\n        return 'ribbonComboBox';\n    };\n    RibbonComboBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the combobox.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.createComboBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var comboBoxSettings = item.comboBoxSettings;\n        var htmlAttr = {};\n        if (comboBoxSettings.htmlAttributes) {\n            htmlAttr = __assign({}, comboBoxSettings.htmlAttributes);\n            if (htmlAttr.id) {\n                delete htmlAttr.id;\n            }\n        }\n        new ComboBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            allowCustom: false,\n            floatLabelType: 'Never',\n            ignoreAccent: true,\n            ignoreCase: true,\n            allowFiltering: comboBoxSettings.allowFiltering,\n            autofill: comboBoxSettings.autofill,\n            cssClass: (RIBBON_CONTROL + SPACE + (comboBoxSettings.cssClass ? comboBoxSettings.cssClass : '')).trim(),\n            dataSource: comboBoxSettings.dataSource,\n            enabled: !item.disabled,\n            fields: comboBoxSettings.fields,\n            filterType: comboBoxSettings.filterType,\n            footerTemplate: comboBoxSettings.footerTemplate,\n            groupTemplate: comboBoxSettings.groupTemplate,\n            headerTemplate: comboBoxSettings.headerTemplate,\n            index: comboBoxSettings.index,\n            itemTemplate: comboBoxSettings.itemTemplate,\n            noRecordsTemplate: comboBoxSettings.noRecordsTemplate,\n            placeholder: comboBoxSettings.placeholder,\n            popupHeight: comboBoxSettings.popupHeight,\n            popupWidth: comboBoxSettings.popupWidth,\n            showClearButton: comboBoxSettings.showClearButton,\n            sortOrder: comboBoxSettings.sortOrder,\n            text: comboBoxSettings.text,\n            value: comboBoxSettings.value,\n            width: comboBoxSettings.width,\n            beforeOpen: comboBoxSettings.beforeOpen,\n            open: comboBoxSettings.open,\n            htmlAttributes: htmlAttr,\n            close: function (e) {\n                if (comboBoxSettings.close) {\n                    comboBoxSettings.close.call(_this, e);\n                }\n            },\n            filtering: comboBoxSettings.filtering,\n            change: comboBoxSettings.change,\n            select: comboBoxSettings.select,\n            created: comboBoxSettings.created\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var comboBoxSettings = item.comboBoxSettings;\n        if (comboBoxSettings.label && this.parent.activeLayout === 'Simplified') {\n            var label = this.parent.createElement('div', {\n                className: 'e-ribbon-combobox-label',\n                id: item.id + '_label',\n                innerHTML: comboBoxSettings.label\n            });\n            itemEle.insertBefore(label, itemEle.firstChild);\n        }\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties({ cssClass: comboBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        comboBoxObj.close = function (e) {\n            var target = e.event ? e.event.target : null;\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var comboBoxSettings = item.comboBoxSettings;\n        if (comboBoxSettings.label) {\n            var label = itemEle.querySelector('#' + item.id + '_label');\n            if (label) {\n                label.remove();\n            }\n        }\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        var cssClass = comboBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        comboBoxObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        comboBoxObj.close = function (e) {\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n        };\n    };\n    RibbonComboBox.prototype.getComboBoxObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ComboBox) : null;\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {string } controlId - set the id of the control in which methods needs to be called.\n     * @param  {Object[] } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.filter = function (controlId, dataSource, query, fields) {\n        this.getComboBoxObj(controlId).filter(dataSource, query, fields);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.hidePopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.hidePopup();\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.showPopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.showPopup();\n    };\n    /**\n     * Updates the combobox properties.\n     *\n     * @param {RibbonComboBoxSettingsModel} prop - Gets the combobox property.\n     * @param {string} id - Gets the ID of combobox.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.updateComboBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.comboBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.close;\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties(prop);\n    };\n    return RibbonComboBox;\n}());\nexport { RibbonComboBox };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { closest, getComponent, isNullOrUndefined, merge, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { getItem, getItemElement, RibbonItemSize, createTooltip, setCustomAttributes } from '../base/index';\nimport { DROPDOWN_ID, ITEM_VERTICAL_CENTER, OVERFLOW_ID, RIBBON_CONTROL, RIBBON_GROUP_OVERFLOW_DDB, RIBBON_POPUP_CONTROL, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonDropDown = /** @class */ (function () {\n    function RibbonDropDown(parent) {\n        this.parent = parent;\n    }\n    RibbonDropDown.prototype.getModuleName = function () {\n        return 'ribbonDropDown';\n    };\n    RibbonDropDown.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates DropDown.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createDropDown = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var dropDownSettings = item.dropDownSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (dropDownSettings.cssClass ?\n            dropDownSettings.cssClass : '')).trim();\n        new DropDownButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: dropDownSettings.closeActionEvents,\n            content: item.activeSize === RibbonItemSize.Small ? '' : dropDownSettings.content,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: dropDownSettings.iconCss,\n            items: dropDownSettings.items,\n            target: dropDownSettings.target,\n            createPopupOnClick: dropDownSettings.createPopupOnClick,\n            beforeClose: function (e) {\n                if (dropDownSettings.beforeClose) {\n                    dropDownSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: dropDownSettings.beforeItemRender,\n            beforeOpen: dropDownSettings.beforeOpen,\n            close: function (e) {\n                if (dropDownSettings.close) {\n                    dropDownSettings.close.call(_this, e);\n                }\n            },\n            created: dropDownSettings.created,\n            open: dropDownSettings.open,\n            select: dropDownSettings.select\n        }).appendTo(buttonEle);\n        if (dropDownSettings.htmlAttributes) {\n            var htmlAttr = __assign({}, dropDownSettings.htmlAttributes);\n            if (htmlAttr.id) {\n                delete htmlAttr.id;\n            }\n            setCustomAttributes(buttonEle, htmlAttr);\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        dropdownElement.setAttribute('data-control', item.type.toString());\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        dropdown.cssClass = dropdown.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        dropdown.dataBind();\n        var target;\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var cssClass = dropdown.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        dropdown.cssClass = cssClass.join(SPACE);\n        dropdown.dataBind();\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n        };\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Creates Overflow DropDown.\n     *\n     * @param {string} id - Gets the ID of the dropdown item.\n     * @param {string} name - Gets the name of the dropdown item.\n     * @param {string} iconCss - Gets the icon of the dropdown item.\n     * @param {HTMLElement} groupEle - Gets the overflow group element.\n     * @param {HTMLElement} overflowEle - Gets the overflow element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createOverFlowDropDown = function (id, name, iconCss, groupEle, overflowEle, enableRtl) {\n        var _this = this;\n        this.enableRtl = enableRtl;\n        var buttonEle = this.parent.createElement('button', {\n            id: id + OVERFLOW_ID + DROPDOWN_ID\n        });\n        groupEle.setAttribute('tabindex', '0');\n        overflowEle.appendChild(buttonEle);\n        var dropdown = new DropDownButton({\n            iconCss: iconCss,\n            target: groupEle,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            cssClass: VERTICAL_DDB + SPACE + RIBBON_GROUP_OVERFLOW_DDB,\n            iconPosition: 'Top',\n            content: name,\n            beforeClose: function (args) {\n                args.cancel = !isNullOrUndefined(args.event && closest(args.event.target, '.' + RIBBON_POPUP_CONTROL));\n            }\n        }, buttonEle);\n        createTooltip(groupEle, this.parent);\n        buttonEle.onclick = buttonEle.onkeydown = function () { _this.itemIndex = 0; };\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n        groupEle.onkeydown = function (e) { _this.keyActionHandler(e, groupEle), _this; };\n        return dropdown;\n    };\n    RibbonDropDown.prototype.keyActionHandler = function (e, target) {\n        var controlElements = Array.prototype.slice.call(target.querySelectorAll('.e-control'));\n        var templateElements = Array.prototype.slice.call(target.querySelectorAll('.e-ribbon-template'));\n        var items = controlElements.concat(templateElements);\n        var comboBoxElements = target.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < items.length; i++) {\n                if (items[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (items[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.itemIndex = i;\n                    }\n                }\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-template') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-last-item') || e.target.classList.contains('e-ribbon-first-item')) {\n            if (e.key === 'ArrowRight' || (!e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, !this.enableRtl, items);\n            }\n            if (e.key === 'ArrowLeft' || (e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, this.enableRtl, items);\n            }\n        }\n    };\n    RibbonDropDown.prototype.handleNavigation = function (e, enableRtl, items) {\n        if (!(items[0].classList.contains('e-ribbon-first-item'))) {\n            items[0].classList.add('e-ribbon-first-item');\n        }\n        if (!(items[items.length - 1].classList.contains('e-ribbon-last-item'))) {\n            items[items.length - 1].classList.add('e-ribbon-last-item');\n        }\n        if (enableRtl) {\n            if (this.itemIndex === 0 && items[parseInt(this.itemIndex.toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                this.updateItemIndex(e, items, true);\n            }\n            if (!e.target.classList.contains('e-combobox') && !e.target.classList.contains('e-ribbon-last-item') &&\n                !e.target.classList.contains('e-ribbon-group-container') && (e.target.classList.contains('e-ribbon-first-item')\n                || this.itemIndex !== 0) && (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-template'))) {\n                this.itemIndex++;\n                this.updateItemIndex(e, items, true);\n            }\n            if (e.target.classList.contains('e-ribbon-last-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = 0;\n                    this.updateItemIndex(e, items, true);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = 0;\n                this.updateItemIndex(e, items, true);\n            }\n        }\n        else {\n            if (!e.target.classList.contains('e-combobox') && this.itemIndex !== 0) {\n                this.itemIndex--;\n                this.updateItemIndex(e, items, false);\n            }\n            if (e.target.classList.contains('e-ribbon-first-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = items.length - 1;\n                    this.updateItemIndex(e, items, false);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = items.length - 1;\n                this.updateItemIndex(e, items, false);\n            }\n        }\n        if (e.target.classList.contains('e-combobox') && (e.key === 'Tab')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n            }\n        }\n    };\n    RibbonDropDown.prototype.focusLauncherIcon = function (e, items) {\n        var groupContainer = items[parseInt(this.itemIndex.toString(), 10)].closest('.e-ribbon-group-container');\n        var launcherIconEle;\n        if (groupContainer) {\n            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n        }\n        if (launcherIconEle) {\n            if (e.key === 'Tab') {\n                e.preventDefault();\n            }\n            groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    RibbonDropDown.prototype.updateItemIndex = function (e, items, enableRtl) {\n        var ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = 0;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = items.length - 1;\n                }\n            }\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n        if (e.key === 'Tab') {\n            e.preventDefault();\n        }\n        items[parseInt(this.itemIndex.toString(), 10)].focus();\n    };\n    /**\n     * Removes Overflow DropDown.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowDropDown = function (dropdownElement) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var tooltip = getComponent(dropdown.target, Tooltip);\n        tooltip.destroy();\n        dropdownElement.parentElement.parentElement.insertBefore(dropdown.target, dropdownElement.parentElement);\n        dropdown.destroy();\n        remove(dropdownElement);\n    };\n    /**\n     * Gets DropDown item element.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @param {string} id - Gets the ID of ribbon DropDown element.\n     * @returns {HTMLElement} - Returns the DropDown item element.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getDDBItemElement = function (dropdownElement, id) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var dropDownPopup = dropdown.dropDown.element;\n        return dropDownPopup.querySelector('#' + id);\n    };\n    /**\n     * Gets Overflow DropDown Popup.\n     *\n     * @param {itemProps} itemProp - Gets the property of ribbon item.\n     * @param {HTMLElement} contentEle - Gets the content element.\n     * @returns {HTMLElement} - Returns the Overflow DropDown Popup.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getOverflowDropDownPopup = function (itemProp, contentEle) {\n        var dropdownElement = contentEle.querySelector('#' + this.parent.tabs[itemProp.tabIndex].groups[itemProp.groupIndex].id + OVERFLOW_ID + DROPDOWN_ID);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        return dropdown.dropDown.element;\n    };\n    RibbonDropDown.prototype.getDropDownObj = function (controlId) {\n        var dropDownEle = getItemElement(this.parent, controlId);\n        return dropDownEle ? getComponent(dropDownEle, DropDownButton) : null;\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the DropDown items.\n     * @param {string} text - Gets the text of the dropdown item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.addItems = function (controlId, Items, text) {\n        this.getDropDownObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getDropDownObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.toggle = function (controlId) {\n        this.getDropDownObj(controlId).toggle();\n    };\n    /**\n     * Updates the dropdown.\n     *\n     * @param {RibbonDropDownSettingsModel} prop - Gets the dropdown property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.updateDropDown = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.dropDownSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, DropDownButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.close;\n        delete prop.beforeClose;\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n        }\n        control.setProperties(prop);\n    };\n    /**\n     * Updated DropDown size\n     *\n     * @param {HTMLElement} element - Gets the dropdown element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.updateDropDownSize = function (element, item) {\n        var control = getComponent(element, DropDownButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        control.setProperties({ content: item.activeSize === RibbonItemSize.Small ? '' : item.dropDownSettings.content });\n    };\n    return RibbonDropDown;\n}());\nexport { RibbonDropDown };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { getItem, getItemElement, RibbonItemSize, setCustomAttributes } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonSplitButton = /** @class */ (function () {\n    function RibbonSplitButton(parent) {\n        this.parent = parent;\n    }\n    RibbonSplitButton.prototype.getModuleName = function () {\n        return 'ribbonSplitButton';\n    };\n    RibbonSplitButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates SplitButton.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.createSplitButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var splitButtonSettings = item.splitButtonSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (splitButtonSettings.cssClass ?\n            splitButtonSettings.cssClass : '')).trim();\n        var splitbutton = new SplitButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: splitButtonSettings.closeActionEvents,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: splitButtonSettings.iconCss,\n            items: splitButtonSettings.items,\n            target: splitButtonSettings.target,\n            beforeClose: function (e) {\n                if (splitButtonSettings.beforeClose) {\n                    splitButtonSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: splitButtonSettings.beforeItemRender,\n            beforeOpen: splitButtonSettings.beforeOpen,\n            close: function () {\n                splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.close) {\n                    splitButtonSettings.close.call(_this);\n                }\n            },\n            created: splitButtonSettings.created,\n            open: function () {\n                splitbutton['wrapper'].classList.add(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.open) {\n                    splitButtonSettings.open.call(_this);\n                }\n            },\n            select: splitButtonSettings.select,\n            click: function (e) {\n                if (splitButtonSettings.click) {\n                    splitButtonSettings.click.call(_this, e);\n                }\n            }\n        }, buttonEle);\n        if (splitButtonSettings.htmlAttributes) {\n            var htmlAttr = __assign({}, splitButtonSettings.htmlAttributes);\n            if (htmlAttr.id) {\n                delete htmlAttr.id;\n            }\n            setCustomAttributes(buttonEle, htmlAttr);\n        }\n        var dropdownEle = buttonEle.parentElement.querySelector('.e-dropdown-btn');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        this.setContent(item, splitbutton);\n        var wrapper = splitbutton['wrapper'];\n        EventHandler.add(wrapper, 'mouseenter', function () { wrapper.classList.add(RIBBON_HOVER); }, this);\n        EventHandler.add(wrapper, 'mouseleave', function () { wrapper.classList.remove(RIBBON_HOVER); }, this);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        splitButtonEle.setAttribute('data-control', item.type.toString());\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        splitbutton.cssClass = splitbutton.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        splitbutton.dataBind();\n        var dropdownEle = splitButtonEle.parentElement.querySelector('.e-dropdown-btn');\n        var ddbId = dropdownEle.getAttribute('id');\n        var popupEle = document.querySelector('#' + ddbId + '-popup');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        popupEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.preventDefault();\n                splitbutton['wrapper'].classList.remove('e-ribbon-open');\n                popupEle.querySelector('.e-focused').click();\n            }\n        };\n        var target;\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        var cssClass = splitbutton.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        splitbutton.cssClass = cssClass.join(SPACE);\n        splitbutton.dataBind();\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n        };\n    };\n    RibbonSplitButton.prototype.setContent = function (item, control) {\n        control['primaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Medium) ? item.splitButtonSettings.content : '' });\n        control['secondaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Large) ? item.splitButtonSettings.content : '' });\n    };\n    RibbonSplitButton.prototype.getSplitButtonObj = function (controlId) {\n        var splitButtonEle = getItemElement(this.parent, controlId);\n        return getComponent(splitButtonEle, SplitButton);\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the SplitButton items.\n     * @param {string} text - Gets the text of the splitbutton item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.addItems = function (controlId, Items, text) {\n        this.getSplitButtonObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getSplitButtonObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.toggle = function (controlId) {\n        this.getSplitButtonObj(controlId).toggle();\n    };\n    /**\n     * Updates the splitbutton.\n     *\n     * @param {RibbonSplitButtonSettingsModel} prop - Gets the splitbutton property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.updateSplitButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.splitButtonSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, SplitButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.open;\n        delete prop.click;\n        delete prop.close;\n        delete prop.beforeClose;\n        control.setProperties(prop);\n        if (prop.content) {\n            this.setContent(itemProp.item, control);\n        }\n    };\n    /**\n     * Updated SplitButton size\n     *\n     * @param {HTMLElement} element - Gets the splibutton element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.updateSplitButtonSize = function (element, item) {\n        var control = getComponent(element, SplitButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        this.setContent(item, control);\n    };\n    return RibbonSplitButton;\n}());\nexport { RibbonSplitButton };\n","import { EventHandler, getComponent, remove } from '@syncfusion/ej2-base';\nimport * as constants from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { RibbonGroupButtonSelection, RibbonItemSize } from '../base/interface';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { createTooltip, isTooltipPresent, setCustomAttributes } from '../base/utils';\nimport { Tooltip } from '@syncfusion/ej2-popups';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonGroupButton = /** @class */ (function () {\n    function RibbonGroupButton(parent) {\n        this.parent = parent;\n        this.isSelected = false;\n    }\n    RibbonGroupButton.prototype.getModuleName = function () {\n        return 'ribbonGroupButton';\n    };\n    RibbonGroupButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates Group Button\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemElement - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.createGroupButton = function (item, itemElement) {\n        var _this = this;\n        var groupBtnSettings = item.groupButtonSettings;\n        this.count = 0;\n        var btnContainerEle = this.parent.createElement('div', {\n            id: item.id + constants.RIBBON_GROUP_BUTTON_ID,\n            className: 'e-btn-group'\n        });\n        itemElement.appendChild(btnContainerEle);\n        for (var i = 0; i < groupBtnSettings.items.length; i++) {\n            if ((groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss)) {\n                var groupButtonEle = this.parent.createElement('button', {\n                    id: item.id + constants.RIBBON_GROUP_BUTTON_ID + i,\n                    className: constants.RIBBON_GROUP_BUTTON\n                });\n                btnContainerEle.appendChild(groupButtonEle);\n                new Button({\n                    iconCss: groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss,\n                    disabled: item.disabled,\n                    enableRtl: this.parent.enableRtl,\n                    content: item.activeSize === RibbonItemSize.Small ? '' : groupBtnSettings.items[parseInt(i.toString(), 10)].content,\n                    iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left'\n                }, groupButtonEle);\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].htmlAttributes) {\n                    setCustomAttributes(groupButtonEle, groupBtnSettings.items[parseInt(i.toString(), 10)].htmlAttributes);\n                }\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].content) {\n                    groupButtonEle.classList.add(constants.RIBBON_GROUP_BUTTON_CONTENT);\n                }\n                var buttonEle = itemElement.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n                if (groupBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                    btnContainerEle.classList.add(constants.RIBBON_SINGLE_BUTTON_SELECTION);\n                }\n                else {\n                    btnContainerEle.classList.add(constants.RIBBON_MULTIPLE_BUTTON_SELECTION);\n                }\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].selected) {\n                    if (groupBtnSettings.selection === RibbonGroupButtonSelection.Multiple) {\n                        buttonEle.classList.add('e-active');\n                    }\n                    else {\n                        if (this.count < 1) {\n                            buttonEle.classList.add('e-active');\n                            this.count++;\n                        }\n                    }\n                }\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings &&\n                    isTooltipPresent(groupBtnSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings)) {\n                    groupButtonEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                    this.parent.tooltipData.push({\n                        id: groupButtonEle.id, data: groupBtnSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings\n                    });\n                }\n                EventHandler.add(buttonEle, 'click', this.groupButtonClicked.bind(this, i, item, groupBtnSettings), this);\n            }\n        }\n        if (this.parent.activeLayout === 'Simplified') {\n            var dropdownIcon = void 0;\n            var activeEleCount = 0;\n            var count = 0;\n            var buttonEle = this.parent.createElement('button', {\n                id: item.id\n            });\n            itemElement.appendChild(buttonEle);\n            for (var i = 0; i < groupBtnSettings.items.length; i++) {\n                if (item.groupButtonSettings.items[parseInt(i.toString(), 10)].selected &&\n                    !this.isSelected && groupBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                    dropdownIcon = item.groupButtonSettings.items[parseInt(i.toString(), 10)].iconCss;\n                    this.isSelected = true;\n                }\n                else if (item.groupButtonSettings.items[parseInt(i.toString(), 10)].selected &&\n                    groupBtnSettings.selection === RibbonGroupButtonSelection.Multiple) {\n                    activeEleCount++;\n                    if (activeEleCount === 1) {\n                        dropdownIcon = item.groupButtonSettings.items[parseInt(i.toString(), 10)].iconCss;\n                    }\n                    else {\n                        dropdownIcon = null;\n                    }\n                }\n            }\n            while (count < item.groupButtonSettings.items.length && !this.isSelected && !dropdownIcon) {\n                if (item.groupButtonSettings.items[parseInt(count.toString(), 10)].iconCss) {\n                    dropdownIcon = item.groupButtonSettings.items[parseInt(count.toString(), 10)].iconCss;\n                    this.isSelected = true;\n                }\n                count++;\n            }\n            var dropdown = new DropDownButton({\n                iconCss: dropdownIcon,\n                target: btnContainerEle,\n                enableRtl: this.parent.enableRtl,\n                cssClass: 'e-ribbon-dropdown-group-button',\n                disabled: item.disabled\n            }, buttonEle);\n            if (groupBtnSettings.header) {\n                var dropDownPopup = dropdown.dropDown;\n                this.addGroupButtonHeader(item.id, groupBtnSettings, dropDownPopup.element);\n            }\n            buttonEle.onclick = buttonEle.onkeydown = function () {\n                _this.handleFocusState(item, itemElement);\n            };\n            btnContainerEle.onkeydown = function (e) {\n                if (_this.parent.activeLayout === 'Simplified') {\n                    _this.handleGroupButtonNavigation(e, item);\n                }\n            };\n            createTooltip(btnContainerEle, this.parent);\n            this.isSelected = false;\n        }\n    };\n    RibbonGroupButton.prototype.groupButtonClicked = function (itemIndex, item, grpBtnSettings) {\n        var previousItems = [];\n        var selectingItems = [];\n        var selectedItems = [];\n        var groupButtonEle;\n        var dropdown;\n        for (var j = 0; j < grpBtnSettings.items.length; j++) {\n            if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j)) {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j).classList.contains('e-active')) {\n                    previousItems.push(grpBtnSettings.items[parseInt(j.toString(), 10)]);\n                }\n            }\n        }\n        if (!(document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active'))) {\n            selectingItems.push(grpBtnSettings.items[parseInt(itemIndex.toString(), 10)]);\n        }\n        var eventArgs = {\n            cancel: false, previousItems: previousItems, selectingItems: selectingItems\n        };\n        if (grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].beforeClick) {\n            grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].beforeClick.call(this, eventArgs);\n        }\n        if (eventArgs.cancel) {\n            return;\n        }\n        else {\n            if (grpBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.contains(constants.RIBBON_MULTIPLE_BUTTON_SELECTION)) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.remove(constants.RIBBON_MULTIPLE_BUTTON_SELECTION);\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.add(constants.RIBBON_SINGLE_BUTTON_SELECTION);\n                }\n                for (var j = 0; j < grpBtnSettings.items.length; j++) {\n                    if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j) && document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j).classList.contains('e-active')) {\n                        document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j).classList.remove('e-active');\n                        grpBtnSettings.items[parseInt(j.toString(), 10)].setProperties({ selected: false }, true);\n                    }\n                }\n                document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.toggle('e-active');\n                grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].setProperties({ selected: true }, true);\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active') && this.parent.activeLayout === 'Simplified') {\n                    this.grpBtnIndex = itemIndex;\n                    groupButtonEle = document.querySelector('#' + item.id);\n                    dropdown = getComponent(groupButtonEle, DropDownButton);\n                    dropdown.setProperties({\n                        iconCss: grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].iconCss\n                    });\n                }\n            }\n            else {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.contains(constants.RIBBON_SINGLE_BUTTON_SELECTION)) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.remove(constants.RIBBON_SINGLE_BUTTON_SELECTION);\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.add(constants.RIBBON_MULTIPLE_BUTTON_SELECTION);\n                }\n                document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.toggle('e-active');\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active')) {\n                    grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].setProperties({ selected: true }, true);\n                }\n                else {\n                    grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].setProperties({ selected: false }, true);\n                }\n                var activeEleCount = 0;\n                for (var n = 0; n < grpBtnSettings.items.length; n++) {\n                    if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n) && document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n).classList.contains('e-active') && this.parent.activeLayout === 'Simplified' && n !== itemIndex) {\n                        this.isSelected = true;\n                        activeEleCount++;\n                    }\n                }\n                if (this.parent.activeLayout === 'Simplified') {\n                    var dropdownIcon = null;\n                    var itemsCount = 0;\n                    groupButtonEle = document.querySelector('#' + item.id);\n                    dropdown = getComponent(groupButtonEle, DropDownButton);\n                    if (!this.isSelected) {\n                        if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active')) {\n                            dropdownIcon = grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].iconCss;\n                        }\n                    }\n                    else {\n                        if (activeEleCount === 1 && !(document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active'))) {\n                            for (var n = 0; n < grpBtnSettings.items.length; n++) {\n                                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n) && document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n).classList.contains('e-active')) {\n                                    dropdownIcon = grpBtnSettings.items[parseInt(n.toString(), 10)].iconCss;\n                                }\n                            }\n                        }\n                    }\n                    while (itemsCount < grpBtnSettings.items.length && !dropdownIcon) {\n                        if (grpBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss) {\n                            dropdownIcon = grpBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss;\n                        }\n                        itemsCount++;\n                    }\n                    dropdown.setProperties({ iconCss: dropdownIcon });\n                    this.grpBtnIndex = itemIndex;\n                }\n                this.isSelected = false;\n            }\n            if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active')) {\n                selectedItems.push(grpBtnSettings.items[parseInt(itemIndex.toString(), 10)]);\n            }\n            var eventArgs_1 = { previousItems: previousItems, selectedItems: selectedItems };\n            if (grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].click) {\n                grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].click.call(this, eventArgs_1);\n            }\n        }\n    };\n    /**\n     * updates group button in mode switching\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemElement - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.switchGroupButton = function (item, itemElement) {\n        var _this = this;\n        var groupBtnSettings = item.groupButtonSettings;\n        var dropdownIcon = null;\n        var activeEleCount = 0;\n        var itemsCount = 0;\n        if (this.parent.activeLayout === 'Simplified') {\n            var containerEle = itemElement.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n            var buttonEle = this.parent.createElement('button', {\n                id: item.id\n            });\n            itemElement.appendChild(buttonEle);\n            for (var i = 0; i < groupBtnSettings.items.length; i++) {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i)) {\n                    if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i).classList.contains('e-active') && groupBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                        dropdownIcon = groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss;\n                    }\n                    else if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i).classList.contains('e-active') && groupBtnSettings.selection === RibbonGroupButtonSelection.Multiple) {\n                        activeEleCount++;\n                        if (activeEleCount === 1) {\n                            dropdownIcon = groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss;\n                        }\n                        else if (activeEleCount > 1) {\n                            dropdownIcon = null;\n                        }\n                    }\n                }\n            }\n            while (itemsCount < groupBtnSettings.items.length && !dropdownIcon) {\n                if (groupBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss) {\n                    dropdownIcon = groupBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss;\n                }\n                itemsCount++;\n            }\n            var dropdown = new DropDownButton({\n                iconCss: dropdownIcon,\n                target: containerEle,\n                enableRtl: this.parent.enableRtl,\n                cssClass: 'e-ribbon-dropdown-group-button',\n                disabled: item.disabled\n            }, buttonEle);\n            if (groupBtnSettings.header) {\n                var dropDownPopup = dropdown.dropDown;\n                this.addGroupButtonHeader(item.id, groupBtnSettings, dropDownPopup.element);\n            }\n            buttonEle.onclick = buttonEle.onkeydown = function () {\n                _this.handleFocusState(item, itemElement);\n            };\n            containerEle.onkeydown = function (e) {\n                if (_this.parent.activeLayout === 'Simplified') {\n                    _this.handleGroupButtonNavigation(e, item);\n                }\n            };\n            createTooltip(containerEle, this.parent);\n        }\n        else {\n            var groupButtonEle = itemElement.querySelector('#' + item.id);\n            var dropdown = getComponent(groupButtonEle, DropDownButton);\n            itemElement.appendChild(dropdown.target);\n            if (groupButtonEle) {\n                dropdown.destroy();\n                remove(groupButtonEle);\n            }\n        }\n    };\n    RibbonGroupButton.prototype.handleFocusState = function (item, itemElement) {\n        if (itemElement.querySelector('#' + item.id).classList.contains('e-active')) {\n            var defaultSelectedBtn = document.querySelector('#' + item.id + '_grpbtn').querySelector('.' + constants.RIBBON_GROUP_BUTTON + '.e-active');\n            if (defaultSelectedBtn) {\n                defaultSelectedBtn.focus();\n            }\n            else {\n                document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + 0).focus();\n            }\n            this.grpBtnIndex = 0;\n        }\n    };\n    RibbonGroupButton.prototype.addGroupButtonHeader = function (itemID, groupBtnSettings, popupEle) {\n        var groupButtonHeader = this.parent.createElement('div', {\n            className: 'e-ribbon-groupbutton-header',\n            id: itemID + constants.HEADER_ID,\n            innerHTML: groupBtnSettings.header\n        });\n        popupEle.insertBefore(groupButtonHeader, popupEle.firstChild);\n    };\n    RibbonGroupButton.prototype.handleGroupButtonNavigation = function (e, item) {\n        var groupButtonEle = document.querySelector('#' + item.id);\n        var dropdown = getComponent(groupButtonEle, DropDownButton);\n        var targetEle = dropdown.target;\n        var isOverflowPopup = false;\n        if (this.parent.activeLayout === 'Simplified' && targetEle.closest('.e-ribbon-dropdown-group-button').classList.contains(constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP)) {\n            isOverflowPopup = true;\n        }\n        if (e.key === 'Tab') {\n            e.preventDefault();\n        }\n        var groupBtnSettings = item.groupButtonSettings;\n        if ((e.key === 'ArrowRight' && !isOverflowPopup) || (e.key === 'ArrowDown' && isOverflowPopup)) {\n            if (!this.parent.enableRtl || (e.key === 'ArrowDown' && isOverflowPopup)) {\n                this.grpBtnIndex++;\n                if (this.grpBtnIndex < groupBtnSettings.items.length) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex = 0;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n            else {\n                if (this.grpBtnIndex === 0) {\n                    this.grpBtnIndex = groupBtnSettings.items.length - 1;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex--;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n        }\n        else if ((e.key === 'ArrowLeft' && !isOverflowPopup) || (e.key === 'ArrowUp' && isOverflowPopup)) {\n            if (!this.parent.enableRtl || (e.key === 'ArrowUp' && isOverflowPopup)) {\n                if (this.grpBtnIndex === 0) {\n                    this.grpBtnIndex = groupBtnSettings.items.length - 1;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex--;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n            else {\n                this.grpBtnIndex++;\n                if (this.grpBtnIndex < groupBtnSettings.items.length) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex = 0;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var groupBtnSettings = item.groupButtonSettings;\n        var isIconOnly = true;\n        var groupButtonEle = itemEle.querySelector('#' + item.id);\n        var dropdown = getComponent(groupButtonEle, DropDownButton);\n        dropdown.setProperties({ cssClass: dropdown.cssClass + constants.SPACE + constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP, content: groupBtnSettings.header ? groupBtnSettings.header : '' });\n        var targetEle = dropdown.target;\n        if (targetEle.children.length) {\n            for (var i = 0; i < targetEle.children.length; i++) {\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].content) {\n                    isIconOnly = false;\n                    break;\n                }\n            }\n            if (isIconOnly) {\n                targetEle.classList.add('e-icon-btn');\n            }\n        }\n        targetEle.onclick = function () {\n            if (_this.parent.activeLayout === 'Simplified' && targetEle.closest('.e-ribbon-dropdown-group-button').classList.contains(constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP)) {\n                dropdown.toggle();\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var groupButtonEle = itemEle.querySelector('#' + item.id);\n        if (groupButtonEle) {\n            var dropdown = getComponent(groupButtonEle, DropDownButton);\n            var targetEle = dropdown.target;\n            if (targetEle.classList.contains('e-icon-btn')) {\n                targetEle.classList.remove('e-icon-btn');\n            }\n            var cssClass = dropdown.cssClass.split(constants.SPACE);\n            cssClass = cssClass.filter(function (value) { return value !== constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP; });\n            dropdown.setProperties({ cssClass: cssClass.join(constants.SPACE), content: '' });\n        }\n    };\n    /**\n     * Removes DropDown.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.destroyDropDown = function (item) {\n        var groupButtonEle = document.querySelector('#' + item.id);\n        if (groupButtonEle) {\n            var dropdown = getComponent(groupButtonEle, DropDownButton);\n            var tooltip = getComponent(dropdown.target, Tooltip);\n            tooltip.destroy();\n            dropdown.destroy();\n            remove(groupButtonEle);\n        }\n    };\n    /**\n     * Updates the group button size.\n     *\n     * @param {HTMLElement} itemElement - Gets the group button container element.\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.updateGroupButtonSize = function (itemElement, item) {\n        var groupBtnSettings = item.groupButtonSettings;\n        var buttonEle;\n        for (var i = 0; i < groupBtnSettings.items.length; i++) {\n            if (this.parent.activeLayout === 'Classic') {\n                buttonEle = itemElement.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n            }\n            else {\n                buttonEle = document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n            }\n            if (buttonEle) {\n                var buttonObj = getComponent(buttonEle, Button);\n                buttonObj.setProperties({\n                    iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n                    content: item.activeSize === RibbonItemSize.Small ? '' : groupBtnSettings.items[parseInt(i.toString(), 10)].content\n                });\n            }\n        }\n    };\n    return RibbonGroupButton;\n}());\nexport { RibbonGroupButton };\n","import { append, getComponent, remove, formatUnit, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getItem, getTemplateFunction, setCustomAttributes } from '../base/index';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport * as constants from '../base/constant';\nimport { Popup } from '@syncfusion/ej2-popups';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonGallery = /** @class */ (function () {\n    function RibbonGallery(parent) {\n        this.count = 0;\n        this.isAdded = false;\n        this.galleryItemsIndex = 0;\n        this.parent = parent;\n    }\n    RibbonGallery.prototype.getModuleName = function () {\n        return 'ribbonGallery';\n    };\n    RibbonGallery.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates gallery.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGallery.prototype.createGallery = function (item, itemEle) {\n        var _this = this;\n        var gallerySettings = item.gallerySettings;\n        this.renderGalleryItems(gallerySettings, false, item.id, itemEle);\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id + '_popupButton',\n            className: 'e-ribbon-gallery-button e-icons e-drop-icon'\n        });\n        itemEle.appendChild(buttonEle);\n        this.createPopup(item, buttonEle);\n        buttonEle.onclick = function (args) {\n            var popupEle = document.querySelector('#' + item.id + '_galleryPopup');\n            if (popupEle) {\n                var popup = getComponent(popupEle, Popup);\n                popupEle.classList.contains('e-popup-close') ? _this.showPopup(popup, popupEle, args, gallerySettings, item.id) : _this.hidePopup(popup, popupEle, args, gallerySettings, item.id);\n            }\n        };\n        document.onclick = function (args) {\n            var popupEle = document.querySelectorAll('.e-ribbon-gallery-popup.e-popup-open');\n            var popupID;\n            var itemProp;\n            for (var i = 0; i < popupEle.length; i++) {\n                var popup = getComponent(popupEle[parseInt(i.toString(), 10)], Popup);\n                if (args.target.classList.contains('e-ribbon-gallery-button')) {\n                    popupID = (popupEle[parseInt(i.toString(), 10)].id).replace(/_galleryPopup/g, '');\n                    if ((args.target.id).replace(/_popupButton/g, '') !== popupID) {\n                        itemProp = getItem(_this.parent.tabs, popupID);\n                        _this.hidePopup(popup, popupEle[parseInt(i.toString(), 10)], args, itemProp.item.gallerySettings, popupID);\n                        break;\n                    }\n                }\n                else {\n                    popupID = (popupEle[parseInt(i.toString(), 10)].id).replace(/_galleryPopup/g, '');\n                    itemProp = getItem(_this.parent.tabs, popupID);\n                    _this.hidePopup(popup, popupEle[parseInt(i.toString(), 10)], args, itemProp.item.gallerySettings, popupID);\n                    break;\n                }\n            }\n        };\n    };\n    RibbonGallery.prototype.renderGalleryItems = function (gallerySettings, isPopup, id, itemEle) {\n        var _this = this;\n        var galleryContainerEle;\n        var galleryEle;\n        var itemProp = getItem(this.parent.tabs, id);\n        if (itemProp && itemProp.group) {\n            itemProp.group.isCollapsible = false;\n        }\n        var galleryWrapper = this.parent.createElement('div', {\n            className: 'e-ribbon-gallery-wrapper',\n            id: id + '_galleryWrapper'\n        });\n        if (!isPopup) {\n            itemEle.appendChild(galleryWrapper);\n        }\n        var _loop_1 = function (i) {\n            var isHeightDefined = false;\n            galleryContainerEle = this_1.parent.createElement('ol', {\n                className: 'e-ribbon-gallery-container',\n                id: id + '_galleryContainer' + i\n            });\n            if (gallerySettings.groups[parseInt(i.toString(), 10)].itemHeight && gallerySettings.groups[parseInt(i.toString(), 10)].itemHeight !== 'auto') {\n                isHeightDefined = true;\n            }\n            if (gallerySettings.groups[parseInt(i.toString(), 10)].cssClass) {\n                galleryContainerEle.classList.add(gallerySettings.groups[parseInt(i.toString(), 10)].cssClass);\n            }\n            var _loop_2 = function (j) {\n                galleryEle = this_1.parent.createElement('li', {\n                    className: 'e-ribbon-gallery-item',\n                    id: galleryContainerEle.id + '_gallery' + j,\n                    attrs: { 'tabindex': '0' }\n                });\n                var itemEventArgs = { name: 'beforeItemRender', item: gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)] };\n                if (gallerySettings.beforeItemRender) {\n                    gallerySettings.beforeItemRender.call(this_1, itemEventArgs);\n                }\n                galleryContainerEle.appendChild(galleryEle);\n                if (gallerySettings.selectedItemIndex && gallerySettings.selectedItemIndex === this_1.count) {\n                    galleryEle.classList.add('e-ribbon-gallery-selected');\n                }\n                else {\n                    if (!gallerySettings.selectedItemIndex && this_1.count === 0) {\n                        galleryEle.classList.add('e-ribbon-gallery-selected');\n                        gallerySettings.selectedItemIndex = this_1.count;\n                    }\n                }\n                this_1.count = this_1.count + 1;\n                galleryEle.onclick = function (e) {\n                    _this.setActiveState(e.currentTarget, gallerySettings, id, true, e);\n                };\n                galleryEle.onkeydown = function (e) {\n                    if (e.key === 'Enter' || e.key === ' ') {\n                        _this.setActiveState(e.currentTarget, gallerySettings, id, true, e);\n                    }\n                };\n                galleryEle.onmouseover = function (e) {\n                    var hoverEventArgs = { event: e, name: 'itemHover', item: gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)] };\n                    if (gallerySettings.itemHover) {\n                        gallerySettings.itemHover.call(_this, hoverEventArgs);\n                    }\n                };\n                if (gallerySettings.groups[parseInt(i.toString(), 10)].itemWidth && gallerySettings.groups[parseInt(i.toString(), 10)].itemWidth !== 'auto') {\n                    galleryEle.style.width = gallerySettings.groups[parseInt(i.toString(), 10)].itemWidth + 'px';\n                }\n                if (gallerySettings.groups[parseInt(i.toString(), 10)].itemHeight && gallerySettings.groups[parseInt(i.toString(), 10)].itemHeight !== 'auto') {\n                    galleryEle.style.height = gallerySettings.groups[parseInt(i.toString(), 10)].itemHeight + 'px';\n                    galleryEle.style.paddingTop = '0px';\n                    galleryEle.style.paddingBottom = '0px';\n                    if (this_1.parent.activeLayout !== 'Simplified' && !isPopup) {\n                        galleryContainerEle.style.flexFlow = 'wrap';\n                    }\n                }\n                if ((!gallerySettings.template && !gallerySettings.popupTemplate) || ((gallerySettings.template && !gallerySettings.popupTemplate) && isPopup) || ((gallerySettings.popupTemplate && !gallerySettings.template) && !isPopup)) {\n                    if (gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].htmlAttributes) {\n                        setCustomAttributes(galleryEle, gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].htmlAttributes);\n                    }\n                    if (gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].iconCss) {\n                        var iconEle = this_1.parent.createElement('span', {\n                            className: 'e-ribbon-gallery-icons' + ' ' + gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].iconCss\n                        });\n                        galleryEle.appendChild(iconEle);\n                        if (this_1.parent.activeLayout === 'Simplified' && !isPopup) {\n                            iconEle.classList.add('e-hidden');\n                        }\n                    }\n                    if (gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].content) {\n                        galleryEle.appendChild(this_1.parent.createElement('span', {\n                            innerHTML: gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].content,\n                            className: 'e-ribbon-gallery-text'\n                        }));\n                    }\n                    if (gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].disabled) {\n                        galleryEle.classList.add('e-disabled');\n                    }\n                    if (gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].cssClass) {\n                        galleryEle.classList.add(gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].cssClass);\n                    }\n                }\n                if (gallerySettings.template && !isPopup) {\n                    this_1.createGalleryTemplate(galleryEle, gallerySettings, id, gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)]);\n                }\n                if (gallerySettings.popupTemplate && isPopup) {\n                    this_1.createGalleryPopupTemplate(galleryEle, gallerySettings, id, gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)]);\n                }\n                if ((!isPopup && !isHeightDefined && (gallerySettings.itemCount === this_1.count))) {\n                    galleryWrapper.appendChild(galleryContainerEle);\n                    this_1.isAdded = true;\n                    return \"break\";\n                }\n            };\n            for (var j = 0; j < gallerySettings.groups[parseInt(i.toString(), 10)].items.length; j++) {\n                var state_2 = _loop_2(j);\n                if (state_2 === \"break\")\n                    break;\n            }\n            if (this_1.isAdded && !isPopup) {\n                return \"break\";\n            }\n            !isPopup ? galleryWrapper.appendChild(galleryContainerEle) : itemEle.appendChild(galleryContainerEle);\n            if (isPopup && gallerySettings.groups[parseInt(i.toString(), 10)].header) {\n                var headerEle = (this_1.parent.createElement('div', {\n                    className: 'e-ribbon-gallery-header',\n                    innerHTML: gallerySettings.groups[parseInt(i.toString(), 10)].header\n                }));\n                itemEle.insertBefore(headerEle, galleryContainerEle);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < gallerySettings.groups.length; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n        this.count = 0;\n        this.isAdded = false;\n    };\n    RibbonGallery.prototype.setWrapperWidth = function (itemCount, galleryWrapper, gallerySettings, itemID) {\n        var count = 1;\n        var itemsWidth = 0;\n        var isWidthApplied = false;\n        for (var i = 0; i < gallerySettings.groups.length; i++) {\n            for (var j = 0; j < gallerySettings.groups[parseInt(i.toString(), 10)].items.length; j++) {\n                if (gallerySettings.groups[parseInt(i.toString(), 10)].itemHeight && gallerySettings.groups[parseInt(i.toString(), 10)].itemHeight !== 'auto') {\n                    if (itemCount >= count) {\n                        var galleryItemEle = galleryWrapper.querySelector('#' + itemID + '_galleryContainer' + i + '_gallery' + j);\n                        if (galleryItemEle) {\n                            itemsWidth += galleryItemEle.offsetWidth;\n                            var itemStyles = window.getComputedStyle(galleryItemEle);\n                            if (itemStyles) {\n                                var paddingWidth = parseFloat(itemStyles.paddingLeft) + parseFloat(itemStyles.paddingRight);\n                                if (!(isNullOrUndefined(paddingWidth)))\n                                    itemsWidth += paddingWidth;\n                                var marginWidth = parseFloat(itemStyles.marginLeft) + parseFloat(itemStyles.marginRight);\n                                if (!(isNullOrUndefined(marginWidth)))\n                                    itemsWidth += marginWidth;\n                            }\n                        }\n                    }\n                    else {\n                        isWidthApplied = true;\n                        break;\n                    }\n                    count++;\n                }\n            }\n            if (isWidthApplied) {\n                break;\n            }\n        }\n        if (itemsWidth > 0)\n            galleryWrapper.style.width = itemsWidth + 'px';\n    };\n    /**\n     * Checks the gallery items height.\n     *\n     * @param {number} selectedTab - Gets the current selected tab.\n     * @param {HTMLElement} activeContent - Gets the current active content.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGallery.prototype.checkAvailableHeight = function (selectedTab, activeContent) {\n        var galleryWrapperItems = activeContent.querySelectorAll('.e-ribbon-gallery-wrapper');\n        for (var n = 0; n < galleryWrapperItems.length; n++) {\n            var isHeight = false;\n            var itemsCount = 0;\n            var galleryWrapper = galleryWrapperItems[parseInt(n.toString(), 10)];\n            var galleryWrapperHeight = galleryWrapper.offsetHeight;\n            var itemID = galleryWrapper.id.replace(/_galleryWrapper/g, '');\n            var itemProp = getItem(this.parent.tabs, itemID);\n            if (itemProp) {\n                this.setWrapperWidth(itemProp.item.gallerySettings.itemCount, galleryWrapper, itemProp.item.gallerySettings, itemID);\n                for (var i = 0; i < itemProp.item.gallerySettings.groups.length; i++) {\n                    if (itemProp.item.gallerySettings.groups[parseInt(i.toString(), 10)].itemHeight && itemProp.item.gallerySettings.groups[parseInt(i.toString(), 10)].itemHeight !== 'auto') {\n                        for (var j = 0; j < itemProp.item.gallerySettings.groups[parseInt(i.toString(), 10)].items.length; j++) {\n                            var galleryItemEle = galleryWrapper.querySelector('#' + itemID + '_galleryContainer' + i + '_gallery' + j);\n                            if (galleryItemEle) {\n                                itemsCount++;\n                                if (!isHeight) {\n                                    if (itemsCount === 1) {\n                                        var itemsValues = 0;\n                                        var itemStyles = window.getComputedStyle(galleryItemEle);\n                                        if (itemStyles) {\n                                            var paddingWidth = parseFloat(itemStyles.paddingTop) + parseFloat(itemStyles.paddingBottom);\n                                            if (!(isNullOrUndefined(paddingWidth)))\n                                                itemsValues += paddingWidth;\n                                            var marginWidth = parseFloat(itemStyles.marginTop) + parseFloat(itemStyles.marginBottom);\n                                            if (!(isNullOrUndefined(marginWidth)))\n                                                itemsValues += marginWidth;\n                                        }\n                                        if (galleryWrapperHeight > (galleryItemEle.offsetHeight + itemsValues)) {\n                                            galleryWrapperHeight -= (galleryItemEle.offsetHeight + itemsValues);\n                                        }\n                                        else {\n                                            isHeight = true;\n                                            galleryItemEle.remove();\n                                        }\n                                    }\n                                    if (itemsCount === itemProp.item.gallerySettings.itemCount) {\n                                        itemsCount = 0;\n                                    }\n                                }\n                                else {\n                                    galleryItemEle.remove();\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    RibbonGallery.prototype.checkCollision = function (popup, popupEle) {\n        var paddingWidth = 0;\n        var marginWidth = 0;\n        if (popupEle) {\n            var screenWidth = window.innerWidth;\n            var paddingStyles = window.getComputedStyle(popupEle);\n            if (paddingStyles) {\n                paddingWidth = parseFloat(paddingStyles.paddingLeft) + parseFloat(paddingStyles.paddingRight);\n                if (!(isNullOrUndefined(paddingWidth)))\n                    screenWidth = screenWidth - paddingWidth;\n            }\n            var popupContainerItems = popupEle.querySelectorAll('.e-ribbon-gallery-container');\n            if (popup.width !== 'auto') {\n                popupContainerItems.forEach(function (ele) {\n                    ele.style.flexFlow = 'wrap';\n                });\n            }\n            var isCollideOccurs = false;\n            for (var i = 0; i < popupContainerItems.length; i++) {\n                var itemsWidth = 0;\n                for (var j = 0; j < popupContainerItems[parseInt(i.toString(), 10)].querySelectorAll('.e-ribbon-gallery-item').length; j++) {\n                    var marginStyles = window.getComputedStyle(popupContainerItems[parseInt(i.toString(), 10)].querySelectorAll('.e-ribbon-gallery-item')[parseInt(j.toString(), 10)]);\n                    if (marginStyles) {\n                        marginWidth = parseFloat(marginStyles.marginLeft) + parseFloat(marginStyles.marginRight);\n                        if (!(isNullOrUndefined(marginWidth)))\n                            itemsWidth += marginWidth;\n                    }\n                    itemsWidth += popupContainerItems[parseInt(i.toString(), 10)].querySelectorAll('.e-ribbon-gallery-item')[parseInt(j.toString(), 10)].offsetWidth;\n                    if (((screenWidth <= itemsWidth) && popup.width === 'auto') || ((popup.width !== 'auto') && (screenWidth <= parseInt(popup.width.toString(), 10)) && (screenWidth <= itemsWidth))) {\n                        popupEle.style.width = ((itemsWidth + Math.abs(paddingWidth - marginWidth)) - popupContainerItems[parseInt(i.toString(), 10)].querySelectorAll('.e-ribbon-gallery-item')[parseInt(j.toString(), 10)].offsetWidth) + 'px';\n                        isCollideOccurs = true;\n                        break;\n                    }\n                }\n                if (isCollideOccurs) {\n                    popupContainerItems.forEach(function (ele) {\n                        ele.style.flexFlow = 'wrap';\n                    });\n                    break;\n                }\n            }\n            if (!isCollideOccurs) {\n                if (popup.width === 'auto') {\n                    popupContainerItems.forEach(function (ele) {\n                        ele.style.flexFlow = 'nowrap';\n                    });\n                    popupEle.style.width = 'auto';\n                }\n                else {\n                    popupEle.style.width = (popup.width).toString();\n                }\n            }\n        }\n    };\n    RibbonGallery.prototype.createPopup = function (item, buttonEle) {\n        var popupContainer = this.parent.createElement('div', {\n            className: 'e-ribbon-popup-container',\n            id: item.id + '_popupContainer'\n        });\n        this.renderGalleryItems(item.gallerySettings, true, item.id, popupContainer);\n        var gallerypopupElement = this.parent.createElement('div', {\n            className: 'e-ribbon-gallery-popup',\n            id: item.id + '_galleryPopup'\n        });\n        document.body.append(gallerypopupElement);\n        var galleryPopup = new Popup(gallerypopupElement, {\n            relateTo: buttonEle,\n            content: popupContainer,\n            collision: { X: 'fit', Y: 'flip' },\n            actionOnScroll: 'hide',\n            targetType: 'relative',\n            position: { X: 'left', Y: 'bottom' },\n            enableRtl: this.parent.enableRtl,\n            width: item.gallerySettings.popupWidth,\n            height: item.gallerySettings.popupHeight\n        });\n        galleryPopup.hide();\n    };\n    /**\n     * Updates gallery in mode switching.\n     *\n     * @param {string} activeLayout - Gets the current active layout.\n     * @param {string} itemID - Gets the ribbon item id.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGallery.prototype.switchGalleryItems = function (activeLayout, itemID) {\n        var itemEle = this.parent.element.querySelector('#' + itemID + constants.CONTAINER_ID);\n        var count = 0;\n        var itemProp = getItem(this.parent.tabs, itemID);\n        if (itemEle) {\n            var galleryWrapper = itemEle.querySelector('.e-ribbon-gallery-wrapper');\n            var galleryIcons = itemEle.querySelectorAll('.e-ribbon-gallery-icons');\n            var galleryContainer = itemEle.querySelectorAll('.e-ribbon-gallery-container');\n            if (galleryIcons.length) {\n                for (var i = 0; i < galleryIcons.length; i++) {\n                    activeLayout === 'Simplified' ? galleryIcons[parseInt(i.toString(), 10)].classList.add('e-hidden') : galleryIcons[parseInt(i.toString(), 10)].classList.remove('e-hidden');\n                }\n            }\n            if (galleryContainer.length && itemProp) {\n                for (var n = 0; n < itemProp.item.gallerySettings.groups.length; n++) {\n                    for (var i = 0; i < galleryContainer.length; i++) {\n                        if (itemProp.item.gallerySettings.groups[parseInt(n.toString(), 10)].itemHeight && itemProp.item.gallerySettings.groups[parseInt(n.toString(), 10)].itemHeight !== 'auto') {\n                            if (itemID + '_galleryContainer' + n === galleryContainer[parseInt(i.toString(), 10)].id) {\n                                activeLayout === 'Simplified' ? galleryContainer[parseInt(i.toString(), 10)].style.flexFlow = 'nowrap' : galleryContainer[parseInt(i.toString(), 10)].style.flexFlow = 'wrap';\n                            }\n                        }\n                    }\n                }\n            }\n            if (galleryWrapper) {\n                for (var n = 0; n < itemProp.item.gallerySettings.groups.length; n++) {\n                    for (var i = 0; i < itemProp.item.gallerySettings.groups[parseInt(n.toString(), 10)].items.length; i++) {\n                        count++;\n                        if (count > itemProp.item.gallerySettings.itemCount) {\n                            var galleryItemEle = galleryWrapper.querySelector('#' + itemID + '_galleryContainer' + n + '_gallery' + i);\n                            if (galleryItemEle) {\n                                activeLayout === 'Simplified' ? galleryItemEle.classList.add('e-hidden') : galleryItemEle.classList.remove('e-hidden');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGallery.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        if (itemEle.closest('.e-ribbon-overflow-target')) {\n            var buttonEle = this.parent.createElement('button', {\n                id: item.id,\n            });\n            itemEle.appendChild(buttonEle);\n            itemEle.querySelector('.e-ribbon-gallery-wrapper').classList.add('e-hidden');\n            itemEle.querySelectorAll('.e-ribbon-gallery-container').forEach(function (ele) {\n                ele.classList.add('e-hidden');\n            });\n            var popupButton = itemEle.querySelector('#' + item.id + '_popupButton');\n            if (popupButton)\n                popupButton.classList.add('e-hidden');\n            var itemProp = getItem(this.parent.tabs, item.id);\n            var iconCss = itemProp && itemProp.group.groupIconCss ? itemProp.group.groupIconCss : '';\n            var content = itemProp && itemProp.group.header ? itemProp.group.header : '';\n            if (!iconCss) {\n                for (var i = 0; i < item.gallerySettings.groups.length; i++) {\n                    for (var j = 0; j < item.gallerySettings.groups[parseInt(i.toString(), 10)].items.length; j++) {\n                        if (item.gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].iconCss) {\n                            iconCss = item.gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)].iconCss;\n                            break;\n                        }\n                    }\n                    if (iconCss) {\n                        break;\n                    }\n                }\n            }\n            var popupEle = document.querySelector('#' + item.id + '_galleryPopup');\n            var popup = getComponent(popupEle, Popup);\n            var popupContainerEle_1 = document.querySelector('#' + item.id + '_galleryPopup .e-ribbon-popup-container');\n            var dropdown_1 = new DropDownButton({\n                iconCss: iconCss,\n                content: content,\n                target: popupContainerEle_1,\n                enableRtl: this.parent.enableRtl,\n                cssClass: 'e-ribbon-gallery-dropdown',\n                disabled: item.disabled,\n                open: function () {\n                    _this.setFoucsToFirstItem(popupContainerEle_1, true, item.id);\n                    _this.checkCollision(dropdown_1.dropDown, dropdown_1.dropDown.element);\n                },\n                beforeClose: function (args) {\n                    var isCancelled = _this.popupEvents(args.event, item.gallerySettings, 'popupClose', false);\n                    if (isCancelled) {\n                        args.cancel = true;\n                    }\n                }\n            }, buttonEle);\n            if (popup.width !== 'auto') {\n                dropdown_1.dropDown.width = formatUnit(popup.width);\n            }\n            if (popup.height !== 'auto') {\n                dropdown_1.dropDown.height = formatUnit(popup.height);\n                dropdown_1.dropDown.element.style.height = (popup.height).toString();\n            }\n        }\n    };\n    /**\n     * Removes the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGallery.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var popupButton = itemEle.querySelector('#' + item.id + '_popupButton');\n        if (popupButton) {\n            popupButton.classList.remove('e-hidden');\n        }\n        itemEle.querySelector('.e-ribbon-gallery-wrapper').classList.remove('e-hidden');\n        itemEle.querySelectorAll('.e-ribbon-gallery-container').forEach(function (ele) {\n            ele.classList.remove('e-hidden');\n        });\n        var galleryDDBEle = document.querySelector('#' + item.id);\n        if (galleryDDBEle) {\n            var popupEle = document.querySelector('#' + item.id + '_galleryPopup');\n            var dropdown = getComponent(galleryDDBEle, DropDownButton);\n            popupEle.appendChild(dropdown.target);\n            dropdown.destroy();\n            remove(galleryDDBEle);\n        }\n    };\n    RibbonGallery.prototype.setActiveState = function (galleryEle, gallerySettings, itemID, isInteracted, event) {\n        var previousItem;\n        var currentItem;\n        var itemEle = document.querySelector('#' + itemID + constants.CONTAINER_ID);\n        var selctedGalleryItem = Array.prototype.slice.call(itemEle.querySelectorAll('.e-ribbon-gallery-selected'));\n        var popupEle = document.querySelector('#' + itemID + '_popupContainer');\n        var popupGalleryItem = Array.prototype.slice.call(popupEle.querySelectorAll('.e-ribbon-gallery-selected'));\n        if (popupGalleryItem.length) {\n            selctedGalleryItem = selctedGalleryItem.concat(popupGalleryItem);\n        }\n        for (var i = 0; i < gallerySettings.groups.length; i++) {\n            for (var j = 0; j < gallerySettings.groups[parseInt(i.toString(), 10)].items.length; j++) {\n                if (selctedGalleryItem[0].id === itemID + '_galleryContainer' + i + '_gallery' + j) {\n                    previousItem = gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)];\n                }\n                if (galleryEle.id === itemID + '_galleryContainer' + i + '_gallery' + j) {\n                    currentItem = gallerySettings.groups[parseInt(i.toString(), 10)].items[parseInt(j.toString(), 10)];\n                }\n            }\n        }\n        var galleryItem = document.querySelectorAll('#' + galleryEle.id);\n        var selectingEventArgs = { cancel: false, name: 'beforeSelect', previousItem: previousItem, currentItem: currentItem, isInteracted: isInteracted, event: event };\n        if (gallerySettings.beforeSelect) {\n            gallerySettings.beforeSelect.call(this, selectingEventArgs);\n        }\n        if (selectingEventArgs.cancel) {\n            return;\n        }\n        else {\n            for (var i = 0; i < selctedGalleryItem.length; i++) {\n                selctedGalleryItem[parseInt(i.toString(), 10)].classList.remove('e-ribbon-gallery-selected');\n            }\n            for (var i = 0; i < galleryItem.length; i++) {\n                galleryItem[parseInt(i.toString(), 10)].classList.add('e-ribbon-gallery-selected');\n            }\n            var selectedEventArgs = { previousItem: previousItem, currentItem: currentItem, name: 'select', isInteracted: isInteracted, event: event };\n            var galleryPopupItems = document.querySelectorAll('#' + itemID + '_popupContainer .e-ribbon-gallery-item');\n            for (var i = 0; i < galleryPopupItems.length; i++) {\n                if (galleryPopupItems[parseInt(i.toString(), 10)].id === galleryEle.id) {\n                    gallerySettings.selectedItemIndex = i;\n                    break;\n                }\n            }\n            if (gallerySettings.select) {\n                gallerySettings.select.call(this, selectedEventArgs);\n            }\n        }\n    };\n    RibbonGallery.prototype.popupEvents = function (args, gallerySettings, name, isOpen) {\n        var popupEventArgs = { cancel: false, event: args, name: name };\n        if (isOpen && gallerySettings.popupOpen) {\n            gallerySettings.popupOpen.call(this, popupEventArgs);\n        }\n        else if (!isOpen && gallerySettings.popupClose) {\n            gallerySettings.popupClose.call(this, popupEventArgs);\n        }\n        if (popupEventArgs.cancel) {\n            return true;\n        }\n        return false;\n    };\n    RibbonGallery.prototype.showPopup = function (popup, popupEle, args, gallerySettings, itemID) {\n        var isCancelled = this.popupEvents(args, gallerySettings, 'popupOpen', true);\n        if (isCancelled) {\n            return;\n        }\n        popup.show();\n        this.checkCollision(popup, popupEle);\n        var buttonEle = document.querySelector('#' + itemID + '_popupButton');\n        buttonEle.classList.add('e-gallery-button-active');\n        var buttonPosition = buttonEle.getBoundingClientRect();\n        var offsetX = Math.abs((popupEle.offsetWidth - buttonPosition.left)) + buttonEle.offsetWidth;\n        popupEle.style.left = offsetX + 'px';\n        popupEle.style.top = popupEle.getBoundingClientRect().top + 2 + 'px';\n        this.setFoucsToFirstItem(popupEle, false, itemID, popup, gallerySettings);\n    };\n    RibbonGallery.prototype.hidePopup = function (popup, popupEle, args, gallerySettings, itemID) {\n        var isCancelled = this.popupEvents(args, gallerySettings, 'popupClose', false);\n        if (isCancelled) {\n            return;\n        }\n        popup.hide();\n        var buttonEle = document.querySelector('#' + itemID + '_popupButton');\n        buttonEle.classList.remove('e-gallery-button-active');\n    };\n    /**\n     * Shows a specific gallery popup in the ribbon.\n     *\n     * @param {string} id - Gets the ribbon item id.\n     * @returns {void}\n     */\n    RibbonGallery.prototype.showGalleryPopup = function (id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        var popupEle = document.querySelector('#' + id + '_galleryPopup');\n        var popup = getComponent(popupEle, Popup);\n        this.showPopup(popup, popupEle, null, itemProp.item.gallerySettings, id);\n    };\n    /**\n     * Hides a specific gallery popup in the ribbon.\n     *\n     * @param {string} id - Gets the ribbon item id.\n     * @returns {void}\n     */\n    RibbonGallery.prototype.hideGalleryPopup = function (id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        var popupEle = document.querySelector('#' + id + '_galleryPopup');\n        var popup = getComponent(popupEle, Popup);\n        this.hidePopup(popup, popupEle, null, itemProp.item.gallerySettings, id);\n    };\n    RibbonGallery.prototype.setFoucsToFirstItem = function (popupEle, isDropdown, itemID, popup, gallerySettings) {\n        var _this = this;\n        popupEle.querySelectorAll('.e-ribbon-gallery-item')[0].focus();\n        this.galleryItemsIndex = 0;\n        popupEle.onkeydown = function (e) {\n            _this.handleGalleryPopupNavigation(e, popupEle, isDropdown, itemID, popup, gallerySettings);\n        };\n    };\n    RibbonGallery.prototype.handleGalleryPopupNavigation = function (e, popupEle, isDropdown, itemID, popup, gallerySettings) {\n        var galleryPopupEle = popupEle.querySelectorAll('.e-ribbon-gallery-item');\n        if (galleryPopupEle) {\n            if (e.key === 'Home') {\n                this.galleryItemsIndex = 0;\n                galleryPopupEle[this.galleryItemsIndex].focus();\n            }\n            else if (e.key === 'End') {\n                this.galleryItemsIndex = galleryPopupEle.length - 1;\n                galleryPopupEle[this.galleryItemsIndex].focus();\n            }\n            else if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {\n                this.galleryItemsIndex++;\n                if (this.galleryItemsIndex !== galleryPopupEle.length) {\n                    if (galleryPopupEle && (galleryPopupEle[this.galleryItemsIndex])) {\n                        galleryPopupEle[this.galleryItemsIndex].focus();\n                    }\n                }\n                else {\n                    this.galleryItemsIndex = 0;\n                    galleryPopupEle[this.galleryItemsIndex].focus();\n                }\n            }\n            else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {\n                if (this.galleryItemsIndex !== 0) {\n                    this.galleryItemsIndex--;\n                    if (galleryPopupEle && (galleryPopupEle[this.galleryItemsIndex])) {\n                        galleryPopupEle[this.galleryItemsIndex].focus();\n                    }\n                }\n                else {\n                    this.galleryItemsIndex = galleryPopupEle.length - 1;\n                    galleryPopupEle[this.galleryItemsIndex].focus();\n                }\n            }\n            else if (e.key === 'Enter' || e.code === 'Space') {\n                galleryPopupEle[this.galleryItemsIndex].click();\n            }\n            else if (e.key === 'Escape' && !isDropdown) {\n                this.hidePopup(popup, popupEle, e, gallerySettings, itemID);\n            }\n        }\n    };\n    RibbonGallery.prototype.createGalleryTemplate = function (galleryItemEle, gallerySettings, id, items) {\n        galleryItemEle.classList.add('e-ribbon-gallery-template');\n        var templateName = 'ribbon' + id + 'galleryTemplate';\n        this.parent['clearTemplate']([templateName]);\n        var templateFunction = getTemplateFunction(gallerySettings.template);\n        if (items.disabled) {\n            galleryItemEle.classList.add('e-disabled');\n        }\n        if (items.cssClass) {\n            galleryItemEle.classList.add(items.cssClass);\n        }\n        append(templateFunction({ items: items }, this, templateName, (id + 'galleryTemplate'), this.parent.isStringTemplate), galleryItemEle);\n        this.parent['renderReactTemplates']();\n    };\n    RibbonGallery.prototype.createGalleryPopupTemplate = function (galleryItemEle, gallerySettings, id, items) {\n        galleryItemEle.classList.add('e-ribbon-gallery-popup-template');\n        var templateName = 'ribbon' + id + 'galleryPopupTemplate';\n        this.parent['clearTemplate']([templateName]);\n        var templateFunction = getTemplateFunction(gallerySettings.popupTemplate);\n        if (items.disabled) {\n            galleryItemEle.classList.add('e-disabled');\n        }\n        if (items.cssClass) {\n            galleryItemEle.classList.add(items.cssClass);\n        }\n        append(templateFunction({ items: items }, this, templateName, (id + 'galleryPopupTemplate'), this.parent.isStringTemplate), galleryItemEle);\n        this.parent['renderReactTemplates']();\n    };\n    return RibbonGallery;\n}());\nexport { RibbonGallery };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { addClass, append, Event, Collection, Complex, Component, EventHandler, formatUnit, getInstance, getComponent, getUniqueID, closest, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, NotifyPropertyChanges, Property, remove, removeClass } from '@syncfusion/ej2-base';\nimport { Tab, TabAnimationSettings, HScroll, Toolbar } from '@syncfusion/ej2-navigations';\nimport { RibbonTab, FileMenuSettings, BackStageMenu, RibbonContextualTabSettings } from '../models/index';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport { ItemOrientation, RibbonItemSize, RibbonItemType } from './interface';\nimport { RibbonButton, RibbonComboBox, RibbonCheckBox, RibbonDropDown, RibbonSplitButton, RibbonGroupButton } from '../items/index';\nimport { destroyControl, getCollection, getGroup, getIndex, getItem, getItemElement, updateCommonProperty, updateControlDisabled, isTooltipPresent, getTemplateFunction, createTooltip, destroyTooltip, updateTooltipProp } from './utils';\nimport * as constants from './constant';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { DropDownButton, SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n/**\n * The Ribbon Component is a structured layout to manage tools with tabs and groups.\n */\nvar Ribbon = /** @class */ (function (_super) {\n    __extends(Ribbon, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param  {RibbonModel} options - Specifies the ribbon model\n     * @param  {string|HTMLDivElement} element - Specifies the target element\n     */\n    function Ribbon(options, element) {\n        var _this = this;\n        Ribbon_1.Inject(RibbonButton, RibbonCheckBox, RibbonDropDown, RibbonSplitButton, RibbonComboBox, RibbonGroupButton);\n        _this = _super.call(this, options, element) || this;\n        return _this;\n    }\n    Ribbon_1 = Ribbon;\n    /**\n     * Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.render = function () {\n        this.initialize();\n    };\n    Ribbon.prototype.preRender = function () {\n        this.keysPress = '';\n        this.idIndex = 0;\n        this.tooltipData = [];\n        this.initialPropsData = {};\n        this.hiddenElements = {};\n        this.keyTipElements = {};\n        this.hiddenGroups = [];\n        this.itemsModel = [];\n        this.targetTabs = {};\n        this.isAddRemove = false;\n        this.isUpdateItems = false;\n        this.keyConfigs = {\n            leftarrow: 'leftarrow',\n            rightarrow: 'rightarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab'\n        };\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    Ribbon.prototype.getPersistData = function () {\n        return this.addOnPersist(['activeLayout']);\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module name\n     * @private\n     */\n    Ribbon.prototype.getModuleName = function () {\n        return 'ribbon';\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - returns module declaration.\n     * @hidden\n     */\n    Ribbon.prototype.requiredModules = function () {\n        var modules = [];\n        modules.push({ member: 'ribbonButton', args: [this], name: 'RibbonButton' }, { member: 'ribbonDropDown', args: [this], name: 'RibbonDropDown' }, { member: 'ribbonSplitButton', args: [this], name: 'RibbonSplitButton' }, { member: 'ribbonCheckBox', args: [this], name: 'RibbonCheckBox' }, { member: 'ribbonComboBox', args: [this], name: 'RibbonComboBox' }, { member: 'ribbonGroupButton', args: [this], name: 'RibbonGroupButton' });\n        var canInjectColorPickerModule = getItem(this.tabs, null, RibbonItemType.ColorPicker);\n        var canInjectGalleryModule = getItem(this.tabs, null, RibbonItemType.Gallery);\n        if (canInjectColorPickerModule) {\n            modules.push({ member: 'ribbonColorPicker', args: [this], name: 'RibbonColorPicker' });\n        }\n        if (canInjectGalleryModule) {\n            modules.push({ member: 'ribbonGallery', args: [this], name: 'RibbonGallery' });\n        }\n        if (this.backStageMenu.visible || this.backStageMenu.items.length) {\n            modules.push({ member: 'ribbonBackstage', args: [this], name: 'RibbonBackstage' });\n        }\n        if (this.fileMenu.visible || this.fileMenu.menuItems.length) {\n            modules.push({ member: 'ribbonFileMenu', args: [this], name: 'RibbonFileMenu' });\n        }\n        if (this.contextualTabs.length) {\n            modules.push({ member: 'ribbonContextualTab', args: [this], name: 'RibbonContextualTab' });\n        }\n        if (this.enableKeyTips) {\n            modules.push({ member: 'ribbonKeyTip', args: [this], name: 'RibbonKeyTip' });\n        }\n        return modules;\n    };\n    Ribbon.prototype.initialize = function () {\n        this.element.id = this.element.id || getUniqueID('e-' + this.getModuleName());\n        addClass([this.element], ['e-rbn'].concat((this.cssClass ? this.cssClass.split(constants.SPACE) : [])));\n        if (this.enableRtl) {\n            this.element.classList.add(constants.RTL_CSS);\n        }\n        this.element.style.width = formatUnit(this.width);\n        this.renderTabs();\n        if (this.ribbonContextualTabModule) {\n            this.ribbonContextualTabModule.addContextualTabs();\n        }\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.createFileMenu(this.fileMenu);\n        }\n        if (this.ribbonBackstageModule) {\n            this.ribbonBackstageModule.createBackStage(this.backStageMenu);\n        }\n        this.createHelpPaneTemplate();\n        var toolbar = this.tabObj['tbObj'];\n        toolbar.refreshOverflow();\n        this.addTabOverflowKeyTip();\n        createTooltip(this.element, this);\n        this.isKeytipOpen = false;\n        this.wireEvents();\n        this.wireKeyboardEvent();\n        this.currentControlIndex = 0;\n    };\n    Ribbon.prototype.wireEvents = function () {\n        EventHandler.add(window, 'resize', this.resizeHandler, this);\n        EventHandler.add(document.body, 'keydown', this.keytipActionHandler, this);\n        EventHandler.add(document, 'mousedown', this.mouseEventHandler, this);\n        EventHandler.add(document, 'scroll', this.mouseEventHandler, this);\n    };\n    Ribbon.prototype.wireKeyboardEvent = function () {\n        this.keyboardModuleRibbon = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    Ribbon.prototype.keyActionHandler = function (e) {\n        if (((e.key === 'Tab') && (!(e.target.classList.contains('e-tab-wrap')) && !(e.target.classList.contains('e-combobox'))))) {\n            e.preventDefault();\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var controlElements = Array.prototype.slice.call(activeContent.querySelectorAll('.e-control'));\n        var templateElements = Array.prototype.slice.call(activeContent.querySelectorAll('.e-ribbon-template'));\n        var galleryElements = Array.prototype.slice.call(activeContent.querySelectorAll('.e-ribbon-gallery-item'));\n        var ribbonControls = controlElements.concat(templateElements, galleryElements);\n        var comboBoxElements = activeContent.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < ribbonControls.length; i++) {\n                if (ribbonControls[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (ribbonControls[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.currentControlIndex = i;\n                    }\n                }\n            }\n        }\n        if (this.currentControlIndex === 0) {\n            var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            while (item && item.classList.contains('e-disabled')) {\n                this.currentControlIndex++;\n                item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-collapse-btn') || e.target.classList.contains('e-ribbon-last-item') ||\n            e.target.classList.contains('e-ribbon-first-item') || e.target.classList.contains('e-ribbon-group-of-btn') ||\n            e.target.classList.contains('e-ribbon-overall-of-btn') || e.target.classList.contains('e-ribbon-template') || e.target.classList.contains('e-ribbon-gallery-item')) {\n            switch (e.action) {\n                case 'rightarrow':\n                    this.handleNavigation(e, !this.enableRtl, ribbonControls);\n                    break;\n                case 'leftarrow':\n                    this.handleNavigation(e, this.enableRtl, ribbonControls);\n                    break;\n                case 'tab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex < ribbonControls.length - 1) {\n                            this.currentControlIndex++;\n                        }\n                    }\n                    break;\n                case 'shiftTab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex > 0) {\n                            this.currentControlIndex--;\n                        }\n                    }\n                    else {\n                        this.tabObj.element.querySelector('.e-toolbar-item.e-active').querySelector('.e-tab-wrap').focus();\n                        this.currentControlIndex = 0;\n                    }\n            }\n        }\n    };\n    Ribbon.prototype.handleNavigation = function (e, enableRtl, ribbonControls) {\n        var groupContainer;\n        var prevGroupId;\n        if (enableRtl) {\n            if (this.currentControlIndex < ribbonControls.length - 1 && ribbonControls[this.currentControlIndex + 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex++;\n            }\n        }\n        else {\n            if (this.currentControlIndex > 0 && ribbonControls[this.currentControlIndex - 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex--;\n            }\n        }\n        if ((!enableRtl && (this.currentControlIndex > 0)) || (enableRtl && (this.currentControlIndex < ribbonControls.length - 1))) {\n            if (!e.target.classList.contains('e-combobox') && (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-template') || e.target.classList.contains('e-ribbon-gallery-item')) && !e.target.classList.contains('e-ribbon-last-item')) {\n                if (enableRtl) {\n                    this.currentControlIndex++;\n                }\n                else {\n                    var prevGroupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (prevGroupContainer) {\n                        prevGroupId = prevGroupContainer.getAttribute('id');\n                    }\n                    this.currentControlIndex--;\n                }\n                var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (item && item.classList.contains('e-disabled')) {\n                    if (((enableRtl && this.currentControlIndex === ribbonControls.length - 1) ||\n                        (!enableRtl && this.currentControlIndex === 0))) {\n                        if (ribbonControls[this.currentControlIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                            this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                            break;\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                    enableRtl ? this.currentControlIndex++ : this.currentControlIndex--;\n                    item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (this.activeLayout === 'Classic') {\n                    groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (enableRtl) {\n                        var launcherIconEle = void 0;\n                        if (groupContainer) {\n                            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                        }\n                        if (launcherIconEle) {\n                            var items = groupContainer.querySelectorAll('.e-ribbon-item');\n                            var elem = items[items.length - 1].querySelector('.e-control');\n                            if (elem) {\n                                elem.classList.add('e-ribbon-last-item');\n                            }\n                        }\n                    }\n                    else {\n                        if (groupContainer) {\n                            var groupContainerId = groupContainer.getAttribute('id');\n                            if (prevGroupId !== groupContainerId) {\n                                var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                                if (launcherIconEle) {\n                                    ribbonControls[parseInt((this.currentControlIndex + 1).toString(), 10)].classList.add('e-ribbon-first-item');\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-first-item');\n                    }\n                    else if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-last-item');\n                    }\n                }\n            }\n        }\n        else {\n            if (this.activeLayout === 'Classic') {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            if (this.activeLayout === 'Simplified') {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if (enableRtl && (overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                }\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-last-item')) {\n            if (enableRtl) {\n                groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n            else {\n                this.currentControlIndex--;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (!enableRtl && e.target.classList.contains('e-ribbon-first-item')) {\n            groupContainer = ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n            var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n            if (launcherIconEle) {\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n            if (enableRtl) {\n                this.currentControlIndex++;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                    ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.remove('e-ribbon-last-item');\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                this.currentControlIndex;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-collapse-btn')) {\n            if (enableRtl) {\n                this.currentControlIndex = 0;\n                var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                    this.currentControlIndex++;\n                    ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n            else {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if ((overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.currentControlIndex = ribbonControls.length - 1;\n                    var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                        this.currentControlIndex--;\n                        ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    }\n                    ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                }\n            }\n        }\n        if (this.activeLayout === 'Simplified' && e.target.classList.contains('e-ribbon-overall-of-btn')) {\n            if (enableRtl) {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            else {\n                this.currentControlIndex = ribbonControls.length - 1;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n    };\n    Ribbon.prototype.resizeHandler = function () {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n        if (this.scrollModule) {\n            var scrollEle = this.tabObj.element.querySelector('.' + constants.HORIZONTAL_SCROLLBAR);\n            this.scrollModule.scrollStep = scrollEle.offsetWidth;\n        }\n        if (this.activeLayout === 'Simplified') {\n            var activePopup = document.querySelectorAll('.e-ribbon .e-dropdown-btn.e-active, .e-ribbon-group-overflow-ddb .e-dropdown-btn.e-active');\n            if (activePopup.length) {\n                for (var i = 0; i < activePopup.length; i++) {\n                    var dropDownBtn = getInstance(activePopup[parseInt(i.toString(), 10)], DropDownButton);\n                    dropDownBtn.toggle();\n                }\n            }\n        }\n        var galleryPopupEle = document.querySelector('.e-ribbon-gallery-popup.e-popup-open');\n        if (galleryPopupEle) {\n            var popup = getComponent(galleryPopupEle, Popup);\n            popup.hide();\n        }\n        if (this.ribbonKeyTipModule && this.enableKeyTips) {\n            this.ribbonKeyTipModule.removeKeytip();\n        }\n    };\n    Ribbon.prototype.mouseEventHandler = function (e) {\n        if (this.ribbonKeyTipModule && this.enableKeyTips) {\n            this.ribbonKeyTipModule.removeKeytip();\n        }\n    };\n    Ribbon.prototype.keytipActionHandler = function (e) {\n        if (this.enableKeyTips) {\n            var isKeyTipPresent = false;\n            var keyPress = e.key;\n            if (e.altKey && e.key === 'Meta') {\n                var activePopup = document.querySelectorAll('.e-ribbon .e-dropdown-btn.e-active, .e-ribbon-group-overflow-ddb .e-dropdown-btn.e-active');\n                if (activePopup.length) {\n                    for (var i = 0; i < activePopup.length; i++) {\n                        var dropDownBtn = getInstance(activePopup[parseInt(i.toString(), 10)], DropDownButton);\n                        dropDownBtn.toggle();\n                    }\n                    this.ribbonKeyTipModule.removeKeytip();\n                }\n                else {\n                    if (!this.isKeytipOpen) {\n                        var backstagePopup = document.querySelector('.e-ribbon-backstage-popup');\n                        if (backstagePopup && backstagePopup.classList.contains('e-popup-open')) {\n                            this.ribbonBackstageModule.hideBackstage();\n                        }\n                        this.ribbonKeyTipModule.createKeytip('tab');\n                    }\n                    else {\n                        this.ribbonKeyTipModule.removeKeytip();\n                    }\n                }\n            }\n            else if (e.key === 'Escape' || e.key === 'Tab' || e.key === 'ArrowLeft' || e.key === 'ArrowUp' || e.key === 'ArrowRight' || e.key === 'ArrowDown') {\n                this.ribbonKeyTipModule.removeKeytip(e.key);\n            }\n            else {\n                var keyTipItems = document.querySelectorAll('.e-ribbon-keytip');\n                if (keyTipItems) {\n                    for (var i = 0; i < keyTipItems.length; i++) {\n                        var keyTipItem = keyTipItems[parseInt(i.toString(), 10)];\n                        if (keyTipItem.innerHTML.toLowerCase() === keyPress) {\n                            isKeyTipPresent = true;\n                            this.ribbonKeyTipModule.keytipPress(keyPress);\n                            break;\n                        }\n                    }\n                    if (!isKeyTipPresent) {\n                        this.checkKeyTipPresent(keyPress, this.keysPress.length);\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkKeyTipPresent = function (keyTip, length) {\n        var keyTipItems = document.querySelectorAll('.e-ribbon-keytip');\n        for (var i = 0; i < keyTipItems.length; i++) {\n            var keyTipItem = keyTipItems[parseInt(i.toString(), 10)];\n            if (keyTipItem.innerHTML.length > 1 && keyTipItem.innerHTML[parseInt(length.toString(), 10)].toLowerCase() === keyTip) {\n                this.keysPress += keyTip;\n                this.ribbonKeyTipModule.keytipPress(this.keysPress);\n                this.removeKeytip(this.keysPress);\n                break;\n            }\n        }\n    };\n    Ribbon.prototype.removeKeytip = function (keyTip) {\n        var keyTipItems = document.querySelectorAll('.e-ribbon-keytip');\n        for (var i = 0; i < keyTipItems.length; i++) {\n            var keyTipItem = keyTipItems[parseInt(i.toString(), 10)];\n            if (keyTipItem.innerHTML[0].toLowerCase() !== keyTip && keyTip !== '') {\n                remove(keyTipItem);\n            }\n        }\n    };\n    Ribbon.prototype.addKeyTip = function (tabIndex, keyTip, id, type) {\n        if (this.keyTipElements && this.keyTipElements[parseInt(tabIndex.toString(), 10)]) {\n            var isKeyTipExist = false;\n            /* eslint-disable */\n            if (!(this.keyTipElements[parseInt(tabIndex.toString(), 10)][type])) {\n                this.keyTipElements[parseInt(tabIndex.toString(), 10)][type] = [];\n            }\n            if (Object.keys(this.keyTipElements[tabIndex][type]).length) {\n                var keytipData = this.keyTipElements[tabIndex][type];\n                for (var i = 0; i < Object.keys(this.keyTipElements[tabIndex][type]).length; i++) {\n                    if (keytipData[parseInt(i.toString(), 10)].id === id) {\n                        isKeyTipExist = true;\n                    }\n                }\n                if (!isKeyTipExist) {\n                    this.keyTipElements[tabIndex][type].push({ id: id, type: type, keyTip: keyTip });\n                }\n            }\n            else {\n                this.keyTipElements[tabIndex][type].push({ id: id, type: type, keyTip: keyTip });\n            }\n            /* eslint-enable */\n        }\n    };\n    Ribbon.prototype.renderTabs = function () {\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal = this.checkID(this.tabsInternal, 'tab', this.element.id);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        var tabEle = this.createElement('div', {\n            id: this.element.id + constants.TAB_ID\n        });\n        this.element.appendChild(tabEle);\n        this.validateItemSize();\n        var tabItems = this.createTabItems(this.tabs);\n        this.tabObj = new Tab({\n            cssClass: constants.RIBBON_TAB,\n            selectedItem: this.selectedTab,\n            overflowMode: 'Popup',\n            width: this.width,\n            items: tabItems,\n            enableRtl: this.enableRtl,\n            created: this.tabCreated.bind(this),\n            selected: this.ribbonTabSelected.bind(this),\n            selecting: this.ribbonTabSelecting.bind(this),\n            animation: this.tabAnimation\n        });\n        this.tabObj.appendTo(tabEle);\n        //Set the width value as \"0px\" with unit for proper calculation.\n        this.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, '0px');\n        this.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        var toolbar = getComponent(toolbarEle, Toolbar);\n        toolbar.setProperties({ width: 'calc(100% - var(--fileMenuWidth) - var(--helpTemplateWidth))' });\n        this.element.classList[this.isMinimized ? 'add' : 'remove'](constants.RIBBON_MINIMIZE);\n    };\n    Ribbon.prototype.minimize = function (val) {\n        var _this = this;\n        if (val === this.isMinimized) {\n            return;\n        }\n        var eventArgs = { cancel: false };\n        this.trigger(val ? 'ribbonCollapsing' : 'ribbonExpanding', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.setProperties({ isMinimized: val }, true);\n            _this.element.classList.toggle(constants.RIBBON_MINIMIZE, _this.isMinimized);\n            //to overwrite inline styles from hscroll\n            _this.tabObj.element.querySelector('.e-content').style.display = val ? 'none' : 'block';\n            if (!val) {\n                _this.refreshLayout();\n            }\n        });\n    };\n    Ribbon.prototype.toggleLayout = function () {\n        this.setProperties({ activeLayout: this.activeLayout === 'Simplified' ? 'Classic' : 'Simplified' }, true);\n        this.switchLayout();\n    };\n    Ribbon.prototype.tabCreated = function () {\n        if (!this.hideLayoutSwitcher) {\n            this.addExpandCollapse();\n        }\n        this.renderInitialTab(this.selectedTab);\n    };\n    Ribbon.prototype.ribbonTabSelected = function (e) {\n        e.preventFocus = true;\n        this.isAddRemove = false;\n        var selectedTabId = e.selectedItem.getAttribute('data-id');\n        var selectedIndex = getIndex(this.tabs, (function (tab) { return (tab.id === selectedTabId); }));\n        selectedIndex = selectedIndex === -1 ? this.selectedTab : selectedIndex;\n        var isContextual = this.isContextualTab(selectedTabId);\n        this.updateSelectedState(selectedTabId);\n        var eventArgs = { previousIndex: this.selectedTab, selectedIndex: selectedIndex, isContextual: isContextual };\n        this.setProperties({ selectedTab: selectedIndex }, true);\n        this.calculateHiddenElementsWidth(selectedIndex);\n        if (this.isUpdateItems) {\n            for (var i = 0; i < this.itemsModel.length; i++) {\n                var item = this.itemsModel[parseInt(i.toString(), 10)];\n                if (this.selectedTab === this.targetTabs[item.id]) {\n                    this.updateItem(item);\n                    this.itemsModel.splice(i, 1);\n                    i--;\n                }\n            }\n            if (this.itemsModel.length === 0) {\n                this.isUpdateItems = false;\n            }\n        }\n        this.checkOverflow(selectedIndex, e.selectedContent.firstChild);\n        if (this.activeLayout === 'Classic' && this.ribbonGalleryModule) {\n            this.ribbonGalleryModule.checkAvailableHeight(selectedIndex, e.selectedContent.firstChild);\n        }\n        if (this.activeLayout === 'Simplified' && this.overflowDDB) {\n            var overflowTarget = this.overflowDDB.target;\n            var ofTabContainer = overflowTarget.querySelector('.' + constants.RIBBON_TAB_ACTIVE);\n            if (ofTabContainer) {\n                ofTabContainer.classList.remove(constants.RIBBON_TAB_ACTIVE);\n            }\n            var activeTab = overflowTarget.querySelector('#' + selectedTabId + constants.OVERFLOW_ID);\n            if (activeTab) {\n                activeTab.classList.add(constants.RIBBON_TAB_ACTIVE);\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n                this.checkOverflowHiddenItems(false, selectedIndex);\n            }\n            else {\n                this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n            }\n        }\n        this.trigger('tabSelected', eventArgs);\n    };\n    Ribbon.prototype.updateSelectedState = function (tabID) {\n        if (this.contextualTabs.length) {\n            for (var i = 0; i < this.contextualTabs.length; i++) {\n                var isSelected = false;\n                for (var j = 0; j < this.contextualTabs[parseInt(i.toString(), 10)].tabs.length; j++) {\n                    if (this.contextualTabs[parseInt(i.toString(), 10)].tabs[parseInt(j.toString(), 10)].id === tabID) {\n                        isSelected = true;\n                        break;\n                    }\n                }\n                this.contextualTabs[parseInt(i.toString(), 10)].setProperties({ isSelected: isSelected }, true);\n            }\n        }\n    };\n    Ribbon.prototype.checkOverflow = function (tabIndex, activeContent) {\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        var isOverFlow = tabContent.offsetWidth < activeContent.offsetWidth;\n        if (isOverFlow && !this.scrollModule) {\n            if (this.activeLayout === 'Classic') {\n                // Defines whether the shrinking is breaked due to insufficient space.\n                var isBreak = false;\n                isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, true);\n                if (!isBreak && (tabContent.offsetWidth < activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, false);\n                }\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createOverflowDropdown(tabIndex, tabContent, activeContent);\n                }\n            }\n            else {\n                this.checkSimplifiedItemShrinking(tabIndex, tabContent, activeContent);\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                }\n            }\n            //Adds Scroll if the tabwidth is less the content width even after adding overflow dropdown.\n            if ((tabContent.offsetWidth < activeContent.offsetWidth) && (!this.scrollModule)) {\n                this.scrollModule = new HScroll({\n                    enableRtl: this.enableRtl\n                }, this.tabObj.element.querySelector('.' + constants.TAB_CONTENT));\n            }\n        }\n        else if (!isOverFlow) {\n            this.destroyScroll();\n            if (this.activeLayout === 'Classic') {\n                var isBreak = false;\n                isBreak = this.removeOverflowDropdown(tabContent, activeContent, false, tabIndex);\n                //Check for expanding small items to medium items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, true);\n                }\n                //Check for expanding medium items to large items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, false);\n                }\n            }\n            else {\n                this.removeSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                if (tabContent.offsetWidth > activeContent.offsetWidth) {\n                    this.checkSimplifiedItemExpanding(tabIndex, tabContent, activeContent);\n                }\n            }\n        }\n        this.addTabOverflowKeyTip();\n    };\n    Ribbon.prototype.addTabOverflowKeyTip = function () {\n        var tabOverflow = this.tabObj.element.querySelector('#_nav');\n        if (tabOverflow) {\n            this.keyTipElements['taboverflow'] = [];\n            this.keyTipElements['taboverflow'].push({ id: tabOverflow.id, type: 'taboverflow', keyTip: '00' });\n        }\n        else {\n            delete (this.keyTipElements['taboverflow']);\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemShrinking = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Medium) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            itemContainer.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemExpanding = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth > activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth > activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Small) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var valString = itemContainer.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (tabContent.offsetWidth > value)) {\n                                itemContainer.removeAttribute('data-medium-width');\n                                var itemEle = itemContainer.querySelector('#' + item.id);\n                                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                                this.setItemSize(itemEle, item);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createSimplfiedOverflow = function (tabContent, activeContent, tabIndex) {\n        var orderedGroups = this.getGroupResizeOrder(true, tabIndex);\n        var isEmptyCollection;\n        for (var i = 0; ((i < orderedGroups.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            var isGroupUpdated = false;\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var groupEle = tabContent.querySelector('#' + group.id);\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = group.collections.length; ((j >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); j--) {\n                var collection = group.collections[parseInt((j - 1).toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    var itemContainer = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        var groupHidden = false;\n                        var itemHidden = false;\n                        var isAllItemHidden = false;\n                        var isEmptyCollection_1 = false;\n                        var groupItems = void 0;\n                        if (groupEle.classList.contains('e-hidden') || groupEle.classList.contains('e-hide-group')) {\n                            groupItems = groupEle.querySelectorAll('.e-ribbon-item.e-hidden');\n                            if (groupItems.length) {\n                                for (var i_1 = 0; i_1 < groupItems.length; i_1++) {\n                                    groupItems[parseInt(i_1.toString(), 10)].classList.remove('e-hidden');\n                                }\n                            }\n                            if (groupEle.classList.contains('e-hide-group')) {\n                                isAllItemHidden = true;\n                                groupEle.classList.remove('e-hide-group');\n                                groupEle.classList.remove('e-ribbon-emptyCollection');\n                                if (this.hiddenGroups.indexOf(groupEle.id) !== -1) {\n                                    this.hiddenGroups.splice(this.hiddenGroups.indexOf(groupEle.id), 1);\n                                }\n                            }\n                            else {\n                                groupHidden = true;\n                                groupEle.classList.remove('e-hidden');\n                            }\n                            if (!isGroupUpdated) {\n                                this.calculateOverflowItemsWidth(groupEle.offsetWidth, false, tabIndex);\n                                this.calculateMediumDataWidth(groupEle.offsetWidth, tabIndex, false);\n                                isGroupUpdated = true;\n                            }\n                        }\n                        else {\n                            if (itemContainer.classList.contains('e-hidden')) {\n                                itemHidden = true;\n                                itemContainer.classList.remove('e-hidden');\n                                if (groupEle.classList.contains('e-ribbon-emptyCollection')) {\n                                    isEmptyCollection_1 = true;\n                                    groupEle.classList.remove('e-ribbon-emptyCollection');\n                                }\n                                this.calculateOverflowItemsWidth(itemContainer.offsetWidth, false, tabIndex);\n                                this.calculateMediumDataWidth(itemContainer.offsetWidth, tabIndex, false);\n                            }\n                        }\n                        itemContainer.setAttribute('data-simplified-width', (activeContent.offsetWidth).toString());\n                        if (itemHidden) {\n                            itemContainer.classList.add('e-hidden');\n                        }\n                        if (groupItems && groupItems.length) {\n                            for (var i_2 = 0; i_2 < groupItems.length; i_2++) {\n                                groupItems[parseInt(i_2.toString(), 10)].classList.add('e-hidden');\n                            }\n                        }\n                        if (groupHidden) {\n                            groupEle.classList.add('e-hidden');\n                        }\n                        if (isAllItemHidden) {\n                            groupEle.classList.add('e-hide-group');\n                            groupEle.classList.add('e-ribbon-emptyCollection');\n                        }\n                        if (isEmptyCollection_1) {\n                            groupEle.classList.add('e-ribbon-emptyCollection');\n                        }\n                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemContainer, groupContainer, true);\n                        if (item.activeSize === RibbonItemSize.Small) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton) || (item.type === RibbonItemType.Gallery)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, true);\n                        }\n                    }\n                }\n            }\n            if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n            var itemsLength = groupEle.querySelectorAll('.' + constants.RIBBON_ITEM);\n            if (itemsLength && !group.enableGroupOverflow) {\n                isEmptyCollection = this.checkEmptyCollection(itemsLength);\n                if (isEmptyCollection) {\n                    groupEle.classList.add('e-ribbon-emptyCollection');\n                }\n            }\n            this.checkOverflowHiddenItems(group.enableGroupOverflow, tabIndex, group.id);\n        }\n    };\n    Ribbon.prototype.checkEmptyCollection = function (itemsLength) {\n        var isEmptyCollection = true;\n        for (var i = 0; i < itemsLength.length; i++) {\n            if (!(itemsLength[parseInt(i.toString(), 10)].classList.contains('e-hidden'))) {\n                isEmptyCollection = false;\n                break;\n            }\n        }\n        return isEmptyCollection;\n    };\n    Ribbon.prototype.updatePopupItems = function (item, itemEle, isGroupOF, isMenu) {\n        var dropdown = getComponent(itemEle.querySelector('#' + item.id), (item.type === RibbonItemType.DropDown || item.type === RibbonItemType.Gallery || item.type === RibbonItemType.GroupButton) ? DropDownButton : SplitButton);\n        var dropDownPopup = dropdown.dropDown;\n        // popup is on right if (isGroupOF && isMenu)\n        // The position is reversed if RTL is enabled.\n        // isRight = ((isGroupOF && isMenu) && !this.enableRtl ) || (!(isGroupOF && isMenu) && this.enableRtl)  ==> (isGroupOF && isMenu) !== this.enableRtl\n        var isLeft = (isGroupOF && isMenu) === this.enableRtl;\n        if (dropDownPopup) {\n            dropDownPopup.setProperties({ position: { X: isLeft ? 'left' : 'right', Y: isMenu ? 'top' : 'bottom' } }, true);\n            if (isMenu) {\n                dropdown.beforeOpen = function () {\n                    if (isLeft) {\n                        dropDownPopup.element.style.setProperty('visibility', 'hidden');\n                        dropDownPopup.element.style.setProperty('display', 'block');\n                        dropDownPopup.setProperties({ offsetX: -1 * dropDownPopup.element.offsetWidth });\n                        dropDownPopup.element.style.removeProperty('display');\n                        dropDownPopup.element.style.removeProperty('visibility');\n                    }\n                };\n            }\n            else {\n                dropDownPopup.setProperties({ offsetX: 0 }, true);\n                dropdown.beforeOpen = null;\n            }\n        }\n    };\n    Ribbon.prototype.removeSimplfiedOverflow = function (tabContent, activeContent, tabIndex, isClear) {\n        if (isClear === void 0) { isClear = false; }\n        var orderedGroups = this.getGroupResizeOrder(false, tabIndex);\n        var flag = true;\n        var isEmptyCollection;\n        for (var i = 0; ((i < orderedGroups.length) && flag); i++) {\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var overflowDDB = void 0;\n            var overflowtarget = void 0;\n            if (group.enableGroupOverflow) {\n                var overflowDDBEle = tabContent.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n            }\n            else {\n                overflowDDB = this.overflowDDB;\n                overflowtarget = this.overflowDDB ? this.overflowDDB.target : null;\n            }\n            for (var j = 0; ((j < group.collections.length) && flag); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                // eslint-disable-next-line max-len\n                for (var k = 0; ((k < collection.items.length) && flag && !isClear && (tabContent.offsetWidth > activeContent.offsetWidth)); k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemContainer = void 0;\n                    if (overflowtarget) {\n                        itemContainer = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    }\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        var width = parseInt(itemContainer.getAttribute('data-simplified-width'), 10);\n                        var groupItemEle = tabContent.querySelector('#' + group.id);\n                        if (itemContainer.classList.contains('e-hidden') || groupItemEle.classList.contains('e-hidden')) {\n                            width = Math.abs(width - activeContent.offsetWidth);\n                        }\n                        if (!isClear && (tabContent.offsetWidth < width)) {\n                            flag = false;\n                            break;\n                        }\n                        var groupEle = tabContent.querySelector('#' + collection.id);\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton) || (item.type === RibbonItemType.Gallery)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, false);\n                        }\n                        groupEle.append(itemContainer);\n                        if (itemContainer.classList.contains('e-hidden') || groupItemEle.classList.contains('e-hidden')) {\n                            itemContainer.setAttribute('data-simplified-width', width.toString());\n                            var isGroupHidden = false;\n                            var widthDifference = 0;\n                            if (itemContainer.classList.contains('e-hidden')) {\n                                itemContainer.classList.remove('e-hidden');\n                                if (groupItemEle.classList.contains('e-hide-group')) {\n                                    isGroupHidden = true;\n                                    widthDifference = this.checkWidthDifference(itemContainer, groupItemEle);\n                                }\n                                width = itemContainer.offsetWidth + widthDifference;\n                                itemContainer.classList.add('e-hidden');\n                            }\n                            this.calculateOverflowItemsWidth(width, true, tabIndex);\n                            this.calculateMediumDataWidth(width, tabIndex, true);\n                            if (isGroupHidden) {\n                                groupItemEle.classList.add('e-hide-group');\n                                groupItemEle.classList.add('e-ribbon-emptyCollection');\n                            }\n                        }\n                        this.removeOverflowEvent(item, itemContainer);\n                        if (item.allowedSizes & RibbonItemSize.Small) {\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemContainer.querySelector('#' + item.id), item);\n                        }\n                        var groupElement = tabContent.querySelector('#' + group.id);\n                        var itemEle = groupElement.querySelector('.' + constants.RIBBON_ITEM);\n                        if (groupElement.classList.contains('e-ribbon-emptyCollection') && itemEle !== null) {\n                            var itemsLength = groupElement.querySelectorAll('.' + constants.RIBBON_ITEM);\n                            if (itemsLength) {\n                                isEmptyCollection = this.checkEmptyCollection(itemsLength);\n                                if (!isEmptyCollection) {\n                                    groupElement.classList.remove('e-ribbon-emptyCollection');\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (overflowDDB) {\n                if (group.enableGroupOverflow) {\n                    if (overflowtarget.childElementCount === 0 || (overflowtarget.childElementCount === 1 && this.isHeaderVisible(overflowtarget, group.id))) {\n                        this.removeOverflowButton(overflowDDB);\n                    }\n                }\n                else {\n                    var ofGroupContainer = overflowtarget.querySelector('#' + group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = overflowtarget.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                        this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n                    }\n                }\n            }\n        }\n        for (var i = 0; i < orderedGroups.length; i++) {\n            this.checkOverflowHiddenItems(orderedGroups[parseInt(i.toString(), 10)].enableGroupOverflow, tabIndex, orderedGroups[parseInt(i.toString(), 10)].id);\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            if (overflowEle.childElementCount === 0) {\n                this.removeOverflowButton(this.overflowDDB);\n                this.overflowDDB = null;\n            }\n        }\n    };\n    Ribbon.prototype.checkOverflowHiddenItems = function (isGroupOF, tabIndex, groupId) {\n        if (isGroupOF) {\n            var overflowDDB = document.querySelector('#' + groupId + constants.GROUPOF_BUTTON_ID);\n            if (overflowDDB) {\n                var overflowButton = getInstance(overflowDDB, DropDownButton);\n                var overflowBtnTarget = overflowButton.target;\n                var itemEle = overflowBtnTarget.querySelectorAll('.e-ribbon-item');\n                var isHidden = true;\n                for (var i = 0; i < itemEle.length; i++) {\n                    if (!(itemEle[parseInt(i.toString(), 10)].classList.contains('e-hidden'))) {\n                        isHidden = false;\n                        break;\n                    }\n                }\n                overflowButton.element.classList[isHidden ? 'add' : 'remove']('e-hidden');\n            }\n        }\n        else {\n            if (this.overflowDDB) {\n                var isGroupHidden = true;\n                var isItemHidden = void 0;\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    for (var k = 0; k < ofTabContainer.children.length; k++) {\n                        isItemHidden = true;\n                        var overflowTab = ofTabContainer.children[parseInt(k.toString(), 10)];\n                        var groupTabContainer = overflowTab.querySelectorAll('.e-ribbon-item');\n                        for (var n = 0; n < groupTabContainer.length; n++) {\n                            if (!(groupTabContainer[parseInt(n.toString(), 10)].classList.contains('e-hidden'))) {\n                                isItemHidden = false;\n                                break;\n                            }\n                        }\n                        overflowTab.classList[isItemHidden ? 'add' : 'remove']('e-hide-group');\n                        if (!(overflowTab.classList.contains('e-hide-group')) && !(overflowTab.classList.contains('e-hidden'))) {\n                            isGroupHidden = false;\n                        }\n                    }\n                    this.overflowDDB.element.classList[isGroupHidden ? 'add' : 'remove'](constants.HIDE_CSS);\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createOverflowPopup = function (item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer, isResize) {\n        var overflowButton;\n        var overflowtarget;\n        var itemProp = getGroup(this.tabs, groupId);\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        var groupEle = contentEle.querySelector('#' + groupId);\n        if (isGroupOF) {\n            var overflowDDB = groupContainer.querySelector('#' + groupId + constants.GROUPOF_BUTTON_ID);\n            if (!overflowDDB) {\n                overflowButton = this.addOverflowButton(groupId + constants.GROUPOF_BUTTON_ID, isGroupOF);\n                overflowButton.element.classList.add(constants.RIBBON_GROUP_OF_BUTTON);\n                groupContainer.appendChild(overflowButton.element);\n            }\n            else {\n                overflowButton = getInstance(overflowDDB, DropDownButton);\n            }\n            this.addKeyTip(tabIndex, '0' + (itemProp.groupIndex + 1), overflowButton.element.id, 'grpofbtn');\n            overflowtarget = overflowButton.target;\n            var overflowBtnTarget = overflowButton.target;\n            var headerEle = overflowBtnTarget.querySelector('#' + groupId + constants.GROUPOF_BUTTON_ID + constants.HEADER_ID);\n            if (!headerEle) {\n                if (itemProp.group.overflowHeader) {\n                    var groupHeader_1 = this.createElement('div', {\n                        className: constants.RIBBON_OVERFLOW_HEADER,\n                        id: groupId + constants.GROUPOF_BUTTON_ID + constants.HEADER_ID,\n                        innerHTML: itemProp.group.overflowHeader\n                    });\n                    overflowBtnTarget.append(groupHeader_1);\n                }\n            }\n            if (groupEle) {\n                if (groupEle.classList.contains('e-disabled')) {\n                    overflowBtnTarget.classList.add('e-disabled');\n                }\n                if (groupEle.classList.contains('e-hidden')) {\n                    overflowBtnTarget.classList.add('e-hidden');\n                }\n                if (groupEle.classList.contains('e-hide-group')) {\n                    overflowBtnTarget.classList.add('e-hide-group');\n                }\n            }\n            isResize ? overflowBtnTarget.insertBefore(itemEle, overflowBtnTarget.querySelector('.' + constants.RIBBON_ITEM))\n                : overflowBtnTarget.append(itemEle);\n        }\n        else {\n            if (!this.overflowDDB) {\n                this.overflowDDB = this.addOverflowButton(this.tabObj.element.id + constants.OVRLOF_BUTTON_ID, isGroupOF);\n                this.tabObj.element.insertBefore(this.overflowDDB.element, this.collapseButton);\n                this.overflowDDB.element.classList.add(constants.RIBBON_OVERALL_OF_BUTTON);\n                this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n            }\n            else {\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    var ofGroupContainer = overflowEle.querySelector('#' + groupId + constants.CONTAINER_ID);\n                    if (!ofGroupContainer) {\n                        ofGroupContainer = itemProp.group.overflowHeader ? this.createGroupContainer(groupId, itemProp.group.overflowHeader) : this.createGroupContainer(groupId, groupHeader);\n                        if (groupEle) {\n                            if (groupEle.classList.contains('e-disabled')) {\n                                ofGroupContainer.classList.add('e-disabled');\n                            }\n                            if (groupEle.classList.contains('e-hidden')) {\n                                ofGroupContainer.classList.add('e-hidden');\n                            }\n                            if (groupEle.classList.contains('e-hide-group')) {\n                                ofGroupContainer.classList.add('e-hide-group');\n                            }\n                        }\n                        ofTabContainer.append(ofGroupContainer);\n                    }\n                    isResize ? ofGroupContainer.insertBefore(itemEle, ofGroupContainer.querySelector('.' + constants.RIBBON_ITEM)) : ofGroupContainer.append(itemEle);\n                }\n                else {\n                    this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n                }\n            }\n            overflowButton = this.overflowDDB;\n            overflowtarget = this.overflowDDB ? this.overflowDDB.target : null;\n        }\n        if (itemEle !== null) {\n            this.addOverflowEvents(item, itemEle, overflowButton);\n        }\n        if (overflowtarget) {\n            if (item.keyTip) {\n                this.addKeyTip(tabIndex, item.keyTip, item.id, 'popupitem');\n            }\n        }\n    };\n    Ribbon.prototype.addOverflowEvents = function (item, itemEle, overflowButton) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'Gallery':\n                if (this.activeLayout === 'Simplified') {\n                    this.ribbonGalleryModule.addOverFlowEvents(item, itemEle, overflowButton);\n                }\n                break;\n            case 'GroupButton':\n                if (this.activeLayout === 'Simplified') {\n                    this.ribbonGroupButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                    break;\n                }\n        }\n    };\n    Ribbon.prototype.createOfTabContainer = function (groupId, groupHeader, itemEle, tabIndex) {\n        var ofTabContainer = this.createElement('div', {\n            id: this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID,\n            className: constants.RIBBON_OF_TAB_CONTAINER\n        });\n        var overflowtarget = this.overflowDDB.target;\n        overflowtarget.append(ofTabContainer);\n        var itemProp = getGroup(this.tabs, groupId);\n        var ofGroupContainer = itemProp.group.overflowHeader ? this.createGroupContainer(groupId, itemProp.group.overflowHeader) : this.createGroupContainer(groupId, groupHeader);\n        ofGroupContainer.append(itemEle);\n        ofTabContainer.append(ofGroupContainer);\n        if (tabIndex === this.selectedTab) {\n            ofTabContainer.classList.add(constants.RIBBON_TAB_ACTIVE);\n        }\n        var groupEle = document.querySelector('#' + groupId);\n        if (groupEle) {\n            if (groupEle.classList.contains('e-disabled')) {\n                ofGroupContainer.classList.add('e-disabled');\n            }\n            if (groupEle.classList.contains('e-hidden')) {\n                ofGroupContainer.classList.add('e-hidden');\n            }\n            if (groupEle.classList.contains('e-hide-group')) {\n                ofGroupContainer.classList.add('e-hide-group');\n            }\n        }\n    };\n    Ribbon.prototype.checkGroupShrinking = function (tabIndex, tabContent, activeContent, isLarge) {\n        var isOverFlow = true;\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = (tab.groups.length - 1); (isOverFlow && (j >= 0)); j--) {\n            // eslint-disable-next-line max-len\n            isBreak = isLarge ? this.checkLargeToMedium(tabIndex, tab, j, tabContent, activeContent) : this.checkMediumToSmall(tabIndex, tab, j, tabContent, activeContent);\n            isOverFlow = !isBreak && (tabContent.offsetWidth < activeContent.offsetWidth);\n        }\n        return isBreak;\n    };\n    Ribbon.prototype.checkValidCollectionLength = function (collections) {\n        var count = 0;\n        for (var i = 0; i < collections.length; i++) {\n            var items = collections[parseInt(i.toString(), 10)].items;\n            for (var ind = 0; ind < items.length; ind++) {\n                if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                    count++;\n                    break;\n                }\n            }\n            if (count > 1) {\n                return false;\n            }\n        }\n        return count === 1;\n    };\n    Ribbon.prototype.checkClassicCollection = function (collections, n, isIncrement) {\n        var items = collections[parseInt(n.toString(), 10)].items;\n        for (var ind = 0; ind < items.length; ind++) {\n            if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                return n;\n            }\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === collections.length) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkClassicItem = function (items, n, isIncrement) {\n        var item = items[parseInt(n.toString(), 10)];\n        if (item.displayOptions & DisplayMode.Classic) {\n            return n;\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === items.length) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkLargeToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var canReduceCollection = function (collection) {\n            return (collection.items.length === 1) && canReduceItem(collection.items[0]);\n        };\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Large);\n        };\n        var createShrinkEle = function (id, firstItem, start, end) {\n            var shrinkEle = _this.createElement('div', {\n                className: 'e-ribbon-shrink' + constants.SPACE + constants.RIBBON_ROW,\n                id: id + '_shrink_container' + start,\n                attrs: { 'data-start': start.toString(), 'data-end': end.toString() }\n            });\n            firstItem.parentElement.insertBefore(shrinkEle, firstItem);\n            if (!shouldSkip) {\n                shrinkEle.setAttribute('data-large-width', activeContent.offsetWidth.toString());\n            }\n            return shrinkEle;\n        };\n        var moveItemToColumn = function (start, end) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[0];\n            var firstItem = activeContent.querySelector('#' + collection.items[parseInt(start.toString(), 10)].id + constants.CONTAINER_ID);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + collection.id + '_shrink_container' + start) :\n                createShrinkEle(collection.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (!(item.displayOptions & DisplayMode.Classic)) {\n                    continue;\n                }\n                var ele = activeContent.querySelector('#' + item.id + constants.CONTAINER_ID);\n                shrinkEle.appendChild(ele);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (item.type === RibbonItemType.GroupButton && _this.activeLayout === 'Classic') {\n                    _this.setItemSize(ele.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID), item);\n                }\n                else {\n                    _this.setItemSize(ele.querySelector('#' + item.id), item);\n                }\n            }\n        };\n        var moveCollectionToColumn = function (start, end) {\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            var firstItem = activeContent.querySelector('#' + group.collections[parseInt(start.toString(), 10)].id);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + group.id + '_shrink_container' + start) :\n                createShrinkEle(group.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                var ele = activeContent.querySelector('#' + collection.id);\n                shrinkEle.appendChild(ele);\n                collection.items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (collection.items[0].type === RibbonItemType.GroupButton && _this.activeLayout === 'Classic') {\n                    _this.setItemSize(ele.querySelector('#' + collection.items[0].id + constants.RIBBON_GROUP_BUTTON_ID), collection.items[0]);\n                }\n                else {\n                    _this.setItemSize(ele.querySelector('#' + collection.items[0].id), collection.items[0]);\n                }\n            }\n        };\n        var orientation = group.orientation;\n        if (orientation === ItemOrientation.Column) {\n            for (var k = (group.collections.length - 1); k > 0; k--) {\n                //to avoid negative index while checking for the second collection\n                k = this.checkClassicCollection(group.collections, k, false);\n                var l = k - 1;\n                //Checks the element rendered at position n\n                if ((l >= 0) && canReduceCollection(group.collections[parseInt(k.toString(), 10)])) {\n                    l = this.checkClassicCollection(group.collections, l, false);\n                    //Checks the element rendered at position n-1\n                    if ((l >= 0) && canReduceCollection(group.collections[parseInt(l.toString(), 10)])) {\n                        var m = l - 1;\n                        if (m >= 0) {\n                            m = this.checkClassicCollection(group.collections, m, false);\n                        }\n                        //Checks the element rendered at position n-2\n                        if ((m >= 0) && canReduceCollection(group.collections[parseInt(m.toString(), 10)])) {\n                            moveCollectionToColumn(m, k);\n                        }\n                        else {\n                            moveCollectionToColumn(l, k);\n                        }\n                        k = m;\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                    else {\n                        k = l;\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                var collection = group.collections[0];\n                for (var k = (collection.items.length - 1); k > 0; k--) {\n                    //to avoid negative index while checking for the second item\n                    k = this.checkClassicItem(collection.items, k, false);\n                    var l = k - 1;\n                    //Checks the element rendered at position n\n                    if ((l >= 0) && canReduceItem(collection.items[parseInt(k.toString(), 10)])) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        //Checks the element rendered at position n-1\n                        if ((l >= 0) && canReduceItem(collection.items[parseInt(l.toString(), 10)])) {\n                            var m = l - 1;\n                            //Checks the element rendered at position n-2\n                            if (m >= 0) {\n                                m = this.checkClassicItem(collection.items, m, false);\n                            }\n                            if ((m >= 0) && canReduceItem(collection.items[parseInt(m.toString(), 10)])) {\n                                moveItemToColumn(m, k);\n                            }\n                            else {\n                                moveItemToColumn(l, k);\n                            }\n                            k = m;\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                        else {\n                            k = l;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToSmall = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Small) && (item.activeSize === RibbonItemSize.Medium);\n        };\n        var reduceItemsToSmall = function (collectionIndex, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var reduce = function (i) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var ele_1 = activeContent.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    if (item.type === RibbonItemType.GroupButton) {\n                        ele_1 = activeContent.querySelector('#' + item.id + '_grpbtn');\n                    }\n                    _this.setItemSize(ele_1, item);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var reduceCollectionsToSmall = function (index, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            if (!shouldSkip) {\n                shrinkColumns[parseInt(index.toString(), 10)].setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n            var reduce = function (i) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var ele_2 = activeContent.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    if (collection.items[0].type === RibbonItemType.GroupButton) {\n                        ele_2 = activeContent.querySelector('#' + collection.items[0].id + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    _this.setItemSize(ele_2, collection.items[0]);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var setWidth = function (id) {\n            if (!shouldSkip) {\n                var ele_3 = activeContent.querySelector('#' + id);\n                ele_3.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n        };\n        if (orientation === ItemOrientation.Column) {\n            if (shrinkColumns.length > 0) {\n                for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                    var start = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-end'), 10);\n                    //only 2 or 3 itmes alone can be present in shrinked column\n                    var l = this.checkClassicCollection(group.collections, start + 1, false); //next valid item\n                    if (canReduceItem(group.collections[parseInt(start.toString(), 10)].items[0])\n                        && canReduceItem(group.collections[parseInt(l.toString(), 10)].items[0])) {\n                        if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                            reduceCollectionsToSmall(k, start, end);\n                        }\n                        else if (canReduceItem(group.collections[parseInt(end.toString(), 10)].items[0])) {\n                            reduceCollectionsToSmall(k, start, end, l);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            for (var k = (group.collections.length - 1); k >= 0; k--) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                var classicItems = [];\n                for (var i = 0; i < collection.items.length; i++) {\n                    if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                        classicItems.push(i);\n                    }\n                }\n                //If items length is 1 then, it would have been already check for shrinked column\n                if ((classicItems.length > 1)) {\n                    if (canReduceItem(collection.items[classicItems[0]]) && canReduceItem(collection.items[classicItems[1]])) {\n                        if (classicItems.length === 2) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[1]);\n                        }\n                        else if (canReduceItem(collection.items[classicItems[2]])) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[2], classicItems[1]);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                if (shrinkColumns.length > 0) {\n                    for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                        var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                        var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                        var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                        //only 2 or 3 itmes alone can be present in shrinked column\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, false); //next valid item\n                        if (canReduceItem(group.collections[0].items[parseInt(start.toString(), 10)])\n                            && canReduceItem(group.collections[0].items[parseInt(l.toString(), 10)])) {\n                            if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end);\n                            }\n                            else if (canReduceItem(group.collections[0].items[parseInt(end.toString(), 10)])) {\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end, l);\n                            }\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                for (var k = (group.collections.length - 1); k >= 0; k--) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = (collection.items.length - 1); l >= 0; l--) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        if (l < 0) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canReduceItem(item)) {\n                            item.type !== RibbonItemType.GroupButton ? setWidth(item.id) : setWidth(item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                            reduceItemsToSmall(k, l, l);\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkGroupExpanding = function (tabIndex, tabContent, activeContent, isSmall) {\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = 0; (!isBreak && (j < tab.groups.length)); j++) {\n            isBreak = isSmall ? this.checkSmallToMedium(tabIndex, tab, j, tabContent, activeContent, false, true) :\n                this.checkMediumToLarge(tabIndex, tab, j, tabContent, activeContent, false, true);\n        }\n        return isBreak;\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.checkSmallToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canExpandItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Small);\n        };\n        var expandItemToMedium = function (collectionIndex, index, parentEle) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var item = collection.items[parseInt(index.toString(), 10)];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_4 = parentEle.id === item.id ? parentEle : parentEle.querySelector('#' + item.id);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (item.type === RibbonItemType.GroupButton) {\n                    ele_4 = document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                }\n                _this.setItemSize(ele_4, item);\n            }\n        };\n        var expandCollectionsToMedium = function (i) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections;\n            var item = collections[parseInt(i.toString(), 10)].items[0];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_5 = activeContent.querySelector('#' + collections[parseInt(i.toString(), 10)].items[0].id);\n                collections[parseInt(i.toString(), 10)].items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (item.type === RibbonItemType.GroupButton) {\n                    ele_5 = activeContent.querySelector('#' + collections[parseInt(i.toString(), 10)].items[0].id + constants.RIBBON_GROUP_BUTTON_ID);\n                }\n                _this.setItemSize(ele_5, collections[parseInt(i.toString(), 10)].items[0]);\n            }\n        };\n        if (orientation === ItemOrientation.Row) {\n            // collection length is 1, then the it wll be covered in shrinked columns\n            if (!this.checkValidCollectionLength(group.collections)) {\n                for (var k = 0; k < group.collections.length; k++) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = 0; l < collection.items.length; l++) {\n                        l = this.checkClassicItem(collection.items, l, true);\n                        if (l === collection.items.length) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canExpandItem(item)) {\n                            var itemEle = activeContent.querySelector('#' + item.id);\n                            if (item.type === 'GroupButton') {\n                                itemEle = activeContent.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                            }\n                            var valString = itemEle.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                                expandItemToMedium(k, l, itemEle);\n                                if (!shouldSkip || shouldClear) {\n                                    itemEle.removeAttribute('data-medium-width');\n                                }\n                            }\n                            else if (value) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            for (var k = 0; k < group.collections.length; k++) {\n                //If items length is 1 then, it will be handled in shrinked column\n                if ((group.collections[parseInt(k.toString(), 10)].items.length > 1)) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    var itemEle = activeContent.querySelector('#' + collection.id);\n                    var valString = itemEle.getAttribute('data-medium-width');\n                    var value = valString ? parseInt(valString, 10) : null;\n                    var classicItems = [];\n                    for (var i = 0; i < collection.items.length; i++) {\n                        if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                            classicItems.push(i);\n                        }\n                    }\n                    if ((classicItems.length > 1) && value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                        expandItemToMedium(k, classicItems[0], itemEle);\n                        expandItemToMedium(k, classicItems[1], itemEle);\n                        if (classicItems.length === 3) {\n                            expandItemToMedium(k, classicItems[2], itemEle);\n                        }\n                        if (!shouldSkip || shouldClear) {\n                            itemEle.removeAttribute('data-medium-width');\n                        }\n                    }\n                    else if (value) {\n                        return true;\n                    }\n                }\n            }\n        }\n        if (shrinkColumns.length > 0) {\n            for (var k = 0; k < shrinkColumns.length; k++) {\n                var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                var valString = shrinkColumn.getAttribute('data-medium-width');\n                var value = valString ? parseInt(valString, 10) : null;\n                if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                    var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                    if (orientation === ItemOrientation.Row) {\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                        expandItemToMedium(0, start, shrinkColumn);\n                        expandItemToMedium(0, l, shrinkColumn);\n                        // if l == end, then l is the last item, else L is the middle item. If l is middle then call the method for end.\n                        if (l !== end) {\n                            expandItemToMedium(0, end, shrinkColumn);\n                        }\n                    }\n                    else {\n                        var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                        expandCollectionsToMedium(start);\n                        expandCollectionsToMedium(m);\n                        if (m !== end) {\n                            expandCollectionsToMedium(end);\n                        }\n                    }\n                    if (!shouldSkip || shouldClear) {\n                        shrinkColumn.removeAttribute('data-medium-width');\n                    }\n                }\n                else if (value) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToLarge = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        if (shrinkColumns.length === 0) {\n            return false;\n        }\n        var expandItemsToLarge = function (start, end, parentEle, middle) {\n            var items = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections[0].items;\n            var reduce = function (i) {\n                var item = items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var container = parentEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    var ele_6 = container.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    if (item.type === RibbonItemType.GroupButton) {\n                        ele_6 = container.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    _this.setItemSize(ele_6, item);\n                    parentEle.insertAdjacentElement('beforebegin', container);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        var expandCollectionsToLarge = function (start, end, parentEle, middle) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections;\n            var reduce = function (i) {\n                var collection = collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var collectionEle = parentEle.querySelector('#' + collection.id);\n                    var ele_7 = collectionEle.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    if (collection.items[0].type === RibbonItemType.GroupButton) {\n                        ele_7 = collectionEle.querySelector('#' + collection.items[0].id + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    _this.setItemSize(ele_7, collection.items[0]);\n                    parentEle.insertAdjacentElement('beforebegin', collectionEle);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        for (var k = 0; k < shrinkColumns.length; k++) {\n            var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n            var valString = shrinkColumn.getAttribute('data-large-width');\n            var value = valString ? parseInt(valString, 10) : null;\n            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                if (orientation === ItemOrientation.Row) {\n                    var collection = group.collections[0];\n                    var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                    if (l === end) {\n                        expandItemsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandItemsToLarge(start, end, shrinkColumn, l);\n                    }\n                }\n                else {\n                    var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                    if (m === end) {\n                        expandCollectionsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandCollectionsToLarge(start, end, shrinkColumn, m);\n                    }\n                }\n                if (!shouldSkip || shouldClear) {\n                    shrinkColumn.removeAttribute('data-large-width');\n                }\n            }\n            else if (value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.handleContentSize = function (itemEle, isRemoveOverflow) {\n        var itemContainer = itemEle.closest('.' + constants.RIBBON_GROUP_CONTENT);\n        (isRemoveOverflow ? (itemContainer.classList.add(constants.RIBBON_CONTENT_HEIGHT)) : (itemContainer.classList.remove(constants.RIBBON_CONTENT_HEIGHT)));\n    };\n    Ribbon.prototype.setItemSize = function (itemEle, item) {\n        if (itemEle) {\n            var itemContainer = itemEle.closest('.' + constants.RIBBON_ITEM);\n            if (item.type === RibbonItemType.Button) {\n                this.ribbonButtonModule.updateButtonSize(itemEle, item);\n            }\n            else if (item.type === RibbonItemType.DropDown) {\n                this.ribbonDropDownModule.updateDropDownSize(itemEle, item);\n            }\n            else if (item.type === RibbonItemType.SplitButton) {\n                this.ribbonSplitButtonModule.updateSplitButtonSize(itemEle, item);\n            }\n            else if (item.type === RibbonItemType.Template) {\n                remove(itemEle);\n                this.createTemplateContent(item, itemContainer);\n            }\n            else if (item.type === RibbonItemType.GroupButton) {\n                this.ribbonGroupButtonModule.updateGroupButtonSize(itemEle, item);\n            }\n            itemContainer.classList.remove(constants.RIBBON_CONTENT_HEIGHT, constants.RIBBON_LARGE_ITEM, constants.RIBBON_MEDIUM_ITEM, constants.RIBBON_SMALL_ITEM);\n            if (item.activeSize === RibbonItemSize.Large) {\n                itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemContainer.classList.add((item.activeSize === RibbonItemSize.Medium) ?\n                    constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n        }\n    };\n    Ribbon.prototype.createOverflowDropdown = function (tabIndex, tabContent, activeContent) {\n        var collapseOrder = this.getGroupResizeOrder(true, tabIndex);\n        if (collapseOrder.length === 0) {\n            return;\n        }\n        var _loop_1 = function (i) {\n            var group = collapseOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_1.tabObj.element.querySelector('#' + group.id);\n            groupEle.setAttribute('data-expanded-width', activeContent.offsetWidth.toString());\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            var groupOverFlow = this_1.createElement('div', {\n                className: constants.RIBBON_GROUP_OVERFLOW + constants.SPACE + constants.RIBBON_LARGE_ITEM,\n                id: group.id + constants.OVERFLOW_ID + constants.CONTAINER_ID\n            });\n            groupEle.insertBefore(groupOverFlow, groupContainer);\n            var groupIndex = getIndex(this_1.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            var tab = this_1.tabs[parseInt(tabIndex.toString(), 10)];\n            //Expanding the items in the group to their original expanded state\n            this_1.checkSmallToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            this_1.checkMediumToLarge(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            var dropdown = this_1.ribbonDropDownModule.createOverFlowDropDown(group.id, group.header, group.groupIconCss, groupContainer, groupOverFlow, this_1.enableRtl);\n            if (group.keyTip) {\n                var overflowDDB = group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID;\n                this_1.addKeyTip(tabIndex, group.keyTip, overflowDDB, 'grpoverflow');\n            }\n            this_1.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: true }, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupContainer.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_1.handleContentSize(itemEle);\n                        this_1.addOverflowEvents(item, itemEle, dropdown);\n                    }\n                    var overflowDDB = document.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                    var overflowButton = getInstance(overflowDDB, DropDownButton);\n                    if (overflowButton) {\n                        var overflowtarget = overflowButton.target;\n                        if (overflowtarget) {\n                            if (this_1.keyTipElements[parseInt(tabIndex.toString(), 10)]) {\n                                if (item.type === RibbonItemType.GroupButton) {\n                                    for (var i_3 = 0; i_3 < item.groupButtonSettings.items.length; i_3++) {\n                                        if (item.groupButtonSettings.items[parseInt(i_3.toString(), 10)].keyTip) {\n                                            this_1.addKeyTip(tabIndex, item.groupButtonSettings.items[parseInt(i_3.toString(), 10)].keyTip, item.id + (constants.RIBBON_GROUP_BUTTON_ID + i_3), 'grpoverflowpopup');\n                                        }\n                                    }\n                                }\n                                if (item.keyTip) {\n                                    this_1.addKeyTip(tabIndex, item.keyTip, item.id, 'grpoverflowpopup');\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; ((i < collapseOrder.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            _loop_1(i);\n        }\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.removeOverflowDropdown = function (tabContent, activeContent, isClear, tabIndex) {\n        if (isClear === void 0) { isClear = false; }\n        var expandOrder = this.getGroupResizeOrder(false, tabIndex);\n        if (expandOrder.length === 0) {\n            return false;\n        }\n        var _loop_2 = function (i) {\n            var group = expandOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_2.tabObj.element.querySelector('#' + group.id);\n            if (!groupEle) {\n                return \"break\";\n            } //to handle the rerendering of tabcontrol when a ribbon tab is added/removed\n            var width = parseInt(groupEle.getAttribute('data-expanded-width'), 10);\n            if (!isClear && (tabContent.offsetWidth < width)) {\n                return { value: true };\n            }\n            this_2.removeDropdown(group.id);\n            var groupIndex = getIndex(this_2.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            this_2.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: false }, true);\n            var tab = this_2.tabs[parseInt(tabIndex.toString(), 10)];\n            //Shrinking the items in the group to their previous shrinked state (before moving to dropdown)\n            this_2.checkLargeToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            this_2.checkMediumToSmall(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_2.handleContentSize(itemEle, true);\n                        this_2.removeOverflowEvent(item, itemEle);\n                    }\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < expandOrder.length; i++) {\n            var state_1 = _loop_2(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n            if (state_1 === \"break\")\n                break;\n        }\n        return false;\n    };\n    Ribbon.prototype.removeDropdown = function (groupId) {\n        var dropdownElement = this.tabObj.element.querySelector('#' + groupId + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n        if (dropdownElement) {\n            var groupOverFlow = dropdownElement.parentElement;\n            this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n            remove(groupOverFlow);\n        }\n    };\n    Ribbon.prototype.getGroupResizeOrder = function (isCollapse, tabIndex) {\n        var _this = this;\n        var groups = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n        groups = groups.filter(function (e) {\n            // (isUndefined(e.isCollapsible) || e.isCollapsible) => check whethe rhte item is collapsible\n            // if a isCollapsed property is undefined, then it is considered collapsible and included in collapsible list\n            // ((isCollapse && !e.isCollapsed)||(!isCollapse && e.isCollapsed)) => isCollapse !== e.isCollapsed\n            return (_this.activeLayout === 'Classic') ? (isUndefined(e.isCollapsible) || e.isCollapsible) && ((isCollapse &&\n                isUndefined(e.isCollapsed)) || (!isUndefined(e.isCollapsed) && (isCollapse !== e.isCollapsed))) : true;\n        });\n        //sort the collapsible groups based on the priority\n        groups.sort(function (a, b) { return a.priority - b.priority; });\n        //reverse the sorted array to return the array in descending order while collapsing.\n        return isCollapse ? groups.reverse() : groups;\n    };\n    Ribbon.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Ribbon.prototype.clearOverflowDropDown = function (index) {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(index.toString(), 10)].id + constants.CONTENT_ID);\n        if (!activeContent) {\n            return;\n        }\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        if (this.activeLayout === 'Simplified') {\n            this.removeSimplfiedOverflow(activeContent, tabContent, index, true);\n        }\n        else {\n            this.removeOverflowDropdown(activeContent, tabContent, true, index);\n        }\n    };\n    Ribbon.prototype.isContextualTab = function (tabID) {\n        var isContextual = false;\n        if (this.contextualTabs.length) {\n            for (var i = 0; i < this.contextualTabs.length; i++) {\n                for (var j = 0; j < this.contextualTabs[parseInt(i.toString(), 10)].tabs.length; j++) {\n                    if (this.contextualTabs[parseInt(i.toString(), 10)].tabs[parseInt(j.toString(), 10)].id === tabID) {\n                        isContextual = true;\n                        break;\n                    }\n                }\n            }\n        }\n        return isContextual;\n    };\n    Ribbon.prototype.ribbonTabSelecting = function (e) {\n        var _this = this;\n        this.currentControlIndex = 0;\n        var nextTabId = e.selectingItem.getAttribute('data-id');\n        var previousTabId = e.previousItem.getAttribute('data-id');\n        var nextIndex = getIndex(this.tabs, (function (tab) { return (tab.id === nextTabId); }));\n        var isContextual = this.isContextualTab(nextTabId);\n        var previousIndex = getIndex(this.tabs, (function (tab) { return (tab.id === previousTabId); }));\n        nextIndex = nextIndex === -1 ? this.selectedTab : nextIndex;\n        var eventArgs = {\n            cancel: e.cancel, isInteracted: e.isInteracted, previousIndex: previousIndex, selectedIndex: nextIndex, isContextual: isContextual\n        };\n        this.trigger('tabSelecting', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.destroyScroll();\n            if (!_this.isAddRemove && (previousIndex !== -1)) {\n                _this.clearOverflowDropDown(previousIndex);\n            }\n            var selectedTabContent = _this.tabObj.items[parseInt(nextIndex.toString(), 10)].content;\n            if ((!selectedTabContent.querySelector('.' + constants.RIBBON_GROUP)) && (_this.tabs[parseInt(nextIndex.toString(), 10)].groups.length !== 0)) {\n                var elements = _this.createGroups(_this.tabs[parseInt(nextIndex.toString(), 10)].groups, nextIndex);\n                append(elements, selectedTabContent);\n            }\n        });\n    };\n    Ribbon.prototype.createTabItems = function (tabs) {\n        var _this = this;\n        var tabItems = [];\n        var _loop_3 = function (i) {\n            var ribbonTab = tabs[parseInt(i.toString(), 10)];\n            var header = this_3.createElement('span', {\n                innerHTML: ribbonTab.header,\n                id: ribbonTab.id + constants.HEADER_ID\n            });\n            var tabIndex = getIndex(this_3.tabs, (function (tab) { return (tab.id === ribbonTab.id); }));\n            if (ribbonTab.keyTip) {\n                if (!this_3.keyTipElements[parseInt(tabIndex.toString(), 10)]) {\n                    this_3.keyTipElements[parseInt(tabIndex.toString(), 10)] = {};\n                }\n                this_3.addKeyTip(tabIndex, ribbonTab.keyTip, ribbonTab.id, 'tab');\n            }\n            header.onclick = function () { _this.minimize(false); };\n            header.ondblclick = function () { _this.minimize(true); };\n            var tab = { header: { text: header }, id: ribbonTab.id, cssClass: ribbonTab.cssClass };\n            var content = this_3.createElement('div', {\n                className: tab.cssClass,\n                id: ribbonTab.id + constants.CONTENT_ID\n            });\n            content.classList.add(constants.RIBBON_TAB_ITEM);\n            tab.content = content;\n            tabItems.push(tab);\n        };\n        var this_3 = this;\n        for (var i = 0; i < tabs.length; i++) {\n            _loop_3(i);\n        }\n        return tabItems;\n    };\n    Ribbon.prototype.renderInitialTab = function (index) {\n        var elements = this.createGroups(this.tabs[parseInt(index.toString(), 10)].groups, index);\n        var content = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        append(elements, content);\n        if (this.activeLayout === 'Simplified') {\n            this.element.classList.add(constants.RIBBON_SIMPLIFIED_MODE);\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n        if (this.activeLayout === 'Classic' && this.ribbonGalleryModule)\n            this.ribbonGalleryModule.checkAvailableHeight(this.selectedTab, activeContent);\n    };\n    Ribbon.prototype.addOverflowButton = function (btnId, isGroupOF) {\n        var _this = this;\n        var overflowButton = this.createElement('button', {\n            id: btnId\n        });\n        var overflowTarget = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_TARGET,\n            attrs: { 'tabindex': '0' }\n        });\n        var overflowDDB = new DropDownButton({\n            iconCss: constants.OVERFLOW_ICON,\n            cssClass: constants.DROPDOWNBUTTON_HIDE + constants.SPACE + constants.RIBBON_GROUP_OVERFLOW_DDB,\n            target: overflowTarget,\n            locale: this.locale,\n            enableRtl: this.enableRtl,\n            enablePersistence: this.enablePersistence,\n            beforeOpen: function (args) {\n                var eventArgs = { element: args.element, event: args.event, cancel: args.cancel };\n                _this.trigger('overflowPopupOpen', eventArgs, function (ribbonArgs) {\n                    if (ribbonArgs.cancel) {\n                        args.cancel = true;\n                    }\n                });\n            },\n            beforeClose: function (args) {\n                var ele = args.event ? closest(args.event.target, '.' + constants.RIBBON_POPUP_CONTROL) : null;\n                var groupButtonEle = args.event ? closest(args.event.target, '.e-ribbon-group-button-overflow-popup') : null;\n                var eventArgs = { element: args.element, event: args.event, cancel: args.cancel };\n                _this.trigger('overflowPopupClose', eventArgs, function (ribbonArgs) {\n                    if (ele || ribbonArgs.cancel || groupButtonEle) {\n                        args.cancel = true;\n                    }\n                });\n            }\n        }, overflowButton);\n        this.element.classList.add(constants.RIBBON_OVERFLOW);\n        createTooltip(overflowTarget, this);\n        if (!isGroupOF) {\n            this.keyTipElements['overflowbtn'] = [];\n            this.keyTipElements['overflowbtn'].push({ id: btnId, type: 'overflowbtn', keyTip: '00' });\n        }\n        var isGroupOf;\n        overflowButton.onkeydown = overflowButton.onclick = function () { _this.itemIndex = -1; isGroupOf = overflowButton.classList.contains('e-ribbon-overall-of-btn') ? false : true; };\n        overflowTarget.onkeydown = function (e) { return (_this.upDownKeyHandler(e, overflowTarget, isGroupOf), _this); };\n        return overflowDDB;\n    };\n    Ribbon.prototype.upDownKeyHandler = function (e, target, isGroupOf) {\n        var items;\n        if (isGroupOf) {\n            items = target.getElementsByClassName('e-ribbon-item');\n        }\n        else {\n            var currentList = target.querySelector('.e-ribbon-of-tab.e-ribbon-active');\n            items = currentList.getElementsByClassName('e-ribbon-item');\n        }\n        var control = items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-control');\n        var comboBoxEle = control && control.classList.contains('e-combobox') ? items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-combobox') : null;\n        var ribbonItem;\n        var templateEle;\n        if (comboBoxEle === null || (e.key === 'Tab') || this.itemIndex < 0) {\n            if (e.key === 'ArrowDown' || (!e.shiftKey && e.key === 'Tab')) {\n                if ((!this.itemIndex && this.itemIndex !== 0) || this.itemIndex < 0 || this.itemIndex === items.length - 1) {\n                    this.itemIndex = 0;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                    if (comboBoxEle && e.key === 'Tab') {\n                        e.preventDefault();\n                        var item = items[this.itemIndex].querySelector('.e-control');\n                        if (item) {\n                            item.focus();\n                        }\n                    }\n                    templateEle = items[this.itemIndex].querySelector('.e-ribbon-template');\n                }\n                else if (this.itemIndex < items.length - 1 && this.itemIndex >= 0) {\n                    this.itemIndex++;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                    templateEle = items[this.itemIndex].querySelector('.e-ribbon-template');\n                }\n                if (templateEle) {\n                    templateEle.focus();\n                }\n            }\n            else if (e.key === 'ArrowUp' || (e.shiftKey && e.key === 'Tab')) {\n                if (comboBoxEle === null || (e.key === 'Tab')) {\n                    if (!this.itemIndex || this.itemIndex === -1) {\n                        this.itemIndex = items.length - 1;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                        if (comboBoxEle && (e.shiftKey && e.key === 'Tab')) {\n                            e.preventDefault();\n                            var item = items[this.itemIndex].querySelector('.e-control');\n                            if (item) {\n                                item.focus();\n                            }\n                        }\n                        templateEle = items[this.itemIndex].querySelector('.e-ribbon-template');\n                    }\n                    else if (this.itemIndex <= items.length - 1 && this.itemIndex > 0) {\n                        this.itemIndex--;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                        templateEle = items[this.itemIndex].querySelector('.e-ribbon-template');\n                    }\n                    if (templateEle) {\n                        templateEle.focus();\n                    }\n                }\n            }\n            target.setAttribute('index', this.itemIndex.toString());\n        }\n        var currentItemIndex = parseInt(target.getAttribute('index'), 10);\n        var itemType = \"\";\n        var controlItem = items[parseInt(currentItemIndex.toString(), 10)] ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control') : null;\n        if (controlItem) {\n            itemType = controlItem.getAttribute('data-control');\n        }\n        if (e.key === 'ArrowDown' || e.key === 'ArrowUp' || e.key === ' ' || e.key === 'Tab') {\n            if (itemType === 'ColorPicker') {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-split-colorpicker').focus();\n            }\n            else {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                var elem = items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control');\n                if (elem) {\n                    elem.focus();\n                }\n            }\n            if (e.key === ' ' && (itemType === 'CheckBox')) {\n                var checkBoxEle = items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control');\n                var checkBox = getComponent(checkBoxEle, CheckBox);\n                this.itemIndex = -1;\n                checkBox.click();\n            }\n        }\n        if (((itemType === 'SplitButton') && (e.key === 'ArrowRight' || e.key === 'ArrowLeft'))) {\n            if (e.key === 'ArrowRight') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus();\n            }\n            if (e.key === 'ArrowLeft') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus();\n            }\n        }\n        if (e.key === 'Enter') {\n            this.itemIndex = -1;\n        }\n    };\n    Ribbon.prototype.findDisabledItem = function (ribbonItem, items, isIncrease) {\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (isIncrease) {\n                if (this.itemIndex === items.length - 1 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = -1;\n                }\n            }\n            else {\n                if (this.itemIndex === 0 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = items.length;\n                }\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            isIncrease ? this.itemIndex++ : this.itemIndex--;\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n    };\n    Ribbon.prototype.removeOverflowButton = function (overflowDDB) {\n        if (overflowDDB) {\n            var btnEle = overflowDDB.element;\n            destroyTooltip(overflowDDB.target);\n            overflowDDB.destroy();\n            btnEle.remove();\n        }\n    };\n    Ribbon.prototype.removeOverflowEvent = function (item, itemEle) {\n        if (itemEle) {\n            switch (item.type) {\n                case 'Button':\n                    this.ribbonButtonModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'DropDown':\n                    this.ribbonDropDownModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'SplitButton':\n                    this.ribbonSplitButtonModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'CheckBox':\n                    this.ribbonCheckBoxModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'ColorPicker':\n                    this.ribbonColorPickerModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'ComboBox':\n                    this.ribbonComboBoxModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'Gallery':\n                    this.ribbonGalleryModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'GroupButton':\n                    this.ribbonGroupButtonModule.removeOverFlowEvents(item, itemEle);\n                    break;\n            }\n        }\n    };\n    Ribbon.prototype.createGroupContainer = function (groupId, groupHeader) {\n        var ofGroupContainer = this.createElement('div', {\n            className: constants.RIBBON_OF_GROUP_CONTAINER,\n            id: groupId + constants.CONTAINER_ID\n        });\n        var ofGroupHeader = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_HEADER,\n            id: groupId + constants.HEADER_ID,\n            innerHTML: groupHeader\n        });\n        ofGroupContainer.append(ofGroupHeader);\n        return ofGroupContainer;\n    };\n    Ribbon.prototype.addExpandCollapse = function () {\n        var _this = this;\n        this.collapseButton = this.createElement('span', {\n            className: constants.RIBBON_COLLAPSE_BUTTON + constants.SPACE + constants.EXPAND_COLLAPSE_ICON,\n            id: this.tabObj.element.id + constants.COLLAPSE_BUTTON_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Layout Switcher', 'role': 'button' }\n        });\n        this.collapseButton.onclick = function () { _this.toggleLayout(); };\n        this.collapseButton.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                _this.toggleLayout();\n            }\n        };\n        this.element.classList.add(constants.RIBBON_COLLAPSIBLE);\n        if (this.activeLayout === 'Simplified') {\n            this.collapseButton.classList.add(constants.RIBBON_EXPAND_BUTTON);\n        }\n        this.tabObj.element.appendChild(this.collapseButton);\n        if (this.layoutSwitcherKeyTip) {\n            this.keyTipElements['collapse'] = [];\n            this.keyTipElements['collapse'].push({ id: this.collapseButton.id, type: 'collapse', keyTip: this.layoutSwitcherKeyTip });\n        }\n    };\n    Ribbon.prototype.removeExpandCollapse = function () {\n        var _this = this;\n        var index = getIndex(this.tooltipData, function (e) { return e.id === _this.collapseButton.id; });\n        if (index !== -1) {\n            this.tooltipData.splice(index, 1);\n        }\n        this.element.classList.remove(constants.RIBBON_COLLAPSIBLE);\n        remove(this.tabObj.element.querySelector('.' + constants.RIBBON_COLLAPSE_BUTTON));\n        this.collapseButton = null;\n    };\n    Ribbon.prototype.reRenderTabs = function (tabs) {\n        this.destroyScroll();\n        this.checkID(this.tabs, 'tab', this.element.id);\n        for (var key in tabs) {\n            var index = parseInt(key, 10);\n            var tab = tabs[parseInt(index.toString(), 10)];\n            var isNewTab = false;\n            for (var j = 0; j < (this.tabObj.items.length); j++) {\n                if (this.tabs[parseInt(index.toString(), 10)].id === this.tabObj.items[parseInt(j.toString(), 10)].id) {\n                    isNewTab = true;\n                    break;\n                }\n            }\n            if (!isNewTab) {\n                this.destroyTabItems(this.tabsInternal);\n                this.tabsInternal = this.tabs.slice();\n                this.validateItemSize();\n                var tabItems = this.createTabItems(this.tabs);\n                if (this.selectedTab >= this.tabs.length) {\n                    this.selectedTab = this.tabs.length - 1;\n                }\n                this.tabObj.setProperties({ items: tabItems, selectedItem: this.selectedTab });\n                break;\n            }\n            else {\n                var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n                var tabEle = this.tabObj.element;\n                var ribbonTab = this.tabs[parseInt(index.toString(), 10)];\n                ribbonTab.setProperties(tab, true);\n                this.setProperties({ groups: this.checkID(ribbonTab.groups, 'group', ribbonTab.id) }, true);\n                this.validateItemSize();\n                var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n                if (groups) {\n                    // Check whether header is passed by the user and sets the updated values.\n                    if (tab.header) {\n                        this.tabObj.items[parseInt(index.toString(), 10)].header.text.innerText = ribbonTab.header;\n                    }\n                    // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n                    if (tab.cssClass) {\n                        if (this.tabObj.items[parseInt(index.toString(), 10)].cssClass) {\n                            contentEle.classList.remove(this.tabObj.items[parseInt(index.toString(), 10)].cssClass);\n                            tabEle.querySelector('.e-active').classList.remove(this.tabObj.items[parseInt(index.toString(), 10)].cssClass);\n                        }\n                        contentEle.classList.add(ribbonTab.cssClass);\n                        tabEle.querySelector('.e-active').classList.add(ribbonTab.cssClass);\n                    }\n                    // Check whether group is passed by the user, and if it is, then remove the old values.\n                    if (tab.groups) {\n                        for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\n                            var group = groups_1[_i];\n                            var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                            for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                                var collection = _b[_a];\n                                for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                                    var item = _d[_c];\n                                    var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                                    if (ele) {\n                                        this.destroyFunction(item, ele);\n                                    }\n                                }\n                            }\n                            if (dropdownElement) {\n                                this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                            }\n                        }\n                        var groupElements = contentEle.querySelectorAll('.e-ribbon-group');\n                        // eslint-disable-next-line @typescript-eslint/tslint/config\n                        groupElements.forEach(function (groupEle) { groupEle.remove(); });\n                        var elements = this.createGroups(ribbonTab.groups, index);\n                        append(elements, contentEle);\n                    }\n                }\n            }\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n    };\n    Ribbon.prototype.switchLayout = function () {\n        this.currentControlIndex = 0;\n        this.destroyScroll();\n        this.collapseButton.classList.toggle(constants.RIBBON_EXPAND_BUTTON, this.activeLayout === 'Simplified');\n        this.element.classList.toggle(constants.RIBBON_SIMPLIFIED_MODE, this.activeLayout === 'Simplified');\n        for (var i = 0; i <= (this.tabs.length - 1); i++) {\n            var tabIndex = i;\n            var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n            if (contentEle.innerHTML !== '') {\n                var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n                var groupList = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n                var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.CONTENT_ID);\n                var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n                if (this.activeLayout === 'Simplified') {\n                    for (var i_4 = 0; i_4 < groupList.length; i_4++) {\n                        var group = groupList[parseInt(i_4.toString(), 10)];\n                        var alignType = groupList[parseInt(i_4.toString(), 10)].orientation;\n                        if (group.isCollapsed) {\n                            group.setProperties({ isCollapsed: false }, true);\n                            this.removeDropdown(group.id);\n                        }\n                        else {\n                            this.checkSmallToMedium(tabIndex, tab, i_4, tabContent, activeContent, true, false);\n                            this.checkMediumToLarge(tabIndex, tab, i_4, tabContent, activeContent, true, false);\n                        }\n                        var groupEle = tabContent.querySelector('#' + group.id);\n                        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var shrinkColumns = groupContainer.querySelectorAll('.' + 'e-ribbon-shrink');\n                        for (var i_5 = 0; i_5 < shrinkColumns.length; i_5++) {\n                            shrinkColumns[parseInt(i_5.toString(), 10)].remove();\n                        }\n                        var groupHeader = groupContainer.querySelector('#' + group.id + constants.HEADER_ID);\n                        groupHeader.remove();\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        groupContent.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                        groupContent.classList.remove(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            groupCollection.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && (item.displayOptions === DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle_1 = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    var ele = itemEle_1.querySelector('#' + item.id);\n                                    this.destroyFunction(item, ele);\n                                    itemEle_1.remove();\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                var size = ((item.allowedSizes === RibbonItemSize.Large) ||\n                                    (item.allowedSizes & RibbonItemSize.Medium)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                size = (!(item.displayOptions & DisplayMode.Simplified) && (item.displayOptions & DisplayMode.Overflow))\n                                    ? RibbonItemSize.Medium : size;\n                                var itemEle = void 0;\n                                if (!(item.displayOptions & DisplayMode.Classic)) {\n                                    itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer)[0];\n                                    if (item.displayOptions & DisplayMode.Simplified) {\n                                        groupCollection.append(itemEle);\n                                    }\n                                }\n                                else {\n                                    itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)) {\n                                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemEle, groupContainer);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton) || (item.type === RibbonItemType.Gallery)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, true);\n                                        }\n                                    }\n                                    if (item.type === RibbonItemType.GroupButton) {\n                                        this.ribbonGroupButtonModule.switchGroupButton(item, itemEle);\n                                    }\n                                    item.setProperties({ activeSize: size }, true);\n                                    if (itemEle) {\n                                        var ele = itemEle.querySelector('#' + item.id);\n                                        this.setItemSize(ele, item);\n                                    }\n                                }\n                                if (item.type === RibbonItemType.Gallery) {\n                                    this.ribbonGalleryModule.switchGalleryItems(this.activeLayout, item.id);\n                                }\n                            }\n                        }\n                        if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                            groupEle.classList.add('e-ribbon-emptyCollection');\n                        }\n                    }\n                }\n                else {\n                    this.element.classList.remove(constants.RIBBON_OVERFLOW);\n                    for (var i_6 = 0; i_6 < groupList.length; i_6++) {\n                        var group = groupList[parseInt(i_6.toString(), 10)];\n                        var alignType = groupList[parseInt(i_6.toString(), 10)].orientation;\n                        var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        var groupHeader = this.createElement('div', {\n                            className: constants.RIBBON_GROUP_HEADER,\n                            id: group.id + constants.HEADER_ID,\n                            innerHTML: group.header\n                        });\n                        groupContainer.appendChild(groupHeader);\n                        if (alignType === 'Row') {\n                            groupContent.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                        }\n                        groupContent.classList.add(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var overflowDDB = void 0;\n                            var overflowtarget = void 0;\n                            if (!group.enableGroupOverflow) {\n                                overflowDDB = this.overflowDDB;\n                                if (overflowDDB) {\n                                    overflowtarget = this.overflowDDB.target;\n                                }\n                            }\n                            else {\n                                var overflowDDBEle = groupContainer.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                                if (overflowDDBEle) {\n                                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                                    overflowtarget = overflowDDB.target;\n                                }\n                            }\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            if (alignType === 'Column') {\n                                groupCollection.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                            }\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && !(item.displayOptions & DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle = void 0;\n                                    if ((item.displayOptions & DisplayMode.Simplified) || (item.displayOptions & DisplayMode.Overflow)) {\n                                        if (item.displayOptions & DisplayMode.Simplified) {\n                                            itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        else {\n                                            itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        if (itemEle !== null) {\n                                            var ele_8 = itemEle.querySelector('#' + item.id);\n                                            this.destroyFunction(item, ele_8);\n                                            itemEle.remove();\n                                        }\n                                    }\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                if (!(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) {\n                                    var itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex)[0];\n                                    groupCollection.append(itemEle);\n                                }\n                                else {\n                                    var itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (!itemEle && overflowtarget) {\n                                        itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton) || (item.type === RibbonItemType.Gallery)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, false);\n                                        }\n                                        this.removeOverflowEvent(item, itemEle);\n                                    }\n                                    if (item.type === RibbonItemType.GroupButton) {\n                                        this.ribbonGroupButtonModule.switchGroupButton(item, itemEle);\n                                    }\n                                    if (itemEle) {\n                                        groupCollection.append(itemEle);\n                                    }\n                                }\n                                var ele = groupContainer.querySelector('#' + item.id);\n                                if (item.type === RibbonItemType.GroupButton) {\n                                    ele = groupContainer.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                                }\n                                var itemsize = (item.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                                    (item.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                item.setProperties({ activeSize: itemsize }, true);\n                                this.setItemSize(ele, item);\n                                if (item.type === RibbonItemType.Gallery) {\n                                    this.ribbonGalleryModule.switchGalleryItems(this.activeLayout, item.id);\n                                }\n                            }\n                            if (group.enableGroupOverflow && overflowDDB) {\n                                if (overflowtarget.childElementCount === 0 || (overflowtarget.childElementCount === 1 && this.isHeaderVisible(overflowtarget, group.id))) {\n                                    this.removeOverflowButton(overflowDDB);\n                                }\n                            }\n                        }\n                    }\n                }\n                if (this.selectedTab === tabIndex) {\n                    this.checkOverflow(tabIndex, activeContent);\n                }\n            }\n        }\n        if (this.activeLayout === 'Classic') {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.createLauncherIcon = function (groupId, groupContainer, tabIndex) {\n        var _this = this;\n        var launcherIcon = this.createElement('div', {\n            className: constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss ? this.launcherIconCss : constants.RIBBON_LAUNCHER_ICON),\n            id: groupId + constants.LAUNCHER_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Launcher Icon', 'role': 'button' }\n        });\n        groupContainer.appendChild(launcherIcon);\n        groupContainer.classList.add(constants.RIBBON_LAUNCHER);\n        EventHandler.add(launcherIcon, 'click', this.launcherIconClicked.bind(this, groupId), this);\n        EventHandler.add(launcherIcon, 'keydown', function (e) {\n            if (e.key === 'Enter') {\n                _this.launcherIconClicked(groupId);\n            }\n        }, this);\n        var itemProp = getGroup(this.tabs, groupId);\n        if (itemProp.group.launcherIconKeyTip) {\n            this.addKeyTip(tabIndex, itemProp.group.launcherIconKeyTip, launcherIcon.id, 'launcher');\n        }\n    };\n    Ribbon.prototype.launcherIconClicked = function (id) {\n        var eventArgs = { groupId: id };\n        this.trigger('launcherIconClick', eventArgs);\n    };\n    Ribbon.prototype.createGroups = function (groupList, tabIndex) {\n        var groupElements = [];\n        for (var i = 0; i < groupList.length; i++) {\n            var group = groupList[parseInt(i.toString(), 10)];\n            var alignType = group.orientation;\n            var groupEle = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id\n            });\n            groupEle.classList.add(constants.RIBBON_GROUP);\n            groupElements.push(groupEle);\n            var groupContainer = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id + constants.CONTAINER_ID\n            });\n            groupContainer.classList.add(constants.RIBBON_GROUP_CONTAINER);\n            groupEle.appendChild(groupContainer);\n            var groupContent = this.createElement('div', {\n                className: this.activeLayout === 'Simplified' ? constants.RIBBON_GROUP_CONTENT : (constants.RIBBON_GROUP_CONTENT + constants.SPACE + constants.RIBBON_CONTENT_HEIGHT),\n                id: group.id + constants.CONTENT_ID\n            });\n            groupContent.classList.add(((alignType === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            groupContainer.appendChild(groupContent);\n            if (this.activeLayout === 'Classic') {\n                var groupHeader = this.createElement('div', {\n                    className: constants.RIBBON_GROUP_HEADER,\n                    id: group.id + constants.HEADER_ID,\n                    innerHTML: group.header\n                });\n                groupContainer.appendChild(groupHeader);\n            }\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(group.id, groupContainer, tabIndex);\n            }\n            var elements = this.createCollection(group.collections, group.orientation, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer);\n            append(elements, groupContent);\n            var isItemsHidden = true;\n            for (var j = 0; j < elements.length; j++) {\n                if (isItemsHidden) {\n                    for (var k = 0; k < elements[parseInt(j.toString(), 10)].children.length; k++) {\n                        if (!(elements[parseInt(j.toString(), 10)].children[parseInt(k.toString(), 10)].classList.contains('e-hidden'))) {\n                            isItemsHidden = false;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (isItemsHidden) {\n                groupEle.classList.add('e-hide-group');\n            }\n            if ((this.activeLayout === 'Simplified') && !(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n            var initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n            if (initialProps) {\n                if (initialProps.hiddenGroups && initialProps.hiddenGroups.length) {\n                    this.updateGroupProps('hiddenGroups', initialProps, groupEle);\n                }\n                if (initialProps.disabledGroups && initialProps.disabledGroups.length) {\n                    this.updateGroupProps('disabledGroups', initialProps, groupEle);\n                }\n            }\n        }\n        if (this.initialPropsData[parseInt(tabIndex.toString(), 10)]) {\n            delete this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n        }\n        return groupElements;\n    };\n    Ribbon.prototype.updateGroupProps = function (key, initialProps, groupEle) {\n        // eslint-disable-next-line\n        var groupIndex = initialProps[key].indexOf(groupEle.id);\n        if (groupIndex !== -1) {\n            key === 'hiddenGroups' ? groupEle.classList.add('e-hidden') : groupEle.classList.add('e-disabled');\n        }\n    };\n    Ribbon.prototype.validateItemSize = function () {\n        for (var k = 0; k < this.tabs.length; k++) {\n            var groupList = this.tabs[parseInt(k.toString(), 10)].groups;\n            for (var l = 0; l < groupList.length; l++) {\n                var collectionList = groupList[parseInt(l.toString(), 10)].collections;\n                var alignType = groupList[parseInt(l.toString(), 10)].orientation;\n                for (var i = 0; i < collectionList.length; i++) {\n                    var items = collectionList[parseInt(i.toString(), 10)].items;\n                    for (var j = 0; j < items.length; j++) {\n                        var ribbonitem = items[parseInt(j.toString(), 10)];\n                        if (!ribbonitem.allowedSizes || (ribbonitem.allowedSizes === 0)) {\n                            ribbonitem.setProperties({\n                                allowedSizes: (RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n                            }, true);\n                        }\n                        if ((ribbonitem.type === 'ColorPicker') && (ribbonitem.allowedSizes !== RibbonItemSize.Small)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Small }, true);\n                        }\n                        else if ((ribbonitem.type === 'ComboBox' || ribbonitem.type === 'CheckBox') &&\n                            (ribbonitem.allowedSizes !== RibbonItemSize.Medium)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Medium }, true);\n                        }\n                        else if (((alignType === 'Column') && (items.length > 1)) || ((alignType === 'Row') && (collectionList.length > 1))) {\n                            if (ribbonitem.allowedSizes & RibbonItemSize.Large) {\n                                // To remove large size, perform 'and' with 011(3).\n                                var sizeVal = ribbonitem.allowedSizes & (RibbonItemSize.Small | RibbonItemSize.Medium);\n                                sizeVal = sizeVal ? sizeVal : RibbonItemSize.Medium;\n                                ribbonitem.setProperties({ allowedSizes: sizeVal }, true);\n                            }\n                        }\n                        var itemsize = (ribbonitem.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                            (ribbonitem.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                        ribbonitem.setProperties({ activeSize: itemsize }, true);\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createCollection = function (collectionList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var collectionElements = [];\n        for (var i = 0; i < collectionList.length; i++) {\n            var collection = collectionList[parseInt(i.toString(), 10)];\n            var collectionEle = this.createElement('div', {\n                className: collection.cssClass,\n                id: collection.id\n            });\n            collectionEle.classList.add(constants.RIBBON_COLLECTION);\n            collectionEle.classList.add(((alignType !== 'Column') || (this.activeLayout === 'Simplified')) ?\n                constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            collectionElements.push(collectionEle);\n            var elements = this.createItems(collection.items, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer);\n            append(elements, collectionEle);\n            if ((alignType === 'Row') && (i === 2)) {\n                break;\n            }\n        }\n        return collectionElements;\n    };\n    Ribbon.prototype.createRibbonItem = function (item, itemEle) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.createButton(item, itemEle);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.createDropDown(item, itemEle);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.createSplitButton(item, itemEle);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.createCheckBox(item, itemEle);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.createColorPicker(item, itemEle);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.createComboBox(item, itemEle);\n                break;\n            case 'Template':\n                this.createTemplateContent(item, itemEle);\n                break;\n            case 'GroupButton':\n                this.ribbonGroupButtonModule.createGroupButton(item, itemEle);\n                break;\n            case 'Gallery':\n                this.ribbonGalleryModule.createGallery(item, itemEle);\n                break;\n        }\n    };\n    Ribbon.prototype.createItems = function (itemList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var _a;\n        var itemElements = [];\n        for (var i = 0; i < itemList.length; i++) {\n            var item = itemList[parseInt(i.toString(), 10)];\n            //To stop rendering of items with simplified mode position type as none\n            var flag = true;\n            while (flag &&\n                (((this.activeLayout === 'Simplified') && !(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) ||\n                    ((this.activeLayout === 'Classic') && !(item.displayOptions & DisplayMode.Classic)))) {\n                i++;\n                if (i < itemList.length) {\n                    item = itemList[parseInt(i.toString(), 10)];\n                }\n                else {\n                    flag = false;\n                }\n            }\n            if (!flag) {\n                break;\n            }\n            var itemEle = this.createElement('div', {\n                className: item.cssClass,\n                id: item.id + constants.CONTAINER_ID\n            });\n            (_a = itemEle.classList).add.apply(_a, [constants.RIBBON_ITEM].concat((item.disabled ? [constants.DISABLED_CSS] : [])));\n            // To avoid undefined items condition is added\n            if (item.ribbonTooltipSettings && isTooltipPresent(item.ribbonTooltipSettings)) {\n                itemEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                this.tooltipData.push({ id: itemEle.id, data: item.ribbonTooltipSettings });\n            }\n            if (item.type === RibbonItemType.GroupButton) {\n                for (var i_7 = 0; i_7 < item.groupButtonSettings.items.length; i_7++) {\n                    if (this.keyTipElements[parseInt(tabIndex.toString(), 10)] && item.groupButtonSettings.items[parseInt(i_7.toString(), 10)].keyTip) {\n                        this.addKeyTip(tabIndex, item.groupButtonSettings.items[parseInt(i_7.toString(), 10)].keyTip, item.id + (constants.RIBBON_GROUP_BUTTON_ID + i_7), 'item');\n                    }\n                }\n            }\n            if (item.keyTip) {\n                if (item.type === RibbonItemType.Gallery) {\n                    this.addKeyTip(tabIndex, item.keyTip, (item.id + '_popupButton'), 'item');\n                }\n                else {\n                    this.addKeyTip(tabIndex, item.keyTip, item.id, 'item');\n                }\n            }\n            var size = item.activeSize;\n            if (!(item.type === RibbonItemType.Gallery)) {\n                if (this.activeLayout === 'Simplified') {\n                    size = ((item.allowedSizes === RibbonItemSize.Large) || (item.allowedSizes & RibbonItemSize.Medium) ||\n                        (item.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                    item.setProperties({ activeSize: size }, true);\n                }\n                if (size & RibbonItemSize.Large) {\n                    itemEle.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n                }\n                else {\n                    itemEle.classList.add((size & RibbonItemSize.Medium) ? constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n                }\n            }\n            var initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n            if (initialProps && initialProps.hiddenItems && initialProps.hiddenItems.length) {\n                var itemIndex = initialProps.hiddenItems.indexOf(item.id);\n                if (itemIndex !== -1) {\n                    itemEle.classList.add('e-hidden');\n                }\n            }\n            this.createRibbonItem(item, itemEle);\n            if ((this.activeLayout === 'Simplified') && ((item.displayOptions === DisplayMode.Overflow) || (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)))) {\n                this.createOverflowPopup(item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer);\n                if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton) || (item.type === RibbonItemType.Gallery)) {\n                    this.updatePopupItems(item, itemEle, isGroupOF, true);\n                }\n            }\n            else {\n                // For normal mode and Simplified mode position type as Group and Auto\n                itemElements.push(itemEle);\n            }\n            if ((alignType === 'Column') && (i === 2)) {\n                break;\n            }\n        }\n        return itemElements;\n    };\n    Ribbon.prototype.createHelpPaneTemplate = function () {\n        if (this.helpPaneTemplate) {\n            var templateName = 'helpPaneTemplate';\n            this.clearTemplate([templateName]);\n            this.ribbonTempEle = this.createElement('div', {\n                className: constants.RIBBON_HELP_TEMPLATE,\n                id: this.element.id + constants.RIBBON_HELP_PANE_TEMPLATE_ID\n            });\n            var templateFunction = getTemplateFunction(this.helpPaneTemplate);\n            append(templateFunction({}, this, templateName, 'helpPaneTemplate', this.isStringTemplate), this.ribbonTempEle);\n            var tabEle = this.tabObj.element;\n            var toolbarEle = tabEle.querySelector('.e-toolbar');\n            toolbarEle.after(this.ribbonTempEle);\n            tabEle.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, this.ribbonTempEle.offsetWidth + 'px');\n            this.renderReactTemplates();\n        }\n    };\n    Ribbon.prototype.createTemplateContent = function (item, itemElement) {\n        var itemEle = this.createElement('div', {\n            className: item.cssClass ? (constants.RIBBON_TEMPLATE + constants.SPACE + item.cssClass) : constants.RIBBON_TEMPLATE,\n            id: item.id,\n            attrs: { 'tabindex': '-1' }\n        });\n        if (item.disabled) {\n            itemEle.classList.add(constants.DISABLED_CSS);\n            itemEle.setAttribute('disabled', '');\n        }\n        itemElement.appendChild(itemEle);\n        this.renderItemTemplate(item, itemEle);\n    };\n    Ribbon.prototype.renderItemTemplate = function (item, itemElement) {\n        var templateName = 'ribbon' + item.id + 'itemTemplate';\n        this.clearTemplate([templateName]);\n        var templateFunction = getTemplateFunction(item.itemTemplate);\n        append(templateFunction({ activeSize: RibbonItemSize[item.activeSize] }, this, templateName, (item.id + 'itemTemplate'), this.isStringTemplate), itemElement);\n        this.renderReactTemplates();\n    };\n    Ribbon.prototype.checkID = function (list, type, initId) {\n        var key = type === 'tab' ? constants.TAB_ID : type === 'group' ? constants.GROUP_ID :\n            type === 'collection' ? constants.COLLECTION_ID : constants.ITEM_ID;\n        for (var i = 0; i < list.length; i++) {\n            var listitem = list[parseInt(i.toString(), 10)];\n            if (!listitem.id) {\n                var htmlAttrID = void 0;\n                if (type === 'item') {\n                    htmlAttrID = this.hasHtmlAtrrID(listitem);\n                }\n                listitem.setProperties({ id: htmlAttrID ? htmlAttrID : initId + key + (this.idIndex++) }, true);\n            }\n            switch (type) {\n                case 'tab':\n                    listitem.setProperties({ groups: this.checkID(listitem.groups, 'group', listitem.id) }, true);\n                    break;\n                case 'group':\n                    listitem.setProperties({ collections: this.checkID(listitem.collections, 'collection', listitem.id) }, true);\n                    break;\n                case 'collection':\n                    listitem.setProperties({ items: this.checkID(listitem.items, 'item', listitem.id) }, true);\n                    break;\n                default:\n                    break;\n            }\n        }\n        return list;\n    };\n    Ribbon.prototype.hasHtmlAtrrID = function (listItem) {\n        var id = '';\n        if (listItem.buttonSettings.htmlAttributes.id) {\n            id = listItem.buttonSettings.htmlAttributes.id;\n        }\n        else if (listItem.checkBoxSettings.htmlAttributes.id) {\n            id = listItem.checkBoxSettings.htmlAttributes.id;\n        }\n        else if (listItem.colorPickerSettings.htmlAttributes.id) {\n            id = listItem.colorPickerSettings.htmlAttributes.id;\n        }\n        else if (listItem.comboBoxSettings.htmlAttributes.id) {\n            id = listItem.comboBoxSettings.htmlAttributes.id;\n        }\n        else if (listItem.dropDownSettings.htmlAttributes.id) {\n            id = listItem.dropDownSettings.htmlAttributes.id;\n        }\n        else if (listItem.splitButtonSettings.htmlAttributes.id) {\n            id = listItem.splitButtonSettings.htmlAttributes.id;\n        }\n        return id;\n    };\n    Ribbon.prototype.updateCommonProperty = function (commonProp) {\n        this.tabObj.setProperties(commonProp);\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.setCommonProperties(commonProp);\n        }\n        if (this.ribbonBackstageModule) {\n            this.ribbonBackstageModule.setCommonProperties(commonProp);\n        }\n        for (var i = 0; i < this.tabs.length; i++) {\n            var tab = this.tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            if (contentEle.querySelector('.' + constants.RIBBON_GROUP)) {\n                for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                    var group = _a[_i];\n                    var dropdownElement = void 0;\n                    var dropdown = void 0;\n                    if (this.activeLayout === RibbonLayout.Classic) {\n                        dropdownElement = group.isCollapsed ?\n                            contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    }\n                    else {\n                        dropdownElement = group.enableGroupOverflow ?\n                            contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                        dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                        if (dropdown) {\n                            updateTooltipProp(dropdown.target, commonProp);\n                            dropdown.setProperties(commonProp);\n                        }\n                    }\n                    for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                        var collection = _c[_b];\n                        for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                            var item = _e[_d];\n                            var ele = null;\n                            if (this.activeLayout === RibbonLayout.Classic) {\n                                if (item.displayOptions & DisplayMode.Classic) {\n                                    ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : item.type === RibbonItemType.GroupButton ? contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID) : contentEle.querySelector('#' + item.id);\n                                }\n                            }\n                            else {\n                                //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                                ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n                                // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                                if (!ele) {\n                                    ele = dropdown.target.querySelector('#' + item.id);\n                                    if (item.type === 'DropDown') {\n                                        this.updatePopupItems(item, dropdown.target, group.enableGroupOverflow, true);\n                                    }\n                                }\n                            }\n                            if (ele) {\n                                var moduleName = this.getItemModuleName(item);\n                                if (moduleName !== 'template') {\n                                    if (moduleName === 'group-btn' && this.activeLayout === 'Classic') {\n                                        for (var i_8 = 0; i_8 < item.groupButtonSettings.items.length; i_8++) {\n                                            var btnEle = ele.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i_8);\n                                            updateCommonProperty(btnEle, 'btn', commonProp);\n                                        }\n                                    }\n                                    else if (moduleName === 'group-btn' && this.activeLayout === 'Simplified') {\n                                        updateCommonProperty(ele, 'dropdown-btn', commonProp);\n                                        for (var i_9 = 0; i_9 < item.groupButtonSettings.items.length; i_9++) {\n                                            var btnEle = document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i_9);\n                                            updateCommonProperty(btnEle, 'btn', commonProp);\n                                        }\n                                    }\n                                    else {\n                                        updateCommonProperty(ele, moduleName, commonProp);\n                                    }\n                                }\n                                else if (!isNullOrUndefined(commonProp.enableRtl)) {\n                                    ele.classList.toggle(constants.RTL_CSS, commonProp.enableRtl);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.removeLauncherIcon = function (groupId, dropdownElement, contentEle) {\n        var containerId = groupId + constants.CONTAINER_ID;\n        var containerEle = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, containerId) : contentEle.querySelector('#' + containerId);\n        if (containerEle) {\n            containerEle.classList.remove(constants.RIBBON_LAUNCHER);\n            var launcherIcon = containerEle.querySelector('#' + groupId + constants.LAUNCHER_ID);\n            remove(launcherIcon);\n        }\n    };\n    Ribbon.prototype.destroyTabItems = function (tabs) {\n        for (var i = 0; i < tabs.length; i++) {\n            var tab = tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                var group = _a[_i];\n                var dropdownElement = void 0;\n                var dropdown = void 0;\n                if (this.activeLayout === RibbonLayout.Classic) {\n                    dropdownElement = group.isCollapsed ?\n                        contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    if (group.showLauncherIcon) {\n                        this.removeLauncherIcon(group.id, dropdownElement, contentEle);\n                    }\n                }\n                else {\n                    dropdownElement = group.enableGroupOverflow ?\n                        contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                    dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                }\n                for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                    var collection = _c[_b];\n                    for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                        var item = _e[_d];\n                        var ele = void 0;\n                        if (this.activeLayout === RibbonLayout.Classic) {\n                            if (item.displayOptions & DisplayMode.Classic) {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) :\n                                    contentEle.querySelector('#' + item.id);\n                                if (item.type === RibbonItemType.GroupButton) {\n                                    ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id + constants.RIBBON_GROUP_BUTTON_ID) :\n                                        contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                                }\n                                if (item.type === RibbonItemType.Gallery) {\n                                    ele = contentEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                }\n                            }\n                        }\n                        else {\n                            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                            ele = (item.displayOptions & DisplayMode.Simplified) ?\n                                contentEle.querySelector('#' + item.id) : null;\n                            if (item.type === RibbonItemType.Gallery) {\n                                ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id + constants.CONTAINER_ID) : null;\n                            }\n                            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                            if (!ele) {\n                                ele = dropdown ? dropdown.target.querySelector('#' + item.id) : null;\n                            }\n                        }\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if ((this.activeLayout === RibbonLayout.Classic) && dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n                else if ((this.activeLayout === RibbonLayout.Simplified) && group.enableGroupOverflow && dropdownElement) {\n                    this.removeOverflowButton(dropdown);\n                }\n            }\n        }\n        if (this.overflowDDB) {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.destroyFunction = function (item, ele) {\n        var moduleName = this.getItemModuleName(item);\n        if (moduleName === 'colorpicker') {\n            this.ribbonColorPickerModule.unwireColorPickerEvents(ele);\n        }\n        else if (moduleName === 'group-btn') {\n            if (this.activeLayout === 'Classic') {\n                for (var i = 0; i < item.groupButtonSettings.items.length; i++) {\n                    var btnEle = ele.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n                    if (btnEle) {\n                        destroyControl(btnEle, 'btn');\n                    }\n                }\n            }\n            else {\n                this.ribbonGroupButtonModule.destroyDropDown(item);\n            }\n            var _loop_4 = function (i) {\n                if (item.groupButtonSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings) {\n                    var groupButtonID_1 = item.id + constants.RIBBON_GROUP_BUTTON_ID + i;\n                    var index = getIndex(this_4.tooltipData, function (e) { return e.id === groupButtonID_1; });\n                    if (index !== -1) {\n                        this_4.tooltipData.splice(index, 1);\n                    }\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < item.groupButtonSettings.items.length; i++) {\n                _loop_4(i);\n            }\n        }\n        else if (moduleName === 'gallery') {\n            if (ele.closest('.e-ribbon-overflow-target')) {\n                destroyControl(ele, 'dropdown-btn');\n                var galleryPopupEle = Array.prototype.slice.call(document.querySelectorAll('#' + item.id + '_galleryPopup'));\n                galleryPopupEle.concat(Array.prototype.slice.call(document.querySelectorAll('#' + item.id + '-popup')));\n                for (var i = 0; i < galleryPopupEle.length; i++) {\n                    galleryPopupEle[parseInt(i.toString(), 10)].remove();\n                }\n            }\n            else {\n                var galleryEle = ele.querySelectorAll('.e-ribbon-gallery-item');\n                var galleryPopupBtn = ele.querySelector('#' + item.id + '_popupButton');\n                if (galleryPopupBtn) {\n                    galleryPopupBtn.remove();\n                }\n                for (var i = 0; i < galleryEle.length; i++) {\n                    galleryEle[parseInt(i.toString(), 10)].remove();\n                }\n                var galleryPopupEle = document.querySelectorAll('#' + item.id + '_galleryPopup');\n                for (var i = 0; i < galleryPopupEle.length; i++) {\n                    galleryPopupEle[parseInt(i.toString(), 10)].remove();\n                }\n            }\n        }\n        else if (moduleName !== 'template') {\n            destroyControl(ele, moduleName);\n        }\n        if (item.ribbonTooltipSettings) {\n            var index = getIndex(this.tooltipData, function (e) { return e.id === item.id + constants.CONTAINER_ID; });\n            if (index !== -1) {\n                this.tooltipData.splice(index, 1);\n            }\n        }\n        if (item.type === 'GroupButton') {\n            this.ribbonGroupButtonModule.destroyDropDown(item);\n        }\n    };\n    /**\n     * Gets the item module name.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    Ribbon.prototype.getItemModuleName = function (item) {\n        switch (item.type) {\n            case 'Button':\n                return 'btn';\n            case 'DropDown':\n                return 'dropdown-btn';\n            case 'SplitButton':\n                return 'split-btn';\n            case 'CheckBox':\n                return 'checkbox';\n            case 'ColorPicker':\n                return 'colorpicker';\n            case 'ComboBox':\n                return 'combobox';\n            case 'GroupButton':\n                return 'group-btn';\n            case 'Gallery':\n                return 'gallery';\n            default:\n                return 'template';\n        }\n    };\n    Ribbon.prototype.clearOverflowResize = function () {\n        this.destroyScroll();\n        this.clearOverflowDropDown(this.selectedTab);\n        var tab = this.tabs[this.selectedTab];\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        for (var j = 0; (j < tab.groups.length); j++) {\n            this.checkSmallToMedium(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n            this.checkMediumToLarge(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n        }\n    };\n    /**\n     * Refreshes the layout.\n     *\n     * @returns {void}\n     */\n    Ribbon.prototype.refreshLayout = function () {\n        this.resizeHandler();\n    };\n    /**\n     * Selects the tab\n     *\n     * @param  {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.selectTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        this.setProperties({ selectedTab: index });\n    };\n    /**\n     * Shows a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be shown.\n     * @returns {void}\n     */\n    Ribbon.prototype.showTab = function (tabId, isContextual) {\n        if (isContextual === void 0) { isContextual = false; }\n        this.showHideTab(tabId, false, isContextual);\n    };\n    /**\n     * Hides a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be hidden.\n     * @returns {void}\n     */\n    Ribbon.prototype.hideTab = function (tabId, isContextual) {\n        if (isContextual === void 0) { isContextual = false; }\n        this.showHideTab(tabId, true, isContextual);\n    };\n    Ribbon.prototype.showHideTab = function (tabId, value, isContextual) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        this.tabObj.hideTab(index, value);\n        if (isContextual) {\n            var contextualTab_1;\n            var tabEle = this.tabObj.element;\n            for (var i = 0; i < this.contextualTabs.length; i++) {\n                for (var j = 0; j < this.contextualTabs[parseInt(i.toString(), 10)].tabs.length; j++) {\n                    if (tabId === this.contextualTabs[parseInt(i.toString(), 10)].tabs[parseInt(j.toString(), 10)].id) {\n                        contextualTab_1 = this.contextualTabs[parseInt(i.toString(), 10)];\n                    }\n                }\n            }\n            if (contextualTab_1) {\n                var isTabHidden = true;\n                var _loop_5 = function (i) {\n                    var index_1 = getIndex(this_5.tabs, function (e) { return e.id === contextualTab_1.tabs[parseInt(i.toString(), 10)].id; });\n                    if (index_1 !== -1) {\n                        var toolbarEle = tabEle.querySelectorAll('.e-toolbar-item')[parseInt(index_1.toString(), 10)];\n                        if (!(toolbarEle.classList.contains('e-hidden'))) {\n                            isTabHidden = false;\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var i = 0; i < contextualTab_1.tabs.length; i++) {\n                    _loop_5(i);\n                }\n                if (isTabHidden) {\n                    contextualTab_1.setProperties({ visible: false }, true);\n                }\n                else {\n                    contextualTab_1.setProperties({ visible: true }, true);\n                }\n            }\n        }\n    };\n    /**\n     * Enables a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be enabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableTab = function (tabId) {\n        this.enableDisableTab(tabId, true);\n    };\n    /**\n     * Disables a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be disabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableTab = function (tabId) {\n        this.enableDisableTab(tabId, false);\n    };\n    Ribbon.prototype.enableDisableTab = function (tabId, value) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        this.tabObj.enableTab(index, value);\n    };\n    /**\n     * Adds the ribbon tab.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model\n     * @param {string} targetId  - Gets the ID of the target tab to add the new tab.\n     * @param {boolean} isAfter - Defines whether the tab is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addTab = function (tab, targetId, isAfter) {\n        var index = targetId ? getIndex(this.tabs, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? this.tabs.length : (index + (isAfter ? 1 : 0));\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 0, tab);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.checkID([this.tabs[parseInt(index.toString(), 10)]], 'tab', this.element.id);\n        this.tabsInternal = this.tabs.slice();\n        this.validateItemSize();\n        var tabItem = this.createTabItems([tab]);\n        this.tabObj.addTab(tabItem, index);\n    };\n    /**\n     * Removes the ribbon tab.\n     *\n     * @param {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.removeTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        if (groups && (contentEle.innerHTML !== '')) {\n            for (var _i = 0, groups_2 = groups; _i < groups_2.length; _i++) {\n                var group = groups_2[_i];\n                var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                    var collection = _b[_a];\n                    for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                        var item = _d[_c];\n                        var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                        if (item.type === RibbonItemType.GroupButton && this.activeLayout === 'Classic') {\n                            ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id + constants.RIBBON_GROUP_BUTTON_ID) :\n                                contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                        }\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if (dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 1);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.tabObj.removeTab(index);\n    };\n    /**\n     * Adds the ribbon group.\n     *\n     * @param {string} tabId - Gets the tab ID.\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @param {string} targetId - Gets the ID of the target group to add the new group.\n     * @param {boolean} isAfter - Defines whether the group is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addGroup = function (tabId, group, targetId, isAfter) {\n        var tabIndex = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (tabIndex === -1) {\n            return;\n        }\n        if (this.selectedTab === tabIndex) {\n            this.clearOverflowResize();\n        }\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        var ribbonGroups = tab.groups.slice();\n        var index = targetId ? getIndex(ribbonGroups, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonGroups.length : (index + (isAfter ? 1 : 0));\n        ribbonGroups.splice(index, 0, group);\n        tab.setProperties({ groups: ribbonGroups }, true);\n        this.checkID([tab.groups[parseInt(index.toString(), 10)]], 'group', tabId);\n        this.validateItemSize();\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        if (contentEle.innerHTML !== '') {\n            var element = this.createGroups([tab.groups[parseInt(index.toString(), 10)]], tabIndex)[0];\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.append(element);\n            }\n        }\n        if (this.selectedTab === tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon group.\n     *\n     * @param {string} groupId -Gets the group ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeGroup = function (groupId) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                var collection = _a[_i];\n                for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    this.removeItemElement(contentEle, item, dropdown);\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0 || (dropdown.target.childElementCount === 1 && this.isHeaderVisible(dropdown.target, itemProp.group.id))) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n            var groupEle = contentEle.querySelector('#' + groupId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroups = this.tabs[itemProp.tabIndex].groups.slice();\n        ribbonGroups.splice(itemProp.groupIndex, 1);\n        this.tabs[itemProp.tabIndex].setProperties({ groups: ribbonGroups }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    Ribbon.prototype.isHeaderVisible = function (headerEle, groupID) {\n        return headerEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID + constants.HEADER_ID) ? true : false;\n    };\n    /**\n     * Hides a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be hidden.\n     * @returns {void}\n     */\n    Ribbon.prototype.hideGroup = function (groupID) {\n        this.showHideGroup(groupID, true);\n    };\n    /**\n     * Shows a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be shown.\n     * @returns {void}\n     */\n    Ribbon.prototype.showGroup = function (groupID) {\n        this.showHideGroup(groupID, false);\n    };\n    Ribbon.prototype.showHideGroup = function (groupID, isHidden) {\n        var overflowDDB;\n        var overflowtarget;\n        var itemProp = getGroup(this.tabs, groupID);\n        if (!itemProp) {\n            return;\n        }\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupID);\n        if (groupEle) {\n            this.updateHiddenElements(itemProp.tabIndex, isHidden ? 'hideGroup' : 'showGroup', groupID, isHidden, groupEle);\n        }\n        else {\n            this.updateInitialProps(itemProp.tabIndex, groupID, 'hiddenGroups', isHidden);\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n            if (itemProp.group.enableGroupOverflow) {\n                var overflowDDBEle = contentEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n                if (overflowtarget) {\n                    isHidden ? overflowtarget.classList.add('e-hidden') : overflowtarget.classList.remove('e-hidden');\n                }\n            }\n            else if (ofTabContainer) {\n                var grpContainer = ofTabContainer.querySelector('#' + groupID + constants.CONTAINER_ID);\n                if (grpContainer) {\n                    isHidden ? grpContainer.classList.add('e-hidden') : grpContainer.classList.remove('e-hidden');\n                }\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    Ribbon.prototype.updateHiddenElements = function (tabIndex, key, id, isHidden, element, group) {\n        if (isHidden) {\n            if (!(element.classList.contains('e-hidden'))) {\n                this.checkHiddenElements(key, id, tabIndex);\n                element.classList.add('e-hidden');\n                if (key === 'hideItem') {\n                    this.checkHiddenItems(group, isHidden, tabIndex);\n                }\n                this.calculateHiddenElementsWidth(tabIndex);\n            }\n        }\n        else {\n            if (element.classList.contains('e-hidden')) {\n                this.checkHiddenElements(key, id, tabIndex);\n                element.classList.remove('e-hidden');\n                this.calculateHiddenElementsWidth(tabIndex);\n                if (key === 'showItem') {\n                    this.checkHiddenItems(group, isHidden, tabIndex);\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkHiddenElements = function (key, id, tabIndex) {\n        if (this.activeLayout === 'Simplified') {\n            var hiddenProps = this.hiddenElements[parseInt(tabIndex.toString(), 10)];\n            if (!hiddenProps) {\n                this.hiddenElements[parseInt(tabIndex.toString(), 10)] = {};\n                hiddenProps = this.hiddenElements[parseInt(tabIndex.toString(), 10)];\n            }\n            if (hiddenProps) {\n                /* eslint-disable */\n                if (!hiddenProps[key]) {\n                    hiddenProps[key] = [];\n                }\n                if (hiddenProps[key].length) {\n                    var index = hiddenProps[key].indexOf(id);\n                    if (index === -1) {\n                        hiddenProps[key].push(id);\n                    }\n                }\n                else {\n                    hiddenProps[key].push(id);\n                }\n                /* eslint-enable */\n            }\n        }\n    };\n    Ribbon.prototype.updateItemsSimplifiedWidth = function (tabIndex, key) {\n        var hiddenProps = this.hiddenElements[parseInt(tabIndex.toString(), 10)];\n        /* eslint-disable */\n        if (hiddenProps && hiddenProps[key] && hiddenProps[key].length) {\n            var _loop_6 = function (i) {\n                var contentEle = this_6.tabObj.items[tabIndex].content;\n                var hiddenEle;\n                var groupEle = void 0;\n                var isGroupHidden = false;\n                var widthDifference = 0;\n                if (key === 'hideGroup' || key === 'showGroup') {\n                    hiddenEle = contentEle.querySelector('#' + hiddenProps[key][i]);\n                }\n                else {\n                    hiddenEle = contentEle.querySelector('#' + hiddenProps[key][i] + constants.CONTAINER_ID);\n                }\n                if (hiddenEle) {\n                    if (key === 'hideGroup' || key === 'hideItem') {\n                        var isHidden = false;\n                        if (hiddenEle.classList.contains('e-hidden')) {\n                            isHidden = true;\n                            hiddenEle.classList.remove('e-hidden');\n                        }\n                        if (key === 'hideItem') {\n                            groupEle = hiddenEle.closest('.e-ribbon-group');\n                            if (groupEle.classList.contains('e-hide-group')) {\n                                isGroupHidden = true;\n                                widthDifference = this_6.checkWidthDifference(hiddenEle, groupEle);\n                            }\n                        }\n                        this_6.calculateOverflowItemsWidth(hiddenEle.offsetWidth + widthDifference, true, tabIndex);\n                        this_6.calculateMediumDataWidth(hiddenEle.offsetWidth + widthDifference, tabIndex, true);\n                        if (isHidden) {\n                            hiddenEle.classList.add('e-hidden');\n                        }\n                    }\n                    else {\n                        if (key === 'showItem') {\n                            groupEle = hiddenEle.closest('.e-ribbon-group');\n                            if (groupEle.classList.contains('e-hide-group')) {\n                                isGroupHidden = true;\n                                groupEle.classList.remove('e-hide-group');\n                                groupEle.classList.remove('e-ribbon-emptyCollection');\n                                widthDifference = Math.abs(hiddenEle.offsetWidth - groupEle.offsetWidth);\n                                if (this_6.hiddenGroups.indexOf(groupEle.id) !== -1) {\n                                    this_6.hiddenGroups.splice(this_6.hiddenGroups.indexOf(groupEle.id), 1);\n                                }\n                            }\n                            else {\n                                if (this_6.hiddenGroups.indexOf(groupEle.id) !== -1) {\n                                    var hiddenItems = groupEle.querySelectorAll('.e-ribbon-item:not(.e-hidden)');\n                                    hiddenItems.forEach(function (item) {\n                                        if (item.id !== hiddenEle.id) {\n                                            item.classList.add('e-hidden');\n                                        }\n                                    });\n                                    widthDifference = Math.abs(hiddenEle.offsetWidth - groupEle.offsetWidth);\n                                    hiddenItems.forEach(function (item) {\n                                        if (item.id !== hiddenEle.id) {\n                                            item.classList.remove('e-hidden');\n                                        }\n                                    });\n                                    this_6.hiddenGroups.splice(this_6.hiddenGroups.indexOf(groupEle.id), 1);\n                                }\n                            }\n                        }\n                        this_6.calculateOverflowItemsWidth(hiddenEle.offsetWidth + widthDifference, false, tabIndex);\n                        this_6.calculateMediumDataWidth(hiddenEle.offsetWidth + widthDifference, tabIndex, false);\n                    }\n                    if (isGroupHidden) {\n                        groupEle.classList.add('e-hide-group');\n                        groupEle.classList.add('e-ribbon-emptyCollection');\n                    }\n                }\n                var index = hiddenProps[key].indexOf(hiddenProps[key][i]);\n                if (index !== -1) {\n                    hiddenProps[key].splice(index, 1);\n                    i--;\n                }\n                out_i_1 = i;\n            };\n            var this_6 = this, out_i_1;\n            for (var i = 0; i < hiddenProps[key].length; i++) {\n                _loop_6(i);\n                i = out_i_1;\n            }\n        }\n    };\n    Ribbon.prototype.checkWidthDifference = function (hiddenEle, groupEle) {\n        var widthDifference = 0;\n        groupEle.classList.remove('e-hide-group');\n        groupEle.classList.remove('e-ribbon-emptyCollection');\n        if (this.hiddenGroups.length) {\n            if (this.hiddenGroups.indexOf(groupEle.id) === -1) {\n                this.hiddenGroups.push(groupEle.id);\n                widthDifference = Math.abs(hiddenEle.offsetWidth - groupEle.offsetWidth);\n            }\n        }\n        else {\n            this.hiddenGroups.push(groupEle.id);\n            widthDifference = Math.abs(hiddenEle.offsetWidth - groupEle.offsetWidth);\n        }\n        return widthDifference;\n    };\n    Ribbon.prototype.calculateHiddenElementsWidth = function (tabIndex) {\n        if (tabIndex === this.selectedTab && this.activeLayout === 'Simplified') {\n            var hiddenProps = this.hiddenElements[parseInt(tabIndex.toString(), 10)];\n            if (hiddenProps) {\n                for (var i = 0; i < Object.keys(hiddenProps).length; i++) {\n                    this.updateItemsSimplifiedWidth(tabIndex, Object.keys(hiddenProps)[parseInt(i.toString(), 10)]);\n                }\n            }\n        }\n    };\n    Ribbon.prototype.calculateMediumDataWidth = function (hiddenWidth, tabIndex, isHidden) {\n        if (this.selectedTab === tabIndex && this.activeLayout === 'Simplified') {\n            var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.CONTENT_ID);\n            var mediumDataItems = Array.prototype.slice.call(activeContent.querySelectorAll('.e-ribbon-item'));\n            if (this.overflowDDB) {\n                var overflowEle = this.overflowDDB.target;\n                var overflowItems = overflowEle.querySelectorAll('.e-ribbon-item');\n                var selectedOFTab = document.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                for (var i = 0; i < overflowItems.length; i++) {\n                    var ofTab = overflowItems[parseInt(i.toString(), 10)].closest('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (selectedOFTab && ofTab && selectedOFTab.id === ofTab.id && overflowItems[parseInt(i.toString(), 10)].hasAttribute('data-medium-width')) {\n                        mediumDataItems.push(overflowItems[parseInt(i.toString(), 10)]);\n                    }\n                }\n            }\n            var groupOFButton = activeContent.querySelectorAll('.e-ribbon-group-of-btn');\n            for (var i = 0; i < groupOFButton.length; i++) {\n                var overflowButton = getInstance(groupOFButton[parseInt(i.toString(), 10)], DropDownButton);\n                var overflowBtnTarget = overflowButton.target;\n                var overflowItems = overflowBtnTarget.querySelectorAll('.e-ribbon-item');\n                for (var i_10 = 0; i_10 < overflowItems.length; i_10++) {\n                    if (overflowItems[parseInt(i_10.toString(), 10)].hasAttribute('data-medium-width')) {\n                        mediumDataItems.push(overflowItems[parseInt(i_10.toString(), 10)]);\n                    }\n                }\n            }\n            for (var i = 0; i < mediumDataItems.length; i++) {\n                if (mediumDataItems[parseInt(i.toString(), 10)].hasAttribute('data-medium-width')) {\n                    var previousWidth = parseInt(mediumDataItems[parseInt(i.toString(), 10)].getAttribute('data-medium-width'), 10);\n                    mediumDataItems[parseInt(i.toString(), 10)].setAttribute('data-medium-width', isHidden ? (previousWidth - hiddenWidth).toString() : (previousWidth + hiddenWidth).toString());\n                }\n            }\n        }\n    };\n    Ribbon.prototype.calculateOverflowItemsWidth = function (hiddenItem, isHidden, tabIndex) {\n        if (this.selectedTab === tabIndex && this.activeLayout === 'Simplified') {\n            var groupList = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n            for (var i = 0; i < groupList.length; i++) {\n                var group = groupList[parseInt(i.toString(), 10)];\n                if (group.enableGroupOverflow) {\n                    var groupContainer = document.querySelector('#' + group.id);\n                    var overflowButton = void 0;\n                    var overflowDDB = groupContainer.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                    if (overflowDDB) {\n                        overflowButton = getInstance(overflowDDB, DropDownButton);\n                    }\n                    if (overflowButton) {\n                        var overflowEle = overflowButton.target;\n                        var overflowItems = overflowEle.querySelectorAll('.e-ribbon-item');\n                        for (var i_11 = 0; i_11 < overflowItems.length; i_11++) {\n                            var previousWidth = parseInt(overflowItems[parseInt(i_11.toString(), 10)].getAttribute('data-simplified-width'), 10);\n                            if (previousWidth) {\n                                overflowItems[parseInt(i_11.toString(), 10)].setAttribute('data-simplified-width', isHidden ? (previousWidth - hiddenItem).toString() : (previousWidth + hiddenItem).toString());\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (this.overflowDDB) {\n            var selectedOFTab = document.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n            var overflowEle = this.overflowDDB.target;\n            var overflowItems = overflowEle.querySelectorAll('.e-ribbon-item');\n            for (var i = 0; i < overflowItems.length; i++) {\n                var ofTab = overflowItems[parseInt(i.toString(), 10)].closest('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (selectedOFTab && ofTab && selectedOFTab.id === ofTab.id) {\n                    var previousWidth = parseInt(overflowItems[parseInt(i.toString(), 10)].getAttribute('data-simplified-width'), 10);\n                    if (previousWidth) {\n                        overflowItems[parseInt(i.toString(), 10)].setAttribute('data-simplified-width', isHidden ? (previousWidth - hiddenItem).toString() : (previousWidth + hiddenItem).toString());\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Disables a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be disabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableGroup = function (groupID) {\n        this.enableDisableGroup(groupID, true);\n    };\n    /**\n     * Enables a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be enabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableGroup = function (groupID) {\n        this.enableDisableGroup(groupID, false);\n    };\n    Ribbon.prototype.enableDisableGroup = function (groupID, isDisabled) {\n        var overflowDDB;\n        var overflowtarget;\n        var itemProp = getGroup(this.tabs, groupID);\n        if (!itemProp) {\n            return;\n        }\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupID);\n        if (groupEle) {\n            isDisabled ? groupEle.classList.add('e-disabled') : groupEle.classList.remove('e-disabled');\n        }\n        else {\n            this.updateInitialProps(itemProp.tabIndex, groupID, 'disabledGroups', isDisabled);\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n            if (itemProp.group.enableGroupOverflow) {\n                var overflowDDBEle = contentEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n                if (overflowtarget) {\n                    isDisabled ? overflowtarget.classList.add('e-disabled') : overflowtarget.classList.remove('e-disabled');\n                }\n            }\n            else if (ofTabContainer) {\n                var grpContainer = ofTabContainer.querySelector('#' + groupID + constants.CONTAINER_ID);\n                if (grpContainer) {\n                    isDisabled ? grpContainer.classList.add('e-disabled') : grpContainer.classList.remove('e-disabled');\n                }\n            }\n        }\n    };\n    /**\n     * adds the ribbon collection.\n     *\n     * @param {string} groupId - Gets the ribbon group ID.\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @param {string} targetId - Gets the ID of the target collection to add the new collection.\n     * @param {boolean} isAfter - Defines whether the collection is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addCollection = function (groupId, collection, targetId, isAfter) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Row') && (itemProp.group.collections.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonCollections = itemProp.group.collections.slice();\n        var index = targetId ? getIndex(ribbonCollections, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonCollections.length : (index + (isAfter ? 1 : 0));\n        ribbonCollections.splice(index, 0, collection);\n        itemProp.group.setProperties({ collections: ribbonCollections }, true);\n        this.checkID([itemProp.group.collections[parseInt(index.toString(), 10)]], 'collection', groupId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var collection_1 = itemProp.group.collections[parseInt(index.toString(), 10)];\n            var element = this.createCollection([collection_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.querySelector('#' + groupId + constants.CONTENT_ID).append(element);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon collection.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeCollection = function (collectionId) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.removeItemElement(contentEle, item, dropdown);\n            }\n            var groupEle = contentEle.querySelector('#' + collectionId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroup = itemProp.group;\n        var ribbonCollections = ribbonGroup.collections.slice();\n        ribbonCollections.splice(itemProp.collectionIndex, 1);\n        ribbonGroup.setProperties({ collections: ribbonCollections }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Adds ribbon item.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {string} targetId - Gets the ID of the target item to add the new item.\n     * @param {boolean} isAfter - Defines whether the item is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addItem = function (collectionId, item, targetId, isAfter) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Column') && (itemProp.collection.items.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonItems = itemProp.collection.items.slice();\n        var index = targetId ? getIndex(ribbonItems, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonItems.length : (index + (isAfter ? 1 : 0));\n        ribbonItems.splice(index, 0, item);\n        itemProp.collection.setProperties({ items: ribbonItems }, true);\n        this.checkID([itemProp.collection.items[parseInt(index.toString(), 10)]], 'item', collectionId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n        if (contentEle.innerHTML !== '') {\n            var item_1 = itemProp.collection.items[parseInt(index.toString(), 10)];\n            var element = this.createItems([item_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.closest('.' + constants.RIBBON_ITEM).insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                if (element) {\n                    contentEle.querySelector('#' + collectionId).append(element);\n                }\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeItem = function (itemId) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            var item = itemProp.item;\n            this.removeItemElement(contentEle, item, dropdown);\n        }\n        var ribbonCollection = itemProp.collection;\n        var ribbonItems = ribbonCollection.items;\n        ribbonItems.splice(itemProp.itemIndex, 1);\n        ribbonCollection.setProperties({ items: ribbonItems }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Hides a specific ribbon item.\n     *\n     * @param {string} itemId - The ID of the item to be hidden.\n     * @returns {void}\n     */\n    Ribbon.prototype.hideItem = function (itemId) {\n        this.showHideItem(itemId, true);\n    };\n    /**\n     * Shows a specific ribbon item.\n     *\n     * @param {string} itemId - The ID of the item to be shown.\n     * @returns {void}\n     */\n    Ribbon.prototype.showItem = function (itemId) {\n        this.showHideItem(itemId, false);\n    };\n    Ribbon.prototype.showHideItem = function (itemId, isHidden) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        var ele;\n        if (itemProp.item.type === 'GroupButton') {\n            ele = getItemElement(this, itemId + constants.RIBBON_GROUP_BUTTON_ID, itemProp);\n        }\n        else {\n            ele = getItemElement(this, itemId, itemProp);\n        }\n        if (ele) {\n            var itemEle = closest(ele, '.e-ribbon-item');\n            this.updateHiddenElements(itemProp.tabIndex, isHidden ? 'hideItem' : 'showItem', itemId, isHidden, itemEle, itemProp.group);\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n        }\n        else {\n            this.updateInitialProps(itemProp.tabIndex, itemId, 'hiddenItems', isHidden);\n        }\n    };\n    Ribbon.prototype.updateInitialProps = function (tabIndex, id, key, isInsert) {\n        var initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n        if (!initialProps) {\n            this.initialPropsData[parseInt(tabIndex.toString(), 10)] = {};\n            initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n        }\n        if (initialProps) {\n            /* eslint-disable */\n            if (!initialProps[key])\n                initialProps[key] = [];\n            var itemIndex = initialProps[key].indexOf(id);\n            if (isInsert) {\n                if (itemIndex === -1)\n                    initialProps[key].push(id);\n            }\n            else {\n                if (itemIndex !== -1)\n                    initialProps[key].splice(itemIndex, 1);\n                initialProps[key].length === 0 && delete initialProps[key];\n                /* eslint-enable */\n                if (Object.keys(initialProps).length === 0) {\n                    delete this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkHiddenItems = function (group, isHidden, tabIndex) {\n        var isItemsHidden = true;\n        var isEmptyCollection;\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        var groupEle = contentEle.querySelector('#' + group.id);\n        if (isHidden) {\n            for (var i = 0; i < group.collections.length; i++) {\n                if (isItemsHidden) {\n                    var collection = group.collections[parseInt(i.toString(), 10)];\n                    for (var j = 0; j < collection.items.length; j++) {\n                        var item = collection.items[parseInt(j.toString(), 10)];\n                        var itemEle = void 0;\n                        if (item.type === 'GroupButton') {\n                            var itemProp = getItem(this.tabs, item.id);\n                            itemEle = getItemElement(this, item.id + constants.RIBBON_GROUP_BUTTON_ID, itemProp);\n                        }\n                        else {\n                            itemEle = getItemElement(this, item.id);\n                        }\n                        var itemContainer = itemEle ? itemEle.closest('.e-ribbon-item') : null;\n                        if (!(itemContainer.classList.contains('e-hidden'))) {\n                            isItemsHidden = false;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (isItemsHidden) {\n                groupEle.classList.add('e-hide-group');\n                this.checkOverflowItems(isHidden, contentEle, group.enableGroupOverflow, tabIndex, group.id);\n            }\n        }\n        else {\n            groupEle.classList.remove('e-hide-group');\n            this.checkOverflowItems(isHidden, contentEle, group.enableGroupOverflow, tabIndex, group.id);\n        }\n        if (this.activeLayout === 'Simplified' && !group.enableGroupOverflow) {\n            var itemsLength = groupEle.querySelectorAll('.' + constants.RIBBON_ITEM);\n            if (itemsLength) {\n                isEmptyCollection = this.checkEmptyCollection(itemsLength);\n                groupEle.classList[isEmptyCollection ? 'add' : 'remove']('e-ribbon-emptyCollection');\n            }\n        }\n    };\n    Ribbon.prototype.checkOverflowItems = function (isHidden, contentEle, isGroupOF, tabIndex, groupID) {\n        var overflowDDB;\n        var overflowtarget;\n        if (isGroupOF) {\n            var overflowDDBEle = contentEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID);\n            if (overflowDDBEle) {\n                overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                overflowtarget = overflowDDB.target;\n            }\n            if (overflowtarget) {\n                isHidden ? overflowtarget.classList.add('e-hide-group') : overflowtarget.classList.remove('e-hide-group');\n            }\n        }\n        else {\n            if (this.overflowDDB) {\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    var grpContainer = ofTabContainer.querySelector('#' + groupID + constants.CONTAINER_ID);\n                    if (grpContainer) {\n                        isHidden ? grpContainer.classList.add('e-hide-group') : grpContainer.classList.remove('e-hide-group');\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * tab - Gets the ribbon tab to be updated. The id of the tab is a required property. Other properties are optional.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateTab = function (tab) {\n        var tabId = tab.id;\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        var tabEle = this.tabObj.element;\n        if (groups && (contentEle.innerHTML !== '')) {\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (tab.cssClass) {\n                if (this.tabs[parseInt(index.toString(), 10)].cssClass) {\n                    contentEle.classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                    tabEle.querySelector('.e-active').classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                }\n            }\n            // Check whether group is passed by the user, and if it is, then remove the old values.\n            if (tab.groups) {\n                for (var _i = 0, groups_3 = groups; _i < groups_3.length; _i++) {\n                    var group = groups_3[_i];\n                    var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                        var collection = _b[_a];\n                        for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                            var item = _d[_c];\n                            var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                            if (item.type === RibbonItemType.GroupButton && this.activeLayout === 'Classic') {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id + constants.RIBBON_GROUP_BUTTON_ID) :\n                                    contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                            }\n                            if (ele) {\n                                this.destroyFunction(item, ele);\n                            }\n                        }\n                    }\n                    if (dropdownElement) {\n                        this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                    }\n                }\n                var groupElements = contentEle.querySelectorAll('.e-ribbon-group');\n                // eslint-disable-next-line @typescript-eslint/tslint/config\n                groupElements.forEach(function (groupEle) { groupEle.remove(); });\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        var ribbonTab = this.tabs[parseInt(index.toString(), 10)];\n        ribbonTab.setProperties(tab, true);\n        this.setProperties({ groups: this.checkID(ribbonTab.groups, 'group', ribbonTab.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML === '') {\n            // Check whether group is passed by the user and sets the updated values.\n            if (tab.groups) {\n                var elements = this.createGroups(ribbonTab.groups, index);\n                append(elements, contentEle);\n            }\n            if (this.selectedTab === index) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (tab.cssClass) {\n                contentEle.classList.add(ribbonTab.cssClass);\n                tabEle.querySelector('.e-active').classList.add(ribbonTab.cssClass);\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (tab.header) {\n                tabEle.querySelector('#' + tabId + constants.HEADER_ID).innerText = ribbonTab.header;\n            }\n        }\n    };\n    /**\n     * group - Gets the ribbon group to be updated. The id of the group is a required property. Other properties are optional.\n     *\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateGroup = function (group) {\n        var groupId = group.id;\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupId);\n        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n        var dropdownElement;\n        var dropdown;\n        if (contentEle.innerHTML !== '') {\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (group.cssClass) {\n                if (itemProp.group.cssClass) {\n                    groupEle.classList.remove(itemProp.group.cssClass);\n                    if (groupContainer) {\n                        groupContainer.classList.remove(itemProp.group.cssClass);\n                    }\n                }\n            }\n            // Check whether collections or orientation is passed by the user, and if it is, then remove the old values.\n            if (group.collections || group.orientation) {\n                if (itemProp.group.collections || itemProp.group.orientation) {\n                    for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                        var collection = _a[_i];\n                        for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                            var item = _c[_b];\n                            this.removeItemElement(contentEle, item, dropdown);\n                        }\n                    }\n                    var collectionElements = groupEle.querySelectorAll('.e-ribbon-collection');\n                    // eslint-disable-next-line @typescript-eslint/tslint/config\n                    collectionElements.forEach(function (collectionEle) { collectionEle.remove(); });\n                    if (group.orientation) {\n                        var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                        var removeCss = groupContent.classList.value.match(/(e-ribbon-[column|row]+)/g);\n                        if (removeCss) {\n                            removeClass([groupContent], removeCss);\n                        }\n                    }\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0 || (dropdown.target.childElementCount === 1 && this.isHeaderVisible(dropdown.target, itemProp.group.id))) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n        }\n        var ribbongroup = itemProp.group;\n        ribbongroup.setProperties(group, true);\n        ribbongroup.setProperties({ collections: this.checkID(ribbongroup.collections, 'collection', ribbongroup.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            // Check whether showLauncherIcon or orientation is passed by the user and sets the updated values.\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(ribbongroup.id, groupContainer, itemProp.tabIndex);\n            }\n            // Check whether collections or orientation is passed by the user and sets the updated values.\n            if (group.collections || group.orientation) {\n                var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                groupContent.classList.add(((ribbongroup.orientation === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n                var elements = this.createCollection(ribbongroup.collections, ribbongroup.orientation, ribbongroup.id, ribbongroup.header, ribbongroup.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, groupContent);\n            }\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (group.cssClass) {\n                groupEle.classList.add(ribbongroup.cssClass);\n                if (groupContainer) {\n                    groupContainer.classList.add(ribbongroup.cssClass);\n                }\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (group.header) {\n                if (this.activeLayout === RibbonLayout.Simplified && !group.enableGroupOverflow) {\n                    var overflowHeader = dropdown.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && !ribbongroup.isCollapsed) {\n                    groupEle.querySelector('.e-ribbon-group-header').innerText = ribbongroup.header;\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && ribbongroup.isCollapsed) {\n                    var overflowEle = groupEle.querySelector('#' + ribbongroup.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                    // need to set instance for dropdown\n                    var dropDownBtn = getInstance(overflowEle, DropDownButton);\n                    var overflowHeader = dropDownBtn.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * collection - Gets the ribbon collection to be updated. The id of the collection is a required property. Other properties are optional.\n     *\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateCollection = function (collection) {\n        var collectionId = collection.id;\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var collectionEle = contentEle.querySelector('#' + collectionId);\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (collection.cssClass) {\n                if (itemProp.collection.cssClass) {\n                    collectionEle.classList.remove(itemProp.collection.cssClass);\n                }\n            }\n            if (collection.items) {\n                if (itemProp.collection.items) {\n                    for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                        var item = _a[_i];\n                        this.removeItemElement(contentEle, item, dropdown);\n                    }\n                }\n            }\n        }\n        var ribboncollection = itemProp.collection;\n        ribboncollection.setProperties(collection, true);\n        ribboncollection.setProperties({ items: this.checkID(ribboncollection.items, 'item', ribboncollection.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            if (collection.items) {\n                var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                var elements = this.createItems(ribboncollection.items, itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, collectionEle);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n        // Check whether cssClass is passed by the user and sets the updated values.\n        if (collection.cssClass) {\n            collectionEle.classList.add(ribboncollection.cssClass);\n        }\n    };\n    /**\n     * item - Gets the ribbon item to be updated. The id of the item is a required property. Other properties are optional.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateItem = function (item) {\n        var itemId = item.id;\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + itemProp.group.id);\n        if (groupEle) {\n            var groupContainer = groupEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n            var itemContainer = null;\n            var itemEle = null;\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (contentEle.innerHTML !== '') {\n                if (this.activeLayout === RibbonLayout.Simplified) {\n                    dropdownElement = itemProp.group.enableGroupOverflow ?\n                        contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                    dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                }\n                if (this.activeLayout === RibbonLayout.Simplified && itemProp.item.displayOptions === DisplayMode.Overflow) {\n                    itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n                    itemEle = dropdown.target.querySelector('#' + itemId);\n                    if (item.displayOptions && item.displayOptions !== DisplayMode.Overflow) {\n                        var collectionEle = groupContainer.querySelector('#' + itemProp.collection.id);\n                        if (collectionEle) {\n                            collectionEle.appendChild(itemContainer);\n                        }\n                    }\n                }\n                else {\n                    itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n                    itemEle = contentEle.querySelector('#' + itemId);\n                    if (itemProp.item.type === 'GroupButton' && this.activeLayout === RibbonLayout.Classic) {\n                        itemEle = contentEle.querySelector('#' + itemId + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    if (this.activeLayout === RibbonLayout.Simplified && item.displayOptions === DisplayMode.Overflow) {\n                        this.createOverflowPopup(itemProp.item, itemProp.tabIndex, itemProp.group.enableGroupOverflow, itemProp.group.id, itemProp.group.header, itemContainer, groupContainer);\n                        if ((itemProp.item.type === RibbonItemType.DropDown) || (itemProp.item.type === RibbonItemType.SplitButton) ||\n                            (item.type === RibbonItemType.GroupButton) || (item.type === RibbonItemType.Gallery)) {\n                            this.updatePopupItems(itemProp.item, itemContainer, itemProp.group.enableGroupOverflow, true);\n                        }\n                    }\n                }\n                // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n                if (item.cssClass) {\n                    if (itemProp.item.cssClass) {\n                        itemContainer.classList.remove(itemProp.item.cssClass);\n                    }\n                }\n                this.destroyFunction(itemProp.item, itemEle);\n                itemEle.remove();\n                var removeCss = itemContainer.classList.value.match(/(e-ribbon-[large|medium|small]+-item)/g);\n                if (removeCss) {\n                    removeClass([itemContainer], removeCss);\n                }\n            }\n            var ribbonItem = itemProp.item;\n            ribbonItem.setProperties(item, true);\n            this.validateItemSize();\n            if (contentEle.innerHTML !== '') {\n                if (!(this.activeLayout === RibbonLayout.Simplified && ribbonItem.displayOptions === DisplayMode.Overflow)) {\n                    itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n                }\n                else {\n                    itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n                }\n                // To avoid undefined items condition is added\n                if (ribbonItem.ribbonTooltipSettings && isTooltipPresent(ribbonItem.ribbonTooltipSettings)) {\n                    itemContainer.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                    this.tooltipData.push({ id: itemContainer.id, data: ribbonItem.ribbonTooltipSettings });\n                }\n                var size = ribbonItem.activeSize;\n                if (this.activeLayout === 'Simplified') {\n                    size = ((ribbonItem.allowedSizes === RibbonItemSize.Large) || (ribbonItem.allowedSizes & RibbonItemSize.Medium) ||\n                        (ribbonItem.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                    ribbonItem.setProperties({ activeSize: size }, true);\n                }\n                if (size & RibbonItemSize.Large) {\n                    itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n                }\n                else {\n                    if (size & RibbonItemSize.Medium) {\n                        itemContainer.classList.add(constants.RIBBON_MEDIUM_ITEM);\n                    }\n                    else {\n                        itemContainer.classList.add(constants.RIBBON_SMALL_ITEM);\n                    }\n                }\n                this.createRibbonItem(ribbonItem, itemContainer);\n                if (this.activeLayout === 'Simplified' && itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0 ||\n                        (dropdown.target.childElementCount === 1 &&\n                            this.isHeaderVisible(dropdown.target, itemProp.group.id))) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                if (this.selectedTab === itemProp.tabIndex) {\n                    this.refreshLayout();\n                }\n                if (item.cssClass) {\n                    itemContainer.classList.add(ribbonItem.cssClass);\n                }\n                if (!(ribbonItem.disabled) && itemContainer.classList.contains(constants.DISABLED_CSS)) {\n                    itemContainer.classList.remove(constants.DISABLED_CSS);\n                }\n                this.enableDisableItem(ribbonItem.id, ribbonItem.disabled);\n            }\n        }\n        else {\n            this.isUpdateItems = true;\n            this.itemsModel.push(item);\n            this.targetTabs[item.id] = itemProp.tabIndex;\n        }\n    };\n    Ribbon.prototype.removeItemElement = function (contentEle, item, dropdown) {\n        var ele = null;\n        if (this.activeLayout === RibbonLayout.Classic) {\n            ele = (item.displayOptions & DisplayMode.Classic) ? contentEle.querySelector('#' + item.id) : null;\n            if (item.type === 'GroupButton') {\n                ele = (item.displayOptions & DisplayMode.Classic) ? contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID) : null;\n            }\n        }\n        else {\n            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n            ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n            if (!ele) {\n                ele = dropdown.target.querySelector('#' + item.id);\n            }\n        }\n        if (ele) {\n            this.destroyFunction(item, ele);\n            if (item.type === 'GroupButton' && this.activeLayout === RibbonLayout.Simplified) {\n                document.getElementById(item.id + constants.CONTAINER_ID).remove();\n            }\n            else {\n                ele.closest('#' + item.id + constants.CONTAINER_ID).remove();\n            }\n        }\n    };\n    /**\n     * Enables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableItem = function (itemId) {\n        this.enableDisableItem(itemId, false);\n    };\n    /**\n     * Disables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableItem = function (itemId) {\n        this.enableDisableItem(itemId, true);\n    };\n    /**\n     * Gets the Ribbon item model associated with the specified item ID.\n     *\n     * @param {string} itemId - The unique ID of the Ribbon item.\n     * @returns {RibbonItemModel}\n     */\n    Ribbon.prototype.getItem = function (itemId) {\n        return getItem(this.tabs, itemId).item;\n    };\n    Ribbon.prototype.enableDisableItem = function (itemId, isDisabled) {\n        var isUpdated = false;\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        itemProp.item.setProperties({ disabled: isDisabled }, true);\n        var ele;\n        if (itemProp.item.type === 'GroupButton') {\n            ele = getItemElement(this, itemId + constants.RIBBON_GROUP_BUTTON_ID, itemProp);\n        }\n        else {\n            ele = getItemElement(this, itemId, itemProp);\n        }\n        if (ele) {\n            var itemEle = closest(ele, '.e-ribbon-item');\n            var moduleName = this.getItemModuleName(itemProp.item);\n            isUpdated = isDisabled ? !itemEle.classList.contains(constants.DISABLED_CSS) : itemEle.classList.contains(constants.DISABLED_CSS);\n            if (moduleName !== 'template') {\n                if (isUpdated) {\n                    if (moduleName === 'group-btn' && this.activeLayout === 'Simplified') {\n                        updateControlDisabled(ele, 'dropdown-btn', isDisabled);\n                        for (var i = 0; i < itemProp.item.groupButtonSettings.items.length; i++) {\n                            var btnEle = document.querySelector('#' + itemId + constants.RIBBON_GROUP_BUTTON_ID + i);\n                            updateControlDisabled(btnEle, 'btn', isDisabled);\n                        }\n                    }\n                    else if (moduleName === 'group-btn' && this.activeLayout === 'Classic') {\n                        for (var i = 0; i < itemProp.item.groupButtonSettings.items.length; i++) {\n                            var btnEle = ele.querySelector('#' + itemId + constants.RIBBON_GROUP_BUTTON_ID + i);\n                            updateControlDisabled(btnEle, 'btn', isDisabled);\n                        }\n                    }\n                    else {\n                        updateControlDisabled(ele, moduleName, isDisabled);\n                    }\n                }\n            }\n            else {\n                ele.classList.toggle(constants.DISABLED_CSS, isDisabled);\n                ele.toggleAttribute('disabled', isDisabled);\n            }\n            itemEle.classList.toggle(constants.DISABLED_CSS, itemProp.item.disabled);\n        }\n    };\n    Ribbon.prototype.unwireEvents = function () {\n        EventHandler.remove(window, 'resize', this.resizeHandler);\n        EventHandler.remove(document.body, 'keydown', this.keytipActionHandler);\n        EventHandler.remove(document, 'mousedown', this.mouseEventHandler);\n        EventHandler.remove(document, 'scroll', this.mouseEventHandler);\n    };\n    Ribbon.prototype.destroy = function () {\n        this.keyboardModuleRibbon.destroy();\n        this.keyboardModuleRibbon = null;\n        destroyTooltip(this.element);\n        if (this.refreshing) {\n            this.clearOverflowDropDown(this.selectedTab);\n        }\n        this.destroyTabItems(this.tabs);\n        if (!this.hideLayoutSwitcher) {\n            this.removeExpandCollapse();\n        }\n        this.collapseButton = undefined;\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n        if (this.ribbonTempEle) {\n            remove(this.ribbonTempEle);\n            this.ribbonTempEle = null;\n        }\n        _super.prototype.destroy.call(this);\n        this.tabObj.destroy();\n        this.tabObj = undefined;\n        this.initialPropsData = {};\n        this.hiddenGroups = [];\n        this.hiddenElements = {};\n        this.keyTipElements = {};\n        this.itemsModel = [];\n        this.targetTabs = {};\n        remove(this.element.querySelector('#' + this.element.id + constants.TAB_ID));\n        this.element.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.element.style.removeProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH);\n        this.element.style.removeProperty('width');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(constants.SPACE));\n        }\n        this.element.classList.remove(constants.RTL_CSS, constants.RIBBON_SIMPLIFIED_MODE, constants.RIBBON_OVERFLOW, constants.RIBBON_COLLAPSIBLE, constants.RIBBON_MINIMIZE, 'e-rbn');\n        this.unwireEvents();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {RibbonModel} newProp - Specifies new properties\n     * @param  {RibbonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _a, _b;\n        for (var _i = 0, _c = Object.keys(newProp); _i < _c.length; _i++) {\n            var prop = _c[_i];\n            switch (prop) {\n                case 'activeLayout':\n                    this.switchLayout();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        (_a = this.element.classList).remove.apply(_a, oldProp.cssClass.split(constants.SPACE));\n                    }\n                    if (newProp.cssClass) {\n                        (_b = this.element.classList).add.apply(_b, newProp.cssClass.split(constants.SPACE));\n                    }\n                    break;\n                case 'isMinimized':\n                    this.element.classList.toggle(constants.RIBBON_MINIMIZE, this.isMinimized);\n                    this.tabObj.element.querySelector('.e-content').style.display = this.isMinimized ? 'none' : 'block';\n                    if (!this.isMinimized) {\n                        this.refreshLayout();\n                    }\n                    break;\n                case 'locale':\n                    this.updateCommonProperty({ locale: this.locale });\n                    break;\n                case 'enablePersistence':\n                    this.updateCommonProperty({ enablePersistence: this.enablePersistence });\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle(constants.RTL_CSS, this.enableRtl);\n                    this.updateCommonProperty({ enableRtl: newProp.enableRtl });\n                    if (this.scrollModule) {\n                        this.scrollModule.setProperties({ enableRtl: newProp.enableRtl });\n                    }\n                    break;\n                case 'launcherIconCss':\n                    for (var i = 0; i < this.tabs.length; i++) {\n                        var tabContent = this.tabObj.items[parseInt(i.toString(), 10)].content;\n                        var tab = this.tabs[parseInt(i.toString(), 10)];\n                        if (tabContent.querySelector('.' + constants.RIBBON_GROUP)) {\n                            for (var _d = 0, _e = tab.groups; _d < _e.length; _d++) {\n                                var group = _e[_d];\n                                if (group.showLauncherIcon) {\n                                    var className = constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss || constants.RIBBON_LAUNCHER_ICON);\n                                    if (group.isCollapsed) {\n                                        var element = tabContent.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                                        var dropdown = getComponent(element, DropDownButton);\n                                        var launcherIconEle = dropdown.target.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        launcherIconEle.className = className;\n                                    }\n                                    else {\n                                        var element = tabContent.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        element.className = className;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'selectedTab':\n                    var tabEle = this.tabObj.element;\n                    var toolbarItem = tabEle.querySelectorAll('.e-toolbar-item')[parseInt(newProp.selectedTab.toString(), 10)];\n                    if (!(toolbarItem.classList.contains('e-hidden') || toolbarItem.classList.contains('e-disable'))) {\n                        this.tabObj.setProperties({ selectedItem: newProp.selectedTab });\n                    }\n                    break;\n                case 'tabAnimation':\n                    this.tabObj.setProperties({ animation: newProp.tabAnimation });\n                    break;\n                case 'tabs':\n                    this.reRenderTabs(newProp.tabs);\n                    break;\n                case 'contextualTabs':\n                    for (var i = 0; i < this.contextualTabs.length; i++) {\n                        if (newProp.contextualTabs[parseInt(i.toString(), 10)]) {\n                            this.ribbonContextualTabModule.updateContextualTabs(newProp.contextualTabs[parseInt(i.toString(), 10)], this.contextualTabs[parseInt(i.toString(), 10)]);\n                        }\n                    }\n                    break;\n                case 'width':\n                    this.element.style.width = formatUnit(newProp.width);\n                    this.refreshLayout();\n                    break;\n                case 'fileMenu':\n                    if (this.ribbonFileMenuModule) {\n                        this.ribbonFileMenuModule.updateFileMenu(this.fileMenu);\n                    }\n                    var toolbarEle = this.tabObj['tbObj'];\n                    toolbarEle.refreshOverflow();\n                    break;\n                case 'backStageMenu':\n                    if (this.ribbonBackstageModule) {\n                        this.ribbonBackstageModule.updateBackStageMenu(this.backStageMenu);\n                    }\n                    var toolbarElement = this.tabObj['tbObj'];\n                    toolbarElement.refreshOverflow();\n                    break;\n                case 'helpPaneTemplate':\n                    if (this.ribbonTempEle) {\n                        remove(this.ribbonTempEle);\n                        this.ribbonTempEle = null;\n                        this.tabObj.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n                    }\n                    if (this.helpPaneTemplate) {\n                        this.createHelpPaneTemplate();\n                    }\n                    var toolbar_1 = this.tabObj['tbObj'];\n                    toolbar_1.refreshOverflow();\n                    break;\n                case 'hideLayoutSwitcher':\n                    this.hideLayoutSwitcher ? this.removeExpandCollapse() : this.addExpandCollapse();\n                    break;\n            }\n        }\n    };\n    var Ribbon_1;\n    __decorate([\n        Property('Classic')\n    ], Ribbon.prototype, \"activeLayout\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Ribbon.prototype, \"enableKeyTips\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"layoutSwitcherKeyTip\", void 0);\n    __decorate([\n        Complex({}, FileMenuSettings)\n    ], Ribbon.prototype, \"fileMenu\", void 0);\n    __decorate([\n        Complex({}, BackStageMenu)\n    ], Ribbon.prototype, \"backStageMenu\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"launcherIconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Ribbon.prototype, \"isMinimized\", void 0);\n    __decorate([\n        Property('en-us')\n    ], Ribbon.prototype, \"locale\", void 0);\n    __decorate([\n        Property(0)\n    ], Ribbon.prototype, \"selectedTab\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Ribbon.prototype, \"tabAnimation\", void 0);\n    __decorate([\n        Collection([], RibbonTab)\n    ], Ribbon.prototype, \"tabs\", void 0);\n    __decorate([\n        Collection([], RibbonContextualTabSettings)\n    ], Ribbon.prototype, \"contextualTabs\", void 0);\n    __decorate([\n        Property('100%')\n    ], Ribbon.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"helpPaneTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Ribbon.prototype, \"hideLayoutSwitcher\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelected\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonExpanding\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"launcherIconClick\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"overflowPopupOpen\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"overflowPopupClose\", void 0);\n    Ribbon = Ribbon_1 = __decorate([\n        NotifyPropertyChanges\n    ], Ribbon);\n    return Ribbon;\n}(Component));\nexport { Ribbon };\n","import { EventHandler, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Menu } from '@syncfusion/ej2-navigations';\nimport { getIndex, isTooltipPresent } from '../base/index';\nimport * as constants from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonFileMenu = /** @class */ (function () {\n    function RibbonFileMenu(parent) {\n        this.parent = parent;\n    }\n    RibbonFileMenu.prototype.getModuleName = function () {\n        return 'ribbonFileMenu';\n    };\n    RibbonFileMenu.prototype.destroy = function () {\n        if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent = null;\n    };\n    /**\n     * Creates File Menu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.createFileMenu = function (fileMenuOptions) {\n        var _this = this;\n        if (!fileMenuOptions.visible) {\n            return;\n        }\n        this.ddbElement = this.parent.createElement('button', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_ID\n        });\n        var tabEle = this.parent.tabObj.element;\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        tabEle.insertBefore(this.ddbElement, toolbarEle);\n        this.fileMenuDDB = new DropDownButton({\n            content: fileMenuOptions.text,\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-file-menu e-caret-hide',\n            created: function () {\n                tabEle.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, _this.ddbElement.offsetWidth + 'px');\n            },\n            beforeClose: this.ddbBeforeEvent.bind(this, false),\n            beforeOpen: this.ddbBeforeEvent.bind(this, true),\n            close: this.ddbAfterEvent.bind(this, false),\n            open: this.ddbAfterEvent.bind(this, true)\n        }, this.ddbElement);\n        if (this.parent.fileMenu.popupTemplate) {\n            this.fileMenuDDB.setProperties({ target: this.parent.fileMenu.popupTemplate });\n        }\n        else {\n            this.createRibbonMenu(fileMenuOptions);\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n        this.addFileMenuTooltip(fileMenuOptions);\n        this.addFileMenuKeytip();\n    };\n    RibbonFileMenu.prototype.addFileMenuTooltip = function (fileMenuOptions) {\n        if (isTooltipPresent(fileMenuOptions.ribbonTooltipSettings)) {\n            this.ddbElement.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.push({ id: this.ddbElement.id, data: fileMenuOptions.ribbonTooltipSettings });\n        }\n    };\n    RibbonFileMenu.prototype.addFileMenuKeytip = function () {\n        if (this.parent.fileMenu.keyTip) {\n            this.parent.keyTipElements['filemenu'] = [];\n            this.parent.keyTipElements['filemenu'].push({ id: this.ddbElement.id, type: 'filemenu', keyTip: this.parent.fileMenu.keyTip });\n        }\n    };\n    RibbonFileMenu.prototype.ddbBeforeEvent = function (isOpen, args) {\n        //args.event is null when dropdown button is closed using a method call\n        if (!isOpen && args.event && args.event.target.closest('.e-ribbon-menu')) {\n            args.cancel = true;\n        }\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = { cancel: args.cancel, element: args.element, event: args.event };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.ddbAfterEvent = function (isOpen, args) {\n        var element = isOpen ? this.fileMenuDDB.target : this.fileMenuDDB.element;\n        element.focus();\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element };\n            event.call(this, eventArgs);\n        }\n    };\n    //Clone RibbonMenuItems before assigning to avoid reference issues.\n    RibbonFileMenu.prototype.cloneMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            itemsList.push({\n                iconCss: item.iconCss,\n                id: item.id,\n                separator: item.separator,\n                text: item.text,\n                url: item.url,\n                items: this.cloneMenuItem(item.items)\n            });\n        }\n        return itemsList;\n    };\n    RibbonFileMenu.prototype.createRibbonMenu = function (menuOptions) {\n        var _this = this;\n        var ulElem = this.parent.createElement('ul', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_LIST\n        });\n        this.fileMenuDDB.setProperties({ target: ulElem });\n        this.menuctrl = new Menu({\n            orientation: 'Vertical',\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-menu',\n            animationSettings: menuOptions.animationSettings,\n            items: this.cloneMenuItem(menuOptions.menuItems),\n            showItemOnClick: menuOptions.showItemOnClick,\n            template: menuOptions.itemTemplate,\n            beforeClose: this.menuBeforeEvent.bind(this, false),\n            beforeOpen: this.menuBeforeEvent.bind(this, true),\n            beforeItemRender: this.beforeItemRender.bind(this),\n            onClose: this.menuAfterEvent.bind(this, false),\n            onOpen: this.menuAfterEvent.bind(this, true),\n            select: this.menuSelect.bind(this)\n        }, ulElem);\n        EventHandler.add(ulElem, 'keydown', function (e) {\n            if (e.key === 'Tab') {\n                _this.fileMenuDDB.toggle();\n            }\n        }, this);\n    };\n    RibbonFileMenu.prototype.menuBeforeEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = {\n                cancel: args.cancel, element: args.element, event: args.event,\n                items: args.items, parentItem: args.parentItem\n            };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.menuAfterEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element, items: args.items, parentItem: args.parentItem };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.beforeItemRender = function (args) {\n        var event = this.parent.fileMenu.beforeItemRender;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.menuSelect = function (args) {\n        var event = this.parent.fileMenu.select;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item, event: args.event };\n            event.call(this, eventArgs);\n            if (!args.element.classList.contains('e-menu-caret-icon')) {\n                this.fileMenuDDB.toggle();\n            }\n        }\n    };\n    /**\n     * setRtl\n     *\n     * @param {commonProperties} commonProp - Get the common property of ribbon.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.setCommonProperties = function (commonProp) {\n        if (this.fileMenuDDB) {\n            this.fileMenuDDB.setProperties(commonProp);\n            if (this.menuctrl) {\n                this.menuctrl.setProperties(commonProp);\n            }\n        }\n    };\n    /**\n     * Update FileMenu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.updateFileMenu = function (fileMenuOptions) {\n        if (fileMenuOptions.visible) {\n            if (this.fileMenuDDB) {\n                if (fileMenuOptions.text) {\n                    this.fileMenuDDB.setProperties({\n                        content: fileMenuOptions.text\n                    });\n                    this.parent.tabObj.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, this.ddbElement.offsetWidth + 'px');\n                }\n                if (fileMenuOptions.popupTemplate) {\n                    if (this.menuctrl) {\n                        this.destroyMenu();\n                    }\n                    this.fileMenuDDB.setProperties({ target: fileMenuOptions.popupTemplate });\n                }\n                else {\n                    if (this.menuctrl) {\n                        this.menuctrl.setProperties({\n                            animationSettings: fileMenuOptions.animationSettings,\n                            items: this.cloneMenuItem(fileMenuOptions.menuItems),\n                            showItemOnClick: fileMenuOptions.showItemOnClick,\n                            template: fileMenuOptions.itemTemplate\n                        });\n                    }\n                    else {\n                        this.createRibbonMenu(fileMenuOptions);\n                    }\n                }\n                this.removeFileMenuTooltip();\n                this.removeFileMenuKeytip();\n                this.addFileMenuTooltip(fileMenuOptions);\n                this.addFileMenuKeytip();\n            }\n            else {\n                this.createFileMenu(fileMenuOptions);\n            }\n        }\n        else if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n    };\n    RibbonFileMenu.prototype.destroyMenu = function () {\n        if (this.menuctrl) {\n            this.menuctrl.destroy();\n            this.menuctrl = null;\n        }\n    };\n    RibbonFileMenu.prototype.destroyDDB = function () {\n        this.removeFileMenuTooltip();\n        this.removeFileMenuKeytip();\n        var tabEle = this.parent.tabObj.element;\n        tabEle.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.destroyMenu();\n        this.fileMenuDDB.destroy();\n        this.fileMenuDDB = null;\n        remove(this.ddbElement);\n        this.ddbElement = null;\n    };\n    RibbonFileMenu.prototype.removeFileMenuTooltip = function () {\n        var _this = this;\n        var index = getIndex(this.parent.tooltipData, function (e) { return e.id === _this.ddbElement.id; });\n        if (index !== -1) {\n            this.ddbElement.classList.remove(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.splice(index, 1);\n        }\n    };\n    RibbonFileMenu.prototype.removeFileMenuKeytip = function () {\n        var _this = this;\n        if (this.parent.keyTipElements['filemenu']) {\n            var index = getIndex(this.parent.keyTipElements['filemenu'], function (e) { return e.id === _this.ddbElement.id; });\n            if (index !== -1) {\n                this.parent.keyTipElements['filemenu'].splice(index, 1);\n            }\n        }\n    };\n    /**\n     * Add items to FileMenu.\n     *\n     * @param {MenuItemModel[]} items - Gets the items to be added.\n     * @param {string} target - Gets the target item to add the items.\n     * @param {boolean} isAfter - Gets the boolean value to add the items after or before the target item.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.addItems = function (items, target, isAfter, isUniqueId) {\n        if (isAfter) {\n            this.menuctrl.insertAfter(items, target, isUniqueId);\n        }\n        else {\n            this.menuctrl.insertBefore(items, target, isUniqueId);\n        }\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Remove items from FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be removed.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.removeItems = function (items, isUniqueId) {\n        this.menuctrl.removeItems(items, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Enable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be enabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.enableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, true, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Disable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be disabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.disableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, false, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Update items in FileMenu.\n     *\n     * @param {MenuItem} item - Gets the item to be updated.\n     * @param {boolean} id - Gets the id of the item to be updated.\n     * @param {boolean} isUniqueId - Gets whether the id provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.setItem = function (item, id, isUniqueId) {\n        this.menuctrl.setItem(item, id, isUniqueId);\n        this.menuctrl.refresh();\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    return RibbonFileMenu;\n}());\nexport { RibbonFileMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, append, Component, EventHandler } from '@syncfusion/ej2-base';\nimport { Menu } from '@syncfusion/ej2-navigations';\nimport { getIndex } from '../base/index';\nimport { getTemplateFunction, isTooltipPresent } from '../base/utils';\nimport * as constants from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonBackstage = /** @class */ (function (_super) {\n    __extends(RibbonBackstage, _super);\n    function RibbonBackstage(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    /**\n    * @private\n    * @returns {void}\n    */\n    RibbonBackstage.prototype.render = function () {\n        // render code\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.preRender = function () {\n        // pre render code\n    };\n    RibbonBackstage.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * This method is abstract member of the Component<HTMLElement>.\n     *\n     * @private\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.onPropertyChanged = function () {\n        // onProperty changes code\n    };\n    RibbonBackstage.prototype.getModuleName = function () {\n        return 'ribbonBackstage';\n    };\n    RibbonBackstage.prototype.destroy = function () {\n        if (this.backstageButton) {\n            this.destroyDDB();\n        }\n        this.parent = null;\n    };\n    /**\n     * Creates Backstage Menu\n     *\n     * @param {BackStageMenuModel} backStageOptions - Gets the property of backstage.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonBackstage.prototype.createBackStage = function (backStageOptions) {\n        var _this = this;\n        if (!backStageOptions.visible) {\n            return;\n        }\n        this.backstageButtonEle = this.parent.createElement('button', {\n            id: this.parent.element.id + constants.RIBBON_BACKSTAGE_MENU_ID\n        });\n        var tabEle = this.parent.tabObj.element;\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        tabEle.insertBefore(this.backstageButtonEle, toolbarEle);\n        this.backstageButton = new Button({\n            content: backStageOptions.text,\n            enableRtl: this.parent.enableRtl,\n            cssClass: constants.RIBBON_BACKSTAGE,\n            created: function () {\n                tabEle.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, _this.backstageButtonEle.offsetWidth + 'px');\n            }\n        }, this.backstageButtonEle);\n        this.createBackStagePopup(backStageOptions);\n        if (this.parent.backStageMenu.template) {\n            this.createBackStageTemplate(this.parent.backStageMenu.template);\n        }\n        else {\n            var footerItemCount = 0;\n            var itemCount = 0;\n            for (var i = 0; i < backStageOptions.items.length; i++) {\n                var item = backStageOptions.items[parseInt(i.toString(), 10)];\n                if (item.isFooter) {\n                    footerItemCount++;\n                }\n                else {\n                    itemCount++;\n                }\n            }\n            if (itemCount > 0) {\n                this.createBackstageMenu(backStageOptions, false);\n            }\n            if (footerItemCount > 0) {\n                this.createBackstageMenu(backStageOptions, true);\n            }\n            if (this.menuCtrl) {\n                this.checkMenuItems(this.menuCtrl.items);\n            }\n            if (this.footerMenuCtrl) {\n                this.checkMenuItems(this.footerMenuCtrl.items);\n            }\n        }\n        this.backstageButtonEle.onclick = function (e) {\n            e.stopPropagation();\n            _this.showBackstage();\n            _this.popupHTMLElement.classList.add(constants.RIBBON_BACKSTAGE_OPEN);\n            var menuItem = _this.menuWrapper.querySelector('.e-menu-item.e-selected');\n            if (menuItem) {\n                menuItem.classList.remove('e-selected');\n            }\n            for (var i = 0; i < backStageOptions.items.length; i++) {\n                var item = backStageOptions.items[parseInt(i.toString(), 10)];\n                if (!item.isFooter && _this.menuCtrl.items[0].text === item.text) {\n                    var firstMenuEle = _this.popupHTMLElement.querySelector('#' + _this.menuCtrl.items[0].id);\n                    if (firstMenuEle) {\n                        firstMenuEle.classList.add('e-selected');\n                        firstMenuEle.focus();\n                    }\n                    _this.createBackStageContent(_this.menuCtrl.items[0].id, item.content);\n                    break;\n                }\n                else {\n                    continue;\n                }\n            }\n        };\n        this.parent.tabObj.refreshActiveTabBorder();\n        this.addBackStageMenuTooltip(backStageOptions);\n        this.addBackStageMenuKeyTip(backStageOptions);\n        EventHandler.add(document, 'click', this.onClickEvent, this);\n    };\n    RibbonBackstage.prototype.onClickEvent = function (e) {\n        var targetEle = e.target;\n        if (this.popupHTMLElement.contains(targetEle)) {\n            return;\n        }\n        else {\n            this.hideBackstage();\n        }\n    };\n    RibbonBackstage.prototype.addBackStageMenuTooltip = function (backStageOptions) {\n        if (isTooltipPresent(backStageOptions.ribbonTooltipSettings)) {\n            this.backstageButtonEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.push({ id: this.backstageButtonEle.id, data: backStageOptions.ribbonTooltipSettings });\n        }\n    };\n    RibbonBackstage.prototype.addBackStageMenuKeyTip = function (backStageOptions) {\n        if (backStageOptions.keyTip) {\n            if (!(this.parent.keyTipElements['backstage'])) {\n                this.parent.keyTipElements['backstage'] = [];\n            }\n            this.parent.keyTipElements['backstage'].push({ id: this.backstageButtonEle.id, type: 'backstage', keyTip: backStageOptions.keyTip });\n        }\n        if (backStageOptions.items && backStageOptions.items.length) {\n            if (!(this.parent.keyTipElements['backstageMenu'])) {\n                this.parent.keyTipElements['backstageMenu'] = [];\n            }\n            for (var i = 0; i < backStageOptions.items.length; i++) {\n                if (backStageOptions.items[parseInt(i.toString(), 10)].keyTip) {\n                    this.parent.keyTipElements['backstageMenu'].push({ id: backStageOptions.items[parseInt(i.toString(), 10)].id, type: 'backstageMenu', keyTip: backStageOptions.items[parseInt(i.toString(), 10)].keyTip });\n                }\n            }\n        }\n    };\n    RibbonBackstage.prototype.checkMenuItems = function (backStageItems) {\n        for (var i = 0; i < backStageItems.length; i++) {\n            var item = backStageItems[parseInt(i.toString(), 10)];\n            if (!item.iconCss) {\n                var menuItemEle = this.popupHTMLElement.querySelector('#' + item.id);\n                menuItemEle.classList.add(constants.RIBBON_BACKSTAGE_TEXT_MENU);\n            }\n        }\n    };\n    RibbonBackstage.prototype.createBackStagePopup = function (backStageOptions) {\n        var _this = this;\n        this.popupHTMLElement = this.parent.createElement('div', {\n            id: this.parent.element.id + constants.RIBBON_BACKSTAGE_POPUP_ID,\n            className: constants.RIBBON_BACKSTAGE_POPUP\n        });\n        var targetEle;\n        if (backStageOptions.target) {\n            targetEle = backStageOptions.target instanceof HTMLElement ? backStageOptions.target : document.querySelector(backStageOptions.target);\n            targetEle.appendChild(this.popupHTMLElement);\n        }\n        else {\n            this.parent.element.appendChild(this.popupHTMLElement);\n        }\n        this.popupEle = new Popup(this.popupHTMLElement, {\n            height: backStageOptions.height,\n            width: backStageOptions.width,\n            relateTo: backStageOptions.target || this.parent.element,\n            enableRtl: this.parent.enableRtl\n        });\n        if (this.parent.enableRtl) {\n            this.updatePopupPositionOnRtl(this.parent.enableRtl);\n        }\n        this.popupHTMLElement.onkeydown = function (e) { if (e.code === 'Escape') {\n            _this.hideBackstage();\n        } };\n        this.hideBackstage();\n    };\n    RibbonBackstage.prototype.updatePopupPositionOnRtl = function (enableRtl) {\n        var popupStyle = this.popupHTMLElement.style;\n        if (enableRtl) {\n            popupStyle.right = popupStyle.left;\n            popupStyle.left = 'unset';\n        }\n        else {\n            popupStyle.left = popupStyle.right;\n            popupStyle.right = 'unset';\n        }\n    };\n    RibbonBackstage.prototype.createBackstageMenu = function (menuOptions, isFooter) {\n        var _this = this;\n        var wrapperEle = this.popupHTMLElement.querySelector('#' + this.parent.element.id + '_wrapper');\n        if (!wrapperEle) {\n            this.menuWrapper = this.parent.createElement('div', {\n                id: this.parent.element.id + '_wrapper',\n                className: constants.RIBBON_BACKSTAGE_MENU_WRAPPER\n            });\n            this.popupHTMLElement.appendChild(this.menuWrapper);\n        }\n        if (menuOptions.backButton.visible && !isFooter) {\n            var closeBtnEle = this.parent.createElement('button', {\n                id: this.parent.element.id + '_close',\n                className: 'e-ribbon-close-btn'\n            });\n            this.closeBtn = new Button({\n                content: menuOptions.backButton.text,\n                iconCss: menuOptions.backButton.iconCss ? menuOptions.backButton.iconCss : constants.BACKSTAGE_CLOSE_ICON,\n                enableRtl: this.parent.enableRtl\n            }, closeBtnEle);\n            this.menuWrapper.append(closeBtnEle);\n            closeBtnEle.onclick = function () {\n                _this.popupHTMLElement.classList.remove(constants.RIBBON_BACKSTAGE_OPEN);\n                _this.hideBackstage();\n                _this.isBackButtonClicked = true;\n            };\n        }\n        var itemsWrapperEle = this.popupHTMLElement.querySelector('#' + this.parent.element.id + '_itemswrapper');\n        if (!itemsWrapperEle) {\n            this.itemsWrapperEle = this.parent.createElement('div', {\n                id: this.parent.element.id + '_itemswrapper',\n                className: constants.RIBBON_BACKSTAGE_ITEMS_WRAPPER\n            });\n            this.menuWrapper.append(this.itemsWrapperEle);\n        }\n        var ulFooterElem;\n        if (isFooter) {\n            ulFooterElem = this.parent.createElement('ul', {\n                id: this.parent.element.id + constants.RIBBON_FOOTER_MENU_LIST\n            });\n            this.itemsWrapperEle.appendChild(ulFooterElem);\n        }\n        else {\n            this.ulMenuElem = this.parent.createElement('ul', {\n                id: this.parent.element.id + constants.RIBBON_MENU_LIST\n            });\n            this.itemsWrapperEle.appendChild(this.ulMenuElem);\n        }\n        if (!isFooter) {\n            this.menuCtrl = new Menu({\n                orientation: 'Vertical',\n                enableRtl: this.parent.enableRtl,\n                cssClass: constants.RIBBON_BACKSTAGE_MENU,\n                items: this.cloneMenuItem(menuOptions.items),\n                select: this.menuSelect.bind(this, menuOptions)\n            }, this.ulMenuElem);\n        }\n        else {\n            this.footerMenuCtrl = new Menu({\n                orientation: 'Vertical',\n                enableRtl: this.parent.enableRtl,\n                cssClass: constants.RIBBON_BACKSTAGE_MENU,\n                items: this.cloneFooterMenuItem(menuOptions.items),\n                select: this.menuSelect.bind(this, menuOptions)\n            }, ulFooterElem);\n        }\n    };\n    RibbonBackstage.prototype.cloneMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            if (item.isFooter) {\n                continue;\n            }\n            else {\n                itemsList.push({\n                    id: item.id,\n                    iconCss: item.iconCss,\n                    separator: item.separator,\n                    text: item.text\n                });\n            }\n        }\n        return itemsList;\n    };\n    RibbonBackstage.prototype.cloneFooterMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            if (!item.isFooter) {\n                continue;\n            }\n            else {\n                itemsList.push({\n                    id: item.id,\n                    iconCss: item.iconCss,\n                    separator: item.separator,\n                    text: item.text\n                });\n            }\n        }\n        return itemsList;\n    };\n    RibbonBackstage.prototype.createBackStageContent = function (itemId, content) {\n        var templateName = 'backstageContent';\n        this.clearTemplate([templateName]);\n        if (!this.backstageContentEle) {\n            this.backstageContentEle = this.parent.createElement('div', {\n                id: itemId + constants.CONTENT_ID,\n                className: constants.RIBBON_BACKSTAGE_CONTENT\n            });\n        }\n        else {\n            this.backstageContentEle.innerHTML = '';\n            this.backstageContentEle.id = itemId + constants.CONTENT_ID;\n        }\n        var templateFunction = getTemplateFunction(content);\n        append(templateFunction({}, this, templateName, 'backstageContent', this.parent.isStringTemplate), this.backstageContentEle);\n        if (content) {\n            this.popupHTMLElement.append(this.backstageContentEle);\n        }\n        this.renderReactTemplates();\n        return templateFunction;\n    };\n    RibbonBackstage.prototype.createBackStageTemplate = function (template) {\n        var templateName = 'backstageTemplate';\n        this.clearTemplate([templateName]);\n        this.backstageTempEle = this.parent.createElement('div', {\n            id: this.parent.element.id + constants.RIBBON_BACKSTAGE_MENU_ID + '_template',\n            className: constants.RIBBON_BACKSTAGE_TEMPLATE\n        });\n        var templateFunction = getTemplateFunction(template);\n        append(templateFunction({}, this, templateName, 'backstageTemplate', this.parent.isStringTemplate), this.backstageTempEle);\n        this.popupHTMLElement.append(this.backstageTempEle);\n        this.renderReactTemplates();\n        return templateFunction;\n    };\n    RibbonBackstage.prototype.menuSelect = function (menuOptions, args) {\n        for (var i = 0; i < menuOptions.items.length; i++) {\n            var item = menuOptions.items[parseInt(i.toString(), 10)];\n            if (item.text === args.item.text) {\n                this.contentItem = item;\n                break;\n            }\n        }\n        this.createBackStageContent(args.item.id, this.contentItem.content);\n        var eventArgs = { cancel: false, target: args.element, item: this.contentItem, isBackButton: this.isBackButtonClicked };\n        if (this.contentItem.backStageItemClick) {\n            this.contentItem.backStageItemClick.call(this, eventArgs);\n        }\n        if (eventArgs.cancel) {\n            return;\n        }\n    };\n    /**\n     * setRtl\n     *\n     * @param {commonProperties} commonProp - Get the common property of ribbon.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonBackstage.prototype.setCommonProperties = function (commonProp) {\n        if (this.backstageButton) {\n            this.backstageButton.setProperties(commonProp);\n            if (this.popupEle) {\n                this.popupEle.setProperties(commonProp);\n                if (this.popupHTMLElement)\n                    this.updatePopupPositionOnRtl(commonProp.enableRtl);\n                if (this.menuCtrl) {\n                    this.menuCtrl.setProperties(commonProp);\n                    if (this.closeBtn) {\n                        this.closeBtn.setProperties(commonProp);\n                    }\n                }\n                if (this.footerMenuCtrl) {\n                    this.footerMenuCtrl.setProperties(commonProp);\n                }\n            }\n        }\n    };\n    /**\n     * Update Backstage menu\n     *\n     * @param {BackStageMenuModel} backStageOptions - Gets the property of backstage menu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonBackstage.prototype.updateBackStageMenu = function (backStageOptions) {\n        if (backStageOptions.visible) {\n            if (this.backstageButton) {\n                if (backStageOptions.text) {\n                    this.backstageButton.setProperties({\n                        content: backStageOptions.text\n                    });\n                    this.parent.tabObj.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, this.backstageButtonEle.offsetWidth + 'px');\n                }\n                if (this.popupEle) {\n                    this.popupEle.setProperties({\n                        height: backStageOptions.height,\n                        width: backStageOptions.width,\n                        target: backStageOptions.target || this.parent.element,\n                    });\n                }\n                if (backStageOptions.template) {\n                    if (this.backstageTempEle) {\n                        remove(this.backstageTempEle);\n                        this.backstageTempEle = null;\n                    }\n                    this.createBackStageTemplate(backStageOptions.template);\n                }\n                else {\n                    if (this.menuCtrl) {\n                        this.menuCtrl.setProperties({\n                            items: this.cloneMenuItem(backStageOptions.items)\n                        });\n                    }\n                    if (this.footerMenuCtrl) {\n                        this.footerMenuCtrl.setProperties({\n                            items: this.cloneFooterMenuItem(backStageOptions.items)\n                        });\n                    }\n                    else {\n                        var footerItemCount = 0;\n                        var itemCount = 0;\n                        for (var i = 0; i < backStageOptions.items.length; i++) {\n                            var item = backStageOptions.items[parseInt(i.toString(), 10)];\n                            if (item.isFooter) {\n                                footerItemCount++;\n                            }\n                            else {\n                                itemCount++;\n                            }\n                        }\n                        if (itemCount > 0) {\n                            this.createBackstageMenu(backStageOptions, false);\n                        }\n                        if (footerItemCount > 0) {\n                            this.createBackstageMenu(backStageOptions, true);\n                        }\n                    }\n                }\n                this.removeBackstageMenuTooltip();\n                this.removeBackstageMenuKeyTip();\n                this.addBackStageMenuTooltip(backStageOptions);\n                this.addBackStageMenuKeyTip(backStageOptions);\n            }\n            else {\n                this.createBackStage(backStageOptions);\n            }\n        }\n        else if (this.backstageButton) {\n            this.destroyDDB();\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n    };\n    RibbonBackstage.prototype.destroyMenu = function () {\n        if (this.menuCtrl) {\n            this.menuCtrl.destroy();\n            this.menuCtrl = null;\n        }\n    };\n    RibbonBackstage.prototype.destroyDDB = function () {\n        this.removeBackstageMenuTooltip();\n        this.removeBackstageMenuKeyTip();\n        var tabEle = this.parent.tabObj.element;\n        tabEle.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.destroyMenu();\n        this.backstageButton.destroy();\n        this.backstageButton = null;\n        remove(this.backstageButtonEle);\n        this.backstageButtonEle = null;\n        EventHandler.remove(document, 'click', this.onClickEvent);\n    };\n    RibbonBackstage.prototype.removeBackstageMenuTooltip = function () {\n        var _this = this;\n        var index = getIndex(this.parent.tooltipData, function (e) { return e.id === _this.backstageButtonEle.id; });\n        if (index !== -1) {\n            this.backstageButtonEle.classList.remove(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.splice(index, 1);\n        }\n    };\n    RibbonBackstage.prototype.removeBackstageMenuKeyTip = function () {\n        var _this = this;\n        if (this.parent.keyTipElements['backstage'] && this.parent.keyTipElements['backstage'].length) {\n            var index = getIndex(this.parent.keyTipElements['backstage'], function (e) { return e.id === _this.backstageButtonEle.id; });\n            if (index !== -1) {\n                this.parent.keyTipElements['backstage'].splice(index, 1);\n            }\n        }\n        if (this.parent.keyTipElements['backstageMenu'] && this.parent.keyTipElements['backstageMenu'].length) {\n            for (var i = 0; i < this.parent.keyTipElements['backstageMenu'].length; i++) {\n                this.parent.keyTipElements['backstageMenu'].splice(i, 1);\n                i--;\n            }\n        }\n    };\n    /**\n     * Add items to Backstage Menu.\n     *\n     * @param {BackstageItemModel[]} items - Gets the items to be added.\n     * @param {string} target - Gets the target item to add the items.\n     * @param {boolean} isAfter - Gets the boolean value to add the items after or before the target item.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.addBackstageItems = function (items, target, isAfter, isUniqueId) {\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            if (item.isFooter) {\n                isAfter ? this.footerMenuCtrl.insertAfter(items, target, isUniqueId) : this.footerMenuCtrl.insertBefore(items, target, isUniqueId);\n            }\n            else {\n                isAfter ? this.menuCtrl.insertAfter(items, target, isUniqueId) : this.menuCtrl.insertBefore(items, target, isUniqueId);\n            }\n        }\n        var backstageItems = [].concat(this.menuCtrl.items, this.footerMenuCtrl.items);\n        var backStageOptions = this.parent.backStageMenu;\n        for (var i = 0; i < backStageOptions.items.length; i++) {\n            var item = backStageOptions.items[parseInt(i.toString(), 10)];\n            for (var i_1 = 0; i_1 < backstageItems.length; i_1++) {\n                var item1 = backstageItems[parseInt(i_1.toString(), 10)];\n                if (item.text === item1.text) {\n                    item1.content = item.content;\n                    break;\n                }\n            }\n        }\n        this.parent.backStageMenu.setProperties({ items: backstageItems }, true);\n    };\n    /**\n     * Remove items from Backstage Menu.\n     *\n     * @param {string[]} items - Gets the items to be removed.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.removeBackstageItems = function (items, isUniqueId) {\n        this.menuCtrl.removeItems(items, isUniqueId);\n        this.footerMenuCtrl.removeItems(items, isUniqueId);\n        var backstageItems = [].concat(this.menuCtrl.items, this.footerMenuCtrl.items);\n        this.parent.backStageMenu.setProperties({ items: backstageItems }, true);\n    };\n    /**\n     * Renders the backstage dynamically.\n     *\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.showBackstage = function () {\n        this.popupEle.show();\n    };\n    /**\n     * Hides the backstage dynamically.\n     *\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.hideBackstage = function () {\n        if (this.popupEle.element.classList.contains(constants.RIBBON_BACKSTAGE_OPEN)) {\n            this.popupEle.element.classList.remove(constants.RIBBON_BACKSTAGE_OPEN);\n        }\n        this.popupEle.hide();\n    };\n    return RibbonBackstage;\n}(Component));\nexport { RibbonBackstage };\n","import * as constants from '../base/constant';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon contextual tab.\n */\nvar RibbonContextualTab = /** @class */ (function () {\n    function RibbonContextualTab(parent) {\n        this.parent = parent;\n    }\n    RibbonContextualTab.prototype.getModuleName = function () {\n        return 'ribbonContextualTab';\n    };\n    RibbonContextualTab.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates Contextual tab.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    RibbonContextualTab.prototype.addContextualTabs = function () {\n        var isSelected = false;\n        for (var n = 0; n < this.parent.contextualTabs.length; n++) {\n            for (var i = 0; i < this.parent.contextualTabs[parseInt(n.toString(), 10)].tabs.length; i++) {\n                this.parent.addTab(this.parent.contextualTabs[parseInt(n.toString(), 10)].tabs[parseInt(i.toString(), 10)]);\n                var index = this.parent.tabs.length - 1;\n                var tabEle = this.parent.tabObj.element;\n                var toolbarEle = tabEle.querySelectorAll('.e-toolbar-item')[parseInt(index.toString(), 10)];\n                toolbarEle.classList.add(constants.RIBBON_CONTEXTUAL_TAB);\n                toolbarEle.classList.add('e-hidden');\n                if (this.parent.contextualTabs[parseInt(n.toString(), 10)].visible) {\n                    this.parent.showTab(this.parent.contextualTabs[parseInt(n.toString(), 10)].tabs[parseInt(i.toString(), 10)].id, true);\n                    if (this.parent.contextualTabs[parseInt(n.toString(), 10)].isSelected && !isSelected) {\n                        this.parent.selectTab(this.parent.contextualTabs[parseInt(n.toString(), 10)].tabs[0].id);\n                        isSelected = true;\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Updates Contextual tab.\n     *\n     * @param {RibbonContextualTabSettingsModel} newProp - Specifies new properties.\n     * @param {RibbonContextualTabSettingsModel} contextualTab - Gets the property of contextual tab.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonContextualTab.prototype.updateContextualTabs = function (newProp, contextualTab) {\n        if (!(isNullOrUndefined(newProp.visible))) {\n            for (var i = 0; i < contextualTab.tabs.length; i++) {\n                if (newProp.visible) {\n                    this.parent.showTab(contextualTab.tabs[parseInt(i.toString(), 10)].id, true);\n                }\n                else {\n                    this.parent.hideTab(contextualTab.tabs[parseInt(i.toString(), 10)].id, true);\n                }\n            }\n        }\n        if (!(isNullOrUndefined(newProp.isSelected))) {\n            if (newProp.isSelected && contextualTab.visible) {\n                this.parent.selectTab(contextualTab.tabs[0].id);\n            }\n            else {\n                var tabEle = this.parent.tabObj.element;\n                for (var i = 0; i < this.parent.tabs.length; i++) {\n                    var toolbarEle = tabEle.querySelectorAll('.e-toolbar-item')[parseInt(i.toString(), 10)];\n                    if (!(toolbarEle.classList.contains('e-hidden') || toolbarEle.classList.contains('e-disable'))) {\n                        this.parent.selectTab(this.parent.tabs[parseInt(i.toString(), 10)].id);\n                        break;\n                    }\n                }\n            }\n        }\n        if (newProp.tabs) {\n            var _loop_1 = function (key) {\n                var index = parseInt(key, 10);\n                var tab = this_1.parent.tabs.filter(function (e) { return e.id === contextualTab.tabs[parseInt(index.toString(), 10)].id; })[0];\n                this_1.parent.updateTab(tab);\n            };\n            var this_1 = this;\n            for (var key in newProp.tabs) {\n                _loop_1(key);\n            }\n        }\n    };\n    return RibbonContextualTab;\n}());\nexport { RibbonContextualTab };\n","import { getGroup, getItem } from '../base/utils';\nimport { getIndex } from '../base/index';\nimport * as constants from '../base/constant';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { getInstance, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the keytip of Ribbon.\n */\nvar RibbonKeyTip = /** @class */ (function () {\n    function RibbonKeyTip(parent) {\n        this.isKeytipPopupOpen = false;\n        this.parent = parent;\n    }\n    RibbonKeyTip.prototype.getModuleName = function () {\n        return 'ribbonKeyTip';\n    };\n    RibbonKeyTip.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the keytips.\n     *\n     * @param {string} key - get's the keytip type.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonKeyTip.prototype.createKeytip = function (key) {\n        if (this.parent.keyTipElements) {\n            var keytipData = void 0;\n            if (key === 'tab') {\n                for (var i = 0; i < this.parent.tabs.length; i++) {\n                    if (this.parent.keyTipElements[parseInt(i.toString(), 10)]) {\n                        // eslint-disable-next-line\n                        keytipData = this.parent.keyTipElements[i][key];\n                        this.createKeyTipElement((keytipData[0].id), keytipData[0].keyTip, 'tab', 'center', 'bottom', true);\n                    }\n                }\n                if (this.parent.keyTipElements['filemenu']) {\n                    keytipData = this.parent.keyTipElements['filemenu'];\n                    this.createKeyTipElement((keytipData[0].id), keytipData[0].keyTip, 'filemenu');\n                }\n                if (this.parent.keyTipElements['backstage']) {\n                    keytipData = this.parent.keyTipElements['backstage'];\n                    this.createKeyTipElement((keytipData[0].id), keytipData[0].keyTip, 'backstage');\n                }\n                if (this.parent.keyTipElements['collapse']) {\n                    keytipData = this.parent.keyTipElements['collapse'];\n                    this.createKeyTipElement((keytipData[0].id), keytipData[0].keyTip, 'collapse');\n                }\n                if (this.parent.keyTipElements['taboverflow']) {\n                    keytipData = this.parent.keyTipElements['taboverflow'];\n                    this.createKeyTipElement((keytipData[0].id), keytipData[0].keyTip, 'taboverflow');\n                }\n            }\n            else if (key === 'popupitem') {\n                if (this.parent.keyTipElements[this.parent.selectedTab]['popupitem']) {\n                    var popupKeyTipData = this.parent.keyTipElements[this.parent.selectedTab]['popupitem'];\n                    for (var i = 0; i < Object.keys(this.parent.keyTipElements[this.parent.selectedTab]['popupitem']).length; i++) {\n                        this.createKeyTipElement((popupKeyTipData[parseInt(i.toString(), 10)].id), popupKeyTipData[parseInt(i.toString(), 10)].keyTip, 'popupitem', 'left', 'top', false, true);\n                    }\n                }\n            }\n            else if (key === 'backstageMenu') {\n                if (this.parent.keyTipElements['backstageMenu']) {\n                    var backstageKeyTipData = this.parent.keyTipElements['backstageMenu'];\n                    for (var i = 0; i < Object.keys(this.parent.keyTipElements['backstageMenu']).length; i++) {\n                        this.createKeyTipElement((backstageKeyTipData[parseInt(i.toString(), 10)].id), backstageKeyTipData[parseInt(i.toString(), 10)].keyTip, 'backstageMenu', 'left', 'center');\n                    }\n                }\n            }\n            else if (key === 'grpoverflowpopup' && this.parent.activeLayout === 'Classic') {\n                if (this.parent.keyTipElements[this.parent.selectedTab]['grpoverflowpopup']) {\n                    this.calculateItemPosition(key);\n                }\n                if (this.parent.keyTipElements[this.parent.selectedTab]['launcher']) {\n                    for (var i = 0; i < Object.keys(this.parent.keyTipElements[this.parent.selectedTab]['launcher']).length; i++) {\n                        keytipData = this.parent.keyTipElements[this.parent.selectedTab]['launcher'];\n                        this.createKeyTipElement((keytipData[parseInt(i.toString(), 10)].id), keytipData[parseInt(i.toString(), 10)].keyTip, 'launcher', 'center', 'bottom', false, true);\n                    }\n                }\n            }\n            else {\n                this.calculateItemPosition(key);\n                if (this.parent.activeLayout === 'Classic') {\n                    if (this.parent.keyTipElements[this.parent.selectedTab]['launcher']) {\n                        for (var i = 0; i < Object.keys(this.parent.keyTipElements[this.parent.selectedTab]['launcher']).length; i++) {\n                            keytipData = this.parent.keyTipElements[this.parent.selectedTab]['launcher'];\n                            this.createKeyTipElement((keytipData[parseInt(i.toString(), 10)].id), keytipData[parseInt(i.toString(), 10)].keyTip, 'launcher');\n                        }\n                    }\n                    if (this.parent.keyTipElements[this.parent.selectedTab]['grpoverflow']) {\n                        for (var i = 0; i < Object.keys(this.parent.keyTipElements[this.parent.selectedTab]['grpoverflow']).length; i++) {\n                            keytipData = this.parent.keyTipElements[this.parent.selectedTab]['grpoverflow'];\n                            this.createKeyTipElement((keytipData[parseInt(i.toString(), 10)].id), keytipData[parseInt(i.toString(), 10)].keyTip, 'grpoverflow');\n                        }\n                    }\n                }\n                if (this.parent.activeLayout === 'Simplified') {\n                    if (this.parent.keyTipElements['overflowbtn']) {\n                        keytipData = this.parent.keyTipElements['overflowbtn'];\n                        this.createKeyTipElement((keytipData[0].id), keytipData[0].keyTip, 'overflowbtn');\n                    }\n                    if (this.parent.keyTipElements[this.parent.selectedTab]['grpofbtn']) {\n                        for (var i = 0; i < Object.keys(this.parent.keyTipElements[this.parent.selectedTab]['grpofbtn']).length; i++) {\n                            keytipData = this.parent.keyTipElements[this.parent.selectedTab]['grpofbtn'];\n                            this.createKeyTipElement((keytipData[parseInt(i.toString(), 10)].id), keytipData[parseInt(i.toString(), 10)].keyTip, 'grpofbtn');\n                        }\n                    }\n                }\n            }\n        }\n    };\n    RibbonKeyTip.prototype.calculateItemPosition = function (key, isMethod, keyTip) {\n        if (isMethod === void 0) { isMethod = false; }\n        var xOffset;\n        var yOffset;\n        var keytipData;\n        /* eslint-disable */\n        keytipData = this.parent.keyTipElements[parseInt(this.parent.selectedTab.toString(), 10)][key];\n        if (keytipData) {\n            for (var i = 0; i < Object.keys(this.parent.keyTipElements[parseInt(this.parent.selectedTab.toString(), 10)][key]).length; i++) {\n                /* eslint-enable */\n                if ((isMethod && (keytipData[parseInt(i.toString(), 10)].keyTip === keyTip)) || !isMethod) {\n                    var itemID = keytipData[parseInt(i.toString(), 10)].id;\n                    if (keytipData[parseInt(i.toString(), 10)].id.includes(\"_grpbtn\")) {\n                        itemID = keytipData[parseInt(i.toString(), 10)].id.replace(/_grpbtn\\d+/, '');\n                    }\n                    var itemProp = getItem(this.parent.tabs, itemID);\n                    if (itemProp && itemProp.group.orientation === 'Column' && itemProp.collection.items.length > 1 && this.parent.activeLayout !== 'Simplified') {\n                        if (itemProp.itemIndex === 0) {\n                            xOffset = 'center';\n                            yOffset = 'top';\n                        }\n                        else if (itemProp.itemIndex === 1) {\n                            xOffset = 'center';\n                            yOffset = 'center';\n                        }\n                        else {\n                            xOffset = 'center';\n                            yOffset = 'bottom';\n                        }\n                    }\n                    else if (itemProp && itemProp.group.orientation === 'Row' && itemProp.group.collections.length > 1 && this.parent.activeLayout !== 'Simplified') {\n                        if (itemProp.collectionIndex === 0) {\n                            xOffset = 'center';\n                            yOffset = 'top';\n                        }\n                        else {\n                            xOffset = 'center';\n                            yOffset = 'bottom';\n                        }\n                    }\n                    key === 'item' ? this.createKeyTipElement((keytipData[parseInt(i.toString(), 10)].id), keytipData[parseInt(i.toString(), 10)].keyTip, key, xOffset, yOffset) : this.createKeyTipElement((keytipData[parseInt(i.toString(), 10)].id), keytipData[parseInt(i.toString(), 10)].keyTip, key, xOffset, yOffset, false, true);\n                }\n            }\n        }\n    };\n    RibbonKeyTip.prototype.createKeyTipElement = function (id, keyTip, type, xOffset, yOffset, isTab, isPopUpItem) {\n        if (xOffset === void 0) { xOffset = 'center'; }\n        if (yOffset === void 0) { yOffset = 'bottom'; }\n        if (isTab === void 0) { isTab = false; }\n        if (isPopUpItem === void 0) { isPopUpItem = false; }\n        var keyEle = document.querySelector('#' + id);\n        var isPopUpPresent = false;\n        var splitBtnID;\n        if (isTab) {\n            keyEle = document.querySelector('#' + id + constants.HEADER_ID);\n        }\n        if (keyEle) {\n            if (keyEle.closest('.e-ribbon-group-overflow-ddb')) {\n                isPopUpPresent = true;\n            }\n            if ((isTab && isPopUpItem) && keyEle.closest('.e-toolbar-pop')) {\n                isPopUpPresent = true;\n            }\n            if (keyEle.closest('.e-split-btn-wrapper')) {\n                var splitBtn = keyEle.closest('.e-split-btn-wrapper');\n                splitBtnID = splitBtn.closest('.e-ribbon-item').id;\n            }\n            else {\n                if (keyEle.closest('.e-colorpicker-wrapper')) {\n                    keyEle = keyEle.closest('.e-colorpicker-wrapper');\n                    splitBtnID = keyEle.closest('.e-ribbon-item').id;\n                }\n            }\n        }\n        if ((keyEle && keyEle.offsetParent) || (isTab && isPopUpItem)) {\n            if ((isPopUpItem && isPopUpPresent) || !isPopUpItem) {\n                var keytipElement = this.parent.createElement('div', {\n                    className: constants.RIBBON_KEYTIP,\n                    id: id + constants.RIBBON_KEYTIP_ID\n                });\n                document.body.append(keytipElement);\n                var keytipPopup = new Popup(keytipElement, {\n                    relateTo: '#' + (isTab ? id + constants.HEADER_ID : splitBtnID ? splitBtnID : id),\n                    content: keyTip,\n                    collision: { X: 'fit', Y: 'flip' },\n                    targetType: 'relative',\n                    position: { X: xOffset, Y: yOffset },\n                    enableRtl: this.parent.enableRtl\n                });\n                keytipPopup.show();\n                this.calculateKeyTipPosition(keyEle, keytipElement, type, yOffset, (isTab && isPopUpItem));\n                this.parent.isKeytipOpen = true;\n            }\n        }\n    };\n    RibbonKeyTip.prototype.calculateKeyTipPosition = function (itemEle, keytipElement, type, yOffset, isTabOverflow) {\n        if (isTabOverflow === void 0) { isTabOverflow = false; }\n        var position = itemEle.getBoundingClientRect();\n        if (type === 'backstageMenu') {\n            keytipElement.style.top = position.top + ((keytipElement.offsetHeight) / 2) + 'px';\n            keytipElement.style.left = position.left + (itemEle.offsetWidth / 5) + 'px';\n        }\n        else {\n            if (type !== 'popupitem') {\n                keytipElement.style.left = position.left + (position.width - keytipElement.offsetWidth) / 2 + 'px';\n            }\n        }\n        if (type === 'filemenu' || type === 'backstage') {\n            keytipElement.style.top = position.top + ((itemEle.offsetHeight - (itemEle.offsetHeight / 3)) + (keytipElement.offsetHeight / 6)) + 'px';\n        }\n        else if ((type === 'item' && yOffset === 'top')) {\n            keytipElement.style.top = (position.top - (itemEle.offsetHeight) / 2) + 'px';\n        }\n    };\n    /**\n     * Performs keytip action.\n     *\n     * @param {string} keyPress - Gets the keytip text.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonKeyTip.prototype.keytipPress = function (keyPress, isMethod) {\n        var _this = this;\n        if (isMethod === void 0) { isMethod = false; }\n        this.isKeytipPresent = false;\n        for (var i = 0; ((i < Object.keys(this.parent.keyTipElements).length) && !this.isKeytipPresent); i++) {\n            if (this.parent.keyTipElements[parseInt(i.toString(), 10)]) {\n                for (var j = 0; ((j < Object.keys(this.parent.keyTipElements[parseInt(i.toString(), 10)]).length) && !this.isKeytipPresent); j++) {\n                    var keytipData = this.parent.keyTipElements[parseInt(i.toString(), 10)][Object.keys(this.parent.keyTipElements[parseInt(i.toString(), 10)])[parseInt(j.toString(), 10)]];\n                    for (var k = 0; ((k < keytipData.length) && !this.isKeytipPresent); k++) {\n                        if (keyPress.toUpperCase() === keytipData[parseInt(k.toString(), 10)].keyTip) {\n                            var keyTipElement = document.querySelector('#' + keytipData[parseInt(k.toString(), 10)].id + constants.RIBBON_KEYTIP_ID);\n                            if (keyTipElement || isMethod) {\n                                this.isKeytipPresent = true;\n                                this.removeKeytip();\n                                if (keytipData[parseInt(k.toString(), 10)].type === 'tab') {\n                                    if (i !== this.parent.selectedTab) {\n                                        this.parent.tabObj.select(i);\n                                        setTimeout(function () {\n                                            var tabOverflow = _this.parent.tabObj.element.querySelector('.e-nav-active');\n                                            if (tabOverflow)\n                                                tabOverflow.click();\n                                            _this.createKeytip('item');\n                                        }, 600);\n                                    }\n                                    else {\n                                        this.createKeytip('item');\n                                    }\n                                }\n                                else {\n                                    if (keytipData[parseInt(k.toString(), 10)].type === 'item' || keytipData[parseInt(k.toString(), 10)].type === 'grpoverflowpopup' || keytipData[parseInt(k.toString(), 10)].type === 'popupitem') {\n                                        if (document.getElementById(keytipData[parseInt(k.toString(), 10)].id) && document.getElementById(keytipData[parseInt(k.toString(), 10)].id).classList.contains('e-ribbon-group-button')) {\n                                            document.getElementById(keytipData[parseInt(k.toString(), 10)].id).click();\n                                        }\n                                        else {\n                                            var itemProp = void 0;\n                                            if ((keytipData[parseInt(k.toString(), 10)].id).includes(\"_popupButton\")) {\n                                                var galleryID = keytipData[parseInt(k.toString(), 10)].id.replace(/_popupButton/g, '');\n                                                itemProp = getItem(this.parent.tabs, galleryID);\n                                            }\n                                            else {\n                                                itemProp = getItem(this.parent.tabs, keytipData[parseInt(k.toString(), 10)].id);\n                                            }\n                                            if (!isMethod || (isMethod && itemProp.tabIndex === this.parent.selectedTab)) {\n                                                this.clickItems(itemProp, keytipData, k, false, isMethod);\n                                            }\n                                        }\n                                    }\n                                    else if (keytipData[parseInt(k.toString(), 10)].type === 'grpoverflow' || keytipData[parseInt(k.toString(), 10)].type === 'grpofbtn' || keytipData[parseInt(k.toString(), 10)].type === 'launcher') {\n                                        var keyEle = document.querySelector('#' + keytipData[parseInt(k.toString(), 10)].id);\n                                        this.removeKeytip();\n                                        if (keyEle) {\n                                            var groupID = keytipData[parseInt(k.toString(), 10)].id;\n                                            if (isMethod) {\n                                                if (keytipData[parseInt(k.toString(), 10)].id.includes(\"_launcher\") || keytipData[parseInt(k.toString(), 10)].id.includes(\"_sim_grp_overflow\") || keytipData[parseInt(k.toString(), 10)].id.includes(\"_overflow_dropdown\")) {\n                                                    groupID = keytipData[parseInt(k.toString(), 10)].id.replace(/_launcher|_sim_grp_overflow|_overflow_dropdown/g, '');\n                                                    var itemProp = getGroup(this.parent.tabs, groupID);\n                                                    if (itemProp.tabIndex === this.parent.selectedTab) {\n                                                        this.clickItems(itemProp, keytipData, k, true, isMethod, keyEle);\n                                                    }\n                                                }\n                                            }\n                                            else {\n                                                this.clickItems(null, keytipData, k, true, isMethod, keyEle);\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.parent.keyTipElements) {\n                    this.commonItemsKeyTipPress(keyPress, Object.keys(this.parent.keyTipElements)[parseInt(i.toString(), 10)], isMethod);\n                }\n            }\n        }\n    };\n    RibbonKeyTip.prototype.clickItems = function (itemProp, keytipData, k, isGroupItems, isMethod, keyEle) {\n        if (isGroupItems) {\n            keyEle.click();\n            if (!(keytipData[parseInt(k.toString(), 10)].type === 'launcher')) {\n                this.isKeytipPopupOpen = true;\n                keytipData[parseInt(k.toString(), 10)].type === 'grpoverflow' ? this.createKeytip('grpoverflowpopup') : this.createKeytip('popupitem');\n            }\n        }\n        else {\n            var itemID = keytipData[parseInt(k.toString(), 10)].id;\n            if (document.querySelector('#' + itemID) && isMethod) {\n                if (this.parent.activeLayout === 'Simplified') {\n                    if (document.querySelector('#' + itemID).closest('#' + itemProp.group.id + '_sim_grp_overflow-popup') && document.querySelector('#' + itemID).closest('#' + itemProp.group.id + '_sim_grp_overflow-popup').classList.contains('e-popup-close')) {\n                        document.querySelector('#' + itemProp.group.id + '_sim_grp_overflow').click();\n                    }\n                    else if (document.querySelector('#' + itemID).closest('#' + this.parent.tabObj.element.id + constants.OVRLOF_BUTTON_ID + '-popup') && document.querySelector('#' + itemID).closest('#' + this.parent.tabObj.element.id + constants.OVRLOF_BUTTON_ID + '-popup').classList.contains('e-popup-close')) {\n                        document.querySelector('#' + this.parent.tabObj.element.id + constants.OVRLOF_BUTTON_ID).click();\n                    }\n                }\n                else {\n                    if (document.querySelector('#' + itemID).closest('#' + itemProp.group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID + '-popup') && document.querySelector('#' + itemID).closest('#' + itemProp.group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID + '-popup').classList.contains('e-popup-close')) {\n                        document.querySelector('#' + itemProp.group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID).click();\n                    }\n                }\n            }\n            var itemType = this.parent.getItemModuleName(itemProp.item);\n            switch (itemType) {\n                case 'btn':\n                    this.parent.ribbonButtonModule.click(itemID);\n                    break;\n                case 'dropdown-btn':\n                    this.parent.ribbonDropDownModule.toggle(itemID);\n                    break;\n                case 'split-btn':\n                    this.parent.ribbonSplitButtonModule.toggle(itemID);\n                    break;\n                case 'checkbox':\n                    this.parent.ribbonCheckBoxModule.click(itemID);\n                    break;\n                case 'colorpicker':\n                    this.parent.ribbonColorPickerModule.toggle(itemID);\n                    break;\n                case 'combobox':\n                    var itemEle_1 = document.querySelector('#' + itemID);\n                    setTimeout(function () {\n                        itemEle_1.focus();\n                    }, 100);\n                    break;\n                case 'gallery':\n                    var galleryEle = document.querySelector('#' + itemID);\n                    galleryEle.click();\n                    break;\n                case 'template':\n                    var templateEle = document.querySelector('#' + itemID);\n                    templateEle.focus();\n                    break;\n                case 'group-btn':\n                    var itemElement = document.querySelector('#' + itemID);\n                    if (itemElement) {\n                        var item = getInstance(itemElement, DropDownButton);\n                        item.toggle();\n                        for (var i = 0; i < itemProp.item.groupButtonSettings.items.length; i++) {\n                            if (itemProp.item.groupButtonSettings.items[parseInt(i.toString(), 10)].keyTip) {\n                                this.createKeyTipElement(itemID + (constants.RIBBON_GROUP_BUTTON_ID + i), itemProp.item.groupButtonSettings.items[parseInt(i.toString(), 10)].keyTip, 'item');\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    RibbonKeyTip.prototype.commonItemsKeyTipPress = function (keyPress, key, isMethod) {\n        var _this = this;\n        /* eslint-disable */\n        if (this.parent.keyTipElements[key]) {\n            var isKeyPressed = false;\n            var keytipData = this.parent.keyTipElements[key];\n            var keyEle = void 0;\n            var keytipElement = void 0;\n            if (keytipData) {\n                if (key === 'backstageMenu') {\n                    for (var i = 0; i < Object.keys(this.parent.keyTipElements[key]).length; i++) {\n                        /* eslint-enable */\n                        if (keytipData[parseInt(i.toString(), 10)].keyTip === keyPress.toUpperCase()) {\n                            keyEle = document.querySelector('#' + keytipData[parseInt(i.toString(), 10)].id);\n                            keytipElement = document.querySelector('#' + keyEle.id + constants.RIBBON_KEYTIP_ID);\n                            if (keytipElement || isMethod) {\n                                isKeyPressed = true;\n                                if (isMethod && document.querySelector('.e-ribbon-backstage-popup').classList.contains('e-popup-close')) {\n                                    this.parent.tabObj.element.querySelector('.e-ribbon-backstage').click();\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (keytipData[0] && keytipData[0].keyTip === keyPress.toUpperCase()) {\n                        keyEle = document.querySelector('#' + keytipData[0].id);\n                        keytipElement = document.querySelector('#' + keytipData[0].id + constants.RIBBON_KEYTIP_ID);\n                        if (keytipElement || isMethod) {\n                            isKeyPressed = true;\n                        }\n                    }\n                }\n            }\n            if (isKeyPressed) {\n                this.removeKeytip();\n                this.isKeytipPresent = true;\n                if (keyEle) {\n                    keyEle.click();\n                    if (key === 'backstage') {\n                        this.createKeytip('backstageMenu');\n                    }\n                    else if (key === 'overflowbtn') {\n                        this.isKeytipPopupOpen = true;\n                        this.createKeytip('popupitem');\n                    }\n                    else if (key === 'taboverflow') {\n                        setTimeout(function () {\n                            for (var i = 0; i < Object.keys(_this.parent.keyTipElements).length; i++) {\n                                if (_this.parent.keyTipElements[parseInt(i.toString(), 10)]) {\n                                    var keytipData_1 = _this.parent.keyTipElements[parseInt(i.toString(), 10)]['tab'];\n                                    _this.createKeyTipElement((keytipData_1[0].id), keytipData_1[0].keyTip, 'tab', 'center', 'bottom', true, true);\n                                }\n                            }\n                        }, 600);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Removes the keytip.\n     *\n     * @param {string} key - Gets the keyboard key element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonKeyTip.prototype.removeKeytip = function (key) {\n        var _this = this;\n        var keyTipItems = document.querySelectorAll('.e-ribbon-keytip');\n        var isKeyTipExist = false;\n        this.parent.keysPress = '';\n        var _loop_1 = function (i) {\n            var keyTipItem = keyTipItems[parseInt(i.toString(), 10)];\n            if (key === 'Escape' && this_1.parent.keyTipElements && this_1.parent.keyTipElements[this_1.parent.selectedTab]) {\n                /* eslint-disable */\n                for (var j = 0; j < Object.keys(this_1.parent.keyTipElements[this_1.parent.selectedTab]).length; j++) {\n                    var keyText = (Object.keys(this_1.parent.keyTipElements[this_1.parent.selectedTab]))[j];\n                    if (this_1.parent.keyTipElements[this_1.parent.selectedTab][keyText]) {\n                        var index = getIndex(this_1.parent.keyTipElements[this_1.parent.selectedTab][keyText], function (e) { return e.id + constants.RIBBON_KEYTIP_ID === keyTipItems[parseInt(i.toString(), 10)].id; });\n                        /* eslint-enable */\n                        if (index !== -1) {\n                            if ((keyText === 'item' && !(this_1.isKeytipPopupOpen)) || (keyText === 'grpoverflow' && this_1.parent.activeLayout === 'Classic')) {\n                                this_1.createKeytip('tab');\n                                key = '';\n                                isKeyTipExist = true;\n                                break;\n                            }\n                            else if (this_1.isKeytipPopupOpen) {\n                                if ((keyText === 'popupitem' && this_1.parent.activeLayout === 'Simplified') || (keyText === 'grpoverflowpopup' && this_1.parent.activeLayout === 'Classic')) {\n                                    this_1.createKeytip('item');\n                                    key = '';\n                                    isKeyTipExist = true;\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                for (var n = 0; n < Object.keys(this_1.parent.keyTipElements).length; n++) {\n                    if (this_1.parent.keyTipElements[parseInt(n.toString(), 10)]) {\n                        var keytipData = this_1.parent.keyTipElements[parseInt(n.toString(), 10)]['tab'];\n                        for (var j = 0; j < keytipData.length; j++) {\n                            if (keyTipItem.id === keytipData[0].id + constants.RIBBON_KEYTIP_ID) {\n                                if (document.querySelector('#' + keytipData[0].id + constants.HEADER_ID).closest('.e-toolbar-pop')) {\n                                    var tabOverflow = this_1.parent.tabObj.element.querySelector('.e-nav-active');\n                                    tabOverflow.click();\n                                    setTimeout(function () {\n                                        _this.createKeytip('tab');\n                                    }, 600);\n                                    key = '';\n                                    isKeyTipExist = true;\n                                    break;\n                                }\n                            }\n                        }\n                        if (isKeyTipExist) {\n                            break;\n                        }\n                    }\n                }\n                if (!isKeyTipExist && this_1.parent.keyTipElements['backstageMenu']) {\n                    var index = getIndex(this_1.parent.keyTipElements['backstageMenu'], function (e) { return e.id + constants.RIBBON_KEYTIP_ID === keyTipItems[parseInt(i.toString(), 10)].id; });\n                    if (index !== -1) {\n                        this_1.createKeytip('tab');\n                        key = '';\n                        isKeyTipExist = true;\n                    }\n                }\n            }\n            if (keyTipItem) {\n                remove(keyTipItem);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < keyTipItems.length; i++) {\n            _loop_1(i);\n        }\n        this.isKeytipPopupOpen = false;\n        if (!isKeyTipExist)\n            this.parent.isKeytipOpen = false;\n    };\n    /**\n     * Shows the Keytip dynamically.\n     *\n     * @param  {string} keyAction - Item for which the tooltip is to be shown.\n     * @returns {void}\n     */\n    RibbonKeyTip.prototype.showKeyTips = function (keyAction) {\n        if (this.parent.enableKeyTips) {\n            if (keyAction) {\n                this.keytipPress(keyAction, true);\n            }\n            else {\n                this.createKeytip('tab');\n            }\n        }\n    };\n    /**\n     * Hides the Keytip dynamically.\n     *\n     * @returns {void}\n     */\n    RibbonKeyTip.prototype.hideKeyTips = function () {\n        this.removeKeytip();\n    };\n    return RibbonKeyTip;\n}());\nexport { RibbonKeyTip };\n"],"names":["getIndex","arr","condition","i","length","parseInt","toString","getTemplateFunction","template","content","tempEle","select","tagName","innerHTML","outerHTML","e","compile","getItem","tabs","id","type","tab","j","groups","group","k","collections","collection","l","items","item","tabIndex","groupIndex","collectionIndex","itemIndex","getCollection","getGroup","destroyControl","element","moduleName","getComponent","destroy","updateCommonProperty","commonProp","setProperties","updateControlDisabled","disable","enabled","disabled","getItemElement","parent","itemProp","contentEle","tabObj","activeLayout","RibbonLayout","Classic","displayOptions","DisplayMode","ribbonDropDownModule","getOverflowDropDownPopup","querySelector","ele","Simplified","enableGroupOverflow","constants.GROUPOF_BUTTON_ID","DropDownButton","overflowDDB","target","isTooltipPresent","tooltip","iconCss","title","cssClass","setToolTipContent","args","tooltipData","targetId","getAttribute","data","filter","createElement","constants.RIBBON_TOOLTIP_CONTAINER","append","header","className","constants.RIBBON_TOOLTIP_TITLE","appendChild","textContainer","constants.RIBBON_TEXT_CONTAINER","customCss","constants.RIBBON_TOOLTIP_ICON","tooltipContent","constants.RIBBON_TOOLTIP_CONTENT","constants.RIBBON_TOOLTIP","createTooltip","ribbon","ribbonTooltip","Tooltip","constants.RIBBON_TOOLTIP_TARGET","beforeRender","bind","this","windowCollision","appendTo","destroyTooltip","updateTooltipProp","prop","setCustomAttributes","attributes","key","elementClass","replace","trim","addClass","split","value","setAttribute","ItemOrientation","RibbonItemSize","RibbonItemType","RibbonGroupButtonSelection","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","RibbonButtonSettings","_super","apply","muteOnChange","call","Property","Event","ChildProperty","RibbonCheckBoxSettings","RibbonColorPickerSettings","RibbonComboBoxSettings","Complex","text","groupBy","FieldSettings","RibbonDropDownSettings","Collection","Item","RibbonSplitButtonSettings","RibbonTooltip","RibbonGroupButtonItem","RibbonGroupButtonSettings","RibbonGalleryItem","RibbonGalleryGroup","RibbonGallerySettings","RibbonItem","Medium","Small","Large","Auto","RibbonCollection","RibbonGroup","RibbonTab","FileMenuSettings","MenuItem","MenuAnimationSettings","BackstageBackButton","BackstageItem","BackStageMenu","RibbonContextualTabSettings","ITEM_VERTICAL_CENTER","EXPAND_COLLAPSE_ICON","BACKSTAGE_CLOSE_ICON","OVERFLOW_ICON","VERTICAL_DDB","DISABLED_CSS","RTL_CSS","RIBBON_HOVER","RIBBON_CONTROL","RIBBON_POPUP_CONTROL","RIBBON_POPUP_OPEN","RIBBON_KEYTIP","HORIZONTAL_SCROLLBAR","HIDE_CSS","RIBBON_CONTEXTUAL_TAB","RIBBON_TAB_ACTIVE","RIBBON_TAB_ITEM","RIBBON_COLLAPSE_BUTTON","RIBBON_EXPAND_BUTTON","RIBBON_COLLAPSIBLE","RIBBON_OVERALL_OF_BUTTON","RIBBON_GROUP_OF_BUTTON","RIBBON_OVERFLOW_TARGET","RIBBON_OVERFLOW","TAB_CONTENT","RIBBON_MINIMIZE","RIBBON_GROUP","RIBBON_SINGLE_BUTTON_SELECTION","RIBBON_MULTIPLE_BUTTON_SELECTION","RIBBON_GROUP_BUTTON","RIBBON_GROUP_BUTTON_OVERFLOW_POPUP","RIBBON_GROUP_BUTTON_CONTENT","RIBBON_GROUP_CONTAINER","RIBBON_OF_TAB_CONTAINER","RIBBON_OF_GROUP_CONTAINER","RIBBON_GROUP_CONTENT","RIBBON_GROUP_HEADER","RIBBON_OVERFLOW_HEADER","RIBBON_GROUP_OVERFLOW","RIBBON_GROUP_OVERFLOW_DDB","RIBBON_LAUNCHER","RIBBON_LAUNCHER_ICON_ELE","RIBBON_LAUNCHER_ICON","RIBBON_COLLECTION","RIBBON_ITEM","RIBBON_ROW","RIBBON_COLUMN","RIBBON_LARGE_ITEM","RIBBON_MEDIUM_ITEM","RIBBON_SMALL_ITEM","RIBBON_CONTENT_HEIGHT","RIBBON_TEMPLATE","RIBBON_HELP_TEMPLATE","RIBBON_TOOLTIP","RIBBON_TOOLTIP_TARGET","RIBBON_TOOLTIP_TITLE","RIBBON_TOOLTIP_CONTENT","RIBBON_TOOLTIP_ICON","RIBBON_TOOLTIP_CONTAINER","RIBBON_TEXT_CONTAINER","RIBBON_SIMPLIFIED_MODE","RIBBON_BACKSTAGE_POPUP","RIBBON_BACKSTAGE_OPEN","RIBBON_BACKSTAGE_CONTENT","RIBBON_BACKSTAGE","RIBBON_BACKSTAGE_MENU","RIBBON_BACKSTAGE_TEMPLATE","RIBBON_BACKSTAGE_MENU_WRAPPER","RIBBON_BACKSTAGE_ITEMS_WRAPPER","COLLAPSE_BUTTON_ID","OVRLOF_BUTTON_ID","GROUPOF_BUTTON_ID","HEADER_ID","LAUNCHER_ID","CONTENT_ID","CONTAINER_ID","OVERFLOW_ID","DROPDOWN_ID","RIBBON_BACKSTAGE_MENU_ID","RIBBON_BACKSTAGE_POPUP_ID","RIBBON_FILE_MENU_LIST","RIBBON_FOOTER_MENU_LIST","RIBBON_HELP_PANE_TEMPLATE_ID","RIBBON_GROUP_BUTTON_ID","RIBBON_KEYTIP_ID","RIBBON_FILE_MENU_WIDTH","RIBBON_HELP_PANE_TEMPLATE_WIDTH","__assign","assign","t","s","n","RibbonButton","getModuleName","createButton","itemEle","_this","buttonEle","btnSettings","buttonSettings","Button","locale","enableRtl","enablePersistence","iconPosition","activeSize","isPrimary","isToggle","created","htmlAttributes","htmlAttr","onclick","clicked","addOverFlowEvents","overflowButton","buttonObj","toggle","removeOverFlowEvents","join","click","controlId","updateButton","merge","classList","add","updateButtonSize","RibbonCheckBox","createCheckBox","inputEle","checkBoxSettings","CheckBox","checked","label","labelPosition","change","checkBoxObj","dataBind","updateCheckBox","RibbonColorPicker","createColorPicker","colorPickerSettings","colorPicker","ColorPicker","columns","enableOpacity","mode","modeSwitcher","noColor","presetColors","showButtons","beforeClose","parentElement","remove","beforeOpen","beforeTileRender","open","wrapper","EventHandler","toggleWrapperHover","isAdd","insertBefore","firstChild","colorPickerEle","colorPickerObj","splitBtn","event","close","closest","getColorPickerObj","getValue","updateColorPicker","unwireColorPickerEvents","RibbonComboBox","createComboBox","comboBoxSettings","ComboBox","allowCustom","floatLabelType","ignoreAccent","ignoreCase","allowFiltering","autofill","dataSource","fields","filterType","footerTemplate","groupTemplate","headerTemplate","index","itemTemplate","noRecordsTemplate","placeholder","popupHeight","popupWidth","showClearButton","sortOrder","width","filtering","comboBoxObj","getComboBoxObj","query","hidePopup","showPopup","updateComboBox","RibbonDropDown","createDropDown","dropDownSettings","closeActionEvents","createPopupOnClick","beforeItemRender","dropdownElement","dropdown","createOverFlowDropDown","name","groupEle","overflowEle","cancel","isNullOrUndefined","onkeydown","keyActionHandler","comboBoxEle","controlElements","slice","querySelectorAll","templateElements","concat","comboBoxElements","contains","shiftKey","handleNavigation","updateItemIndex","focusLauncherIcon","launcherIconEle","groupContainer","preventDefault","focus","ribbonItem","removeOverFlowDropDown","getDDBItemElement","dropDown","getDropDownObj","dropDownEle","addItems","Items","removeItems","isUniqueId","updateDropDown","btnEle","control","updateDropDownSize","push","RibbonSplitButton","createSplitButton","splitButtonSettings","splitbutton","SplitButton","dropdownEle","stopImmediatePropagation","setContent","splitButtonEle","ddbId","popupEle","document","getSplitButtonObj","updateSplitButton","updateSplitButtonSize","RibbonGroupButton","isSelected","createGroupButton","itemElement","groupBtnSettings","groupButtonSettings","count","btnContainerEle","constants.RIBBON_GROUP_BUTTON_ID","groupButtonEle","constants.RIBBON_GROUP_BUTTON","constants.RIBBON_GROUP_BUTTON_CONTENT","selection","Single","constants.RIBBON_SINGLE_BUTTON_SELECTION","constants.RIBBON_MULTIPLE_BUTTON_SELECTION","selected","Multiple","ribbonTooltipSettings","groupButtonClicked","dropdownIcon","activeEleCount","dropDownPopup","addGroupButtonHeader","handleFocusState","handleGroupButtonNavigation","grpBtnSettings","previousItems","selectingItems","selectedItems","eventArgs","beforeClick","grpBtnIndex","itemsCount","eventArgs_1","switchGroupButton","containerEle","defaultSelectedBtn","itemID","groupButtonHeader","constants.HEADER_ID","targetEle","isOverflowPopup","constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP","isIconOnly","children","destroyDropDown","updateGroupButtonSize","RibbonGallery","isAdded","galleryItemsIndex","createGallery","gallerySettings","renderGalleryItems","createPopup","popup","Popup","popupID","isPopup","galleryContainerEle","galleryEle","isCollapsible","galleryWrapper","_loop_1","isHeightDefined","this_1","itemHeight","_loop_2","attrs","tabindex","itemEventArgs","selectedItemIndex","setActiveState","currentTarget","onmouseover","hoverEventArgs","itemHover","itemWidth","style","height","paddingTop","paddingBottom","flexFlow","popupTemplate","iconEle","createGalleryTemplate","createGalleryPopupTemplate","itemCount","headerEle","setWrapperWidth","itemsWidth","isWidthApplied","galleryItemEle","offsetWidth","itemStyles","window","getComputedStyle","paddingWidth","parseFloat","paddingLeft","paddingRight","marginWidth","marginLeft","marginRight","checkAvailableHeight","selectedTab","activeContent","galleryWrapperItems","isHeight","galleryWrapperHeight","offsetHeight","itemsValues","marginTop","marginBottom","checkCollision","screenWidth","innerWidth","paddingStyles","popupContainerItems","forEach","isCollideOccurs","marginStyles","Math","abs","popupContainer","gallerypopupElement","body","relateTo","collision","X","Y","actionOnScroll","targetType","position","hide","switchGalleryItems","constants.CONTAINER_ID","galleryIcons","galleryContainer","popupButton","groupIconCss","popupContainerEle_1","dropdown_1","setFoucsToFirstItem","popupEvents","formatUnit","galleryDDBEle","isInteracted","previousItem","currentItem","selctedGalleryItem","popupGalleryItem","galleryItem","selectingEventArgs","beforeSelect","selectedEventArgs","galleryPopupItems","isOpen","popupEventArgs","popupOpen","popupClose","show","buttonPosition","getBoundingClientRect","offsetX","left","top","showGalleryPopup","hideGalleryPopup","isDropdown","handleGalleryPopupNavigation","galleryPopupEle","code","templateName","templateFunction","isStringTemplate","Ribbon","options","Ribbon_1","Inject","render","initialize","preRender","keysPress","idIndex","initialPropsData","hiddenElements","keyTipElements","hiddenGroups","itemsModel","targetTabs","isAddRemove","isUpdateItems","keyConfigs","leftarrow","rightarrow","shiftTab","getPersistData","addOnPersist","requiredModules","modules","member","canInjectColorPickerModule","canInjectGalleryModule","Gallery","backStageMenu","visible","fileMenu","menuItems","contextualTabs","enableKeyTips","getUniqueID","constants.RTL_CSS","renderTabs","ribbonContextualTabModule","addContextualTabs","ribbonFileMenuModule","createFileMenu","ribbonBackstageModule","createBackStage","createHelpPaneTemplate","refreshOverflow","addTabOverflowKeyTip","isKeytipOpen","wireEvents","wireKeyboardEvent","currentControlIndex","resizeHandler","keytipActionHandler","mouseEventHandler","keyboardModuleRibbon","KeyboardEvents","keyAction","eventName","constants.CONTENT_ID","galleryElements","ribbonControls","action","prevGroupId","prevGroupContainer","constants.RIBBON_GROUP_CONTAINER","elem","checkOverflow","scrollModule","scrollEle","constants.HORIZONTAL_SCROLLBAR","scrollStep","activePopup","getInstance","ribbonKeyTipModule","removeKeytip","isKeyTipPresent","keyPress","altKey","backstagePopup","hideBackstage","createKeytip","keyTipItems","toLowerCase","keytipPress","checkKeyTipPresent","keyTip","keyTipItem","addKeyTip","isKeyTipExist","keys","keytipData","tabsInternal","checkID","tabEle","validateItemSize","tabItems","createTabItems","Tab","selectedItem","overflowMode","tabCreated","ribbonTabSelected","selecting","ribbonTabSelecting","animation","tabAnimation","setProperty","constants.RIBBON_FILE_MENU_WIDTH","constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH","toolbarEle","Toolbar","isMinimized","constants.RIBBON_MINIMIZE","minimize","val","trigger","display","refreshLayout","toggleLayout","switchLayout","hideLayoutSwitcher","addExpandCollapse","renderInitialTab","preventFocus","selectedTabId","selectedIndex","isContextual","isContextualTab","updateSelectedState","previousIndex","calculateHiddenElementsWidth","updateItem","splice","selectedContent","ribbonGalleryModule","overflowTarget","ofTabContainer","constants.RIBBON_TAB_ACTIVE","activeTab","constants.OVERFLOW_ID","constants.HIDE_CSS","checkOverflowHiddenItems","tabID","tabContent","constants.TAB_CONTENT","isOverFlow","isBreak","checkGroupShrinking","createOverflowDropdown","checkSimplifiedItemShrinking","createSimplfiedOverflow","HScroll","destroyScroll","removeOverflowDropdown","checkGroupExpanding","removeSimplfiedOverflow","checkSimplifiedItemExpanding","tabOverflow","allowedSizes","itemContainer","setItemSize","valString","removeAttribute","orderedGroups","getGroupResizeOrder","isGroupUpdated","collectionEle","Overflow","groupHidden","itemHidden","isAllItemHidden","isEmptyCollection_1","groupItems","i_1","indexOf","calculateOverflowItemsWidth","calculateMediumDataWidth","i_2","createOverflowPopup","DropDown","GroupButton","updatePopupItems","constants.RIBBON_ITEM","itemsLength","checkEmptyCollection","isEmptyCollection","isGroupOF","isMenu","isLeft","removeProperty","isClear","flag","overflowtarget","overflowDDBEle","groupItemEle","isGroupHidden","widthDifference","checkWidthDifference","removeOverflowEvent","groupElement","childElementCount","isHeaderVisible","removeOverflowButton","ofGroupContainer","groupId","isHidden","isItemHidden","overflowTab","groupTabContainer","groupHeader","isResize","addOverflowButton","constants.RIBBON_GROUP_OF_BUTTON","overflowBtnTarget","overflowHeader","groupHeader_1","constants.RIBBON_OVERFLOW_HEADER","createGroupContainer","createOfTabContainer","constants.OVRLOF_BUTTON_ID","collapseButton","constants.RIBBON_OVERALL_OF_BUTTON","addOverflowEvents","ribbonButtonModule","ribbonSplitButtonModule","ribbonCheckBoxModule","ribbonColorPickerModule","ribbonComboBoxModule","ribbonGroupButtonModule","constants.RIBBON_OF_TAB_CONTAINER","isLarge","checkLargeToMedium","checkMediumToSmall","checkValidCollectionLength","ind","checkClassicCollection","isIncrement","checkClassicItem","shouldSkip","isCollapsed","canReduceCollection","canReduceItem","createShrinkEle","firstItem","start","end","shrinkEle","constants.RIBBON_ROW","data-start","data-end","moveItemToColumn","moveCollectionToColumn","orientation","Column","m","shrinkColumns","reduceItemsToSmall","middle","reduce","ele_1","reduceCollectionsToSmall","ele_2","setWidth","classicItems","shrinkColumn","isSmall","checkSmallToMedium","checkMediumToLarge","shouldClear","canExpandItem","expandItemToMedium","parentEle","ele_4","expandCollectionsToMedium","ele_5","Row","expandItemsToLarge","container","ele_6","insertAdjacentElement","expandCollectionsToLarge","ele_7","handleContentSize","isRemoveOverflow","constants.RIBBON_GROUP_CONTENT","constants.RIBBON_CONTENT_HEIGHT","Template","createTemplateContent","constants.RIBBON_LARGE_ITEM","constants.RIBBON_MEDIUM_ITEM","constants.RIBBON_SMALL_ITEM","collapseOrder","groupOverFlow","constants.RIBBON_GROUP_OVERFLOW","constants.DROPDOWN_ID","i_3","expandOrder","this_2","removeDropdown","state_1","isCollapse","isUndefined","sort","a","priority","reverse","clearOverflowDropDown","nextTabId","selectingItem","previousTabId","nextIndex","selectedTabContent","constants.RIBBON_GROUP","elements","createGroups","_loop_3","ribbonTab","this_3","ondblclick","constants.RIBBON_TAB_ITEM","constants.RIBBON_SIMPLIFIED_MODE","btnId","constants.RIBBON_OVERFLOW_TARGET","constants.OVERFLOW_ICON","constants.DROPDOWNBUTTON_HIDE","constants.RIBBON_GROUP_OVERFLOW_DDB","ribbonArgs","constants.RIBBON_POPUP_CONTROL","constants.RIBBON_OVERFLOW","isGroupOf","upDownKeyHandler","getElementsByClassName","templateEle","findDisabledItem","currentItemIndex","itemType","controlItem","checkBoxEle","checkBox","isIncrease","constants.RIBBON_OF_GROUP_CONTAINER","ofGroupHeader","constants.RIBBON_COLLAPSE_BUTTON","constants.EXPAND_COLLAPSE_ICON","constants.COLLAPSE_BUTTON_ID","aria-label","role","constants.RIBBON_COLLAPSIBLE","constants.RIBBON_EXPAND_BUTTON","layoutSwitcherKeyTip","removeExpandCollapse","reRenderTabs","isNewTab","destroyTabItems","innerText","_i","groups_1","_a","_b","_c","_d","destroyFunction","groupList","i_4","alignType","i_5","groupContent","constants.RIBBON_COLUMN","groupCollection","itemList","itemEle_1","size","createItems","i_6","constants.RIBBON_GROUP_HEADER","ele_8","itemsize","createLauncherIcon","launcherIcon","constants.RIBBON_LAUNCHER_ICON_ELE","launcherIconCss","constants.RIBBON_LAUNCHER_ICON","constants.LAUNCHER_ID","constants.RIBBON_LAUNCHER","launcherIconClicked","launcherIconKeyTip","groupElements","showLauncherIcon","createCollection","isItemsHidden","initialProps","updateGroupProps","disabledGroups","collectionList","ribbonitem","sizeVal","collectionElements","constants.RIBBON_COLLECTION","createRibbonItem","itemElements","constants.DISABLED_CSS","i_7","hiddenItems","helpPaneTemplate","clearTemplate","ribbonTempEle","constants.RIBBON_HELP_TEMPLATE","constants.RIBBON_HELP_PANE_TEMPLATE_ID","after","renderReactTemplates","constants.RIBBON_TEMPLATE","renderItemTemplate","list","initId","listitem","htmlAttrID","hasHtmlAtrrID","listItem","setCommonProperties","_e","getItemModuleName","i_8","i_9","removeLauncherIcon","containerId","_loop_4","groupButtonID_1","this_4","galleryPopupBtn","clearOverflowResize","selectTab","tabId","showTab","showHideTab","hideTab","contextualTab_1","isTabHidden","_loop_5","index_1","this_5","enableTab","enableDisableTab","disableTab","addTab","isAfter","tabItem","removeTab","groups_2","addGroup","ribbonGroups","removeGroup","removeItemElement","groupID","hideGroup","showHideGroup","showGroup","updateHiddenElements","updateInitialProps","grpContainer","checkHiddenElements","checkHiddenItems","hiddenProps","updateItemsSimplifiedWidth","out_i_1","_loop_6","hiddenEle","this_6","hiddenWidth","mediumDataItems","overflowItems","selectedOFTab","ofTab","hasAttribute","groupOFButton","i_10","previousWidth","hiddenItem","i_11","disableGroup","enableDisableGroup","enableGroup","isDisabled","addCollection","ribbonCollections","collection_1","removeCollection","collectionId","ribbonGroup","addItem","ribbonItems","item_1","removeItem","itemId","ribbonCollection","hideItem","showHideItem","showItem","isInsert","checkOverflowItems","updateTab","groups_3","updateGroup","removeCss","match","removeClass","ribbongroup","updateCollection","ribboncollection","enableDisableItem","getElementById","enableItem","disableItem","isUpdated","toggleAttribute","unwireEvents","refreshing","undefined","onPropertyChanged","newProp","oldProp","toolbarItem","updateContextualTabs","updateFileMenu","updateBackStageMenu","TabAnimationSettings","NotifyPropertyChanges","Component","RibbonFileMenu","fileMenuDDB","destroyDDB","fileMenuOptions","ddbElement","ddbBeforeEvent","ddbAfterEvent","createRibbonMenu","refreshActiveTabBorder","addFileMenuTooltip","addFileMenuKeytip","cloneMenuItem","itemsList","separator","url","menuOptions","ulElem","constants.RIBBON_FILE_MENU_LIST","menuctrl","Menu","animationSettings","showItemOnClick","menuBeforeEvent","onClose","menuAfterEvent","onOpen","menuSelect","parentItem","destroyMenu","removeFileMenuTooltip","removeFileMenuKeytip","insertAfter","enableItems","disableItems","setItem","refresh","RibbonBackstage","backstageButton","backStageOptions","backstageButtonEle","constants.RIBBON_BACKSTAGE_MENU_ID","constants.RIBBON_BACKSTAGE","createBackStagePopup","createBackStageTemplate","footerItemCount","isFooter","createBackstageMenu","menuCtrl","checkMenuItems","footerMenuCtrl","stopPropagation","showBackstage","popupHTMLElement","constants.RIBBON_BACKSTAGE_OPEN","menuItem","menuWrapper","firstMenuEle","createBackStageContent","addBackStageMenuTooltip","addBackStageMenuKeyTip","onClickEvent","backStageItems","constants.RIBBON_BACKSTAGE_POPUP_ID","constants.RIBBON_BACKSTAGE_POPUP","HTMLElement","updatePopupPositionOnRtl","popupStyle","right","constants.RIBBON_BACKSTAGE_MENU_WRAPPER","backButton","closeBtnEle","closeBtn","constants.BACKSTAGE_CLOSE_ICON","isBackButtonClicked","itemsWrapperEle","constants.RIBBON_BACKSTAGE_ITEMS_WRAPPER","ulFooterElem","constants.RIBBON_FOOTER_MENU_LIST","ulMenuElem","constants.RIBBON_BACKSTAGE_MENU","cloneFooterMenuItem","backstageContentEle","constants.RIBBON_BACKSTAGE_CONTENT","backstageTempEle","constants.RIBBON_BACKSTAGE_TEMPLATE","contentItem","isBackButton","backStageItemClick","removeBackstageMenuTooltip","removeBackstageMenuKeyTip","addBackstageItems","backstageItems","item1","removeBackstageItems","RibbonContextualTab","constants.RIBBON_CONTEXTUAL_TAB","contextualTab","RibbonKeyTip","isKeytipPopupOpen","createKeyTipElement","popupKeyTipData","backstageKeyTipData","calculateItemPosition","isMethod","xOffset","yOffset","includes","isTab","isPopUpItem","splitBtnID","keyEle","isPopUpPresent","offsetParent","keytipElement","constants.RIBBON_KEYTIP","constants.RIBBON_KEYTIP_ID","calculateKeyTipPosition","isTabOverflow","isKeytipPresent","toUpperCase","setTimeout","galleryID","clickItems","commonItemsKeyTipPress","isGroupItems","isKeyPressed","keytipData_1","keyText","showKeyTips","hideKeyTips"],"mappings":"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"}